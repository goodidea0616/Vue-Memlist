(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-083fdbd4"],{"0e59":function(t,e,a){},1439:function(t,e,a){"use strict";a("0e59")},cc49:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-card",{staticClass:"mx-auto mt-12 register-body mb-5"},["ok"===t.show?a("b-alert",{attrs:{show:"",variant:"success"}},[t._v("Tack för ditt svar!")]):t._e(),"reject"===t.show?a("b-alert",{attrs:{show:"",variant:"success"}},[t._v("Tack! Du kommer inom kort att bli borttagen som medlem")]):t._e(),"answer"===t.show?a("div",[a("h3",{staticClass:"text-center mt-4 mb-4"},[t._v("Bekräfta ditt medlemskap")]),void 0!==t.company&&null!==t.company&&void 0!==t.company.logo&&-1===t.company.logo.indexOf("placeholder")?a("b-img",{attrs:{src:t.company.logo,fluid:"",alt:"Responsive image"}}):t._e(),void 0!==t.company&&null!==t.company?a("b-alert",{staticClass:"ml-6 mr-6 mt-8 mb-4",attrs:{show:"",variant:"light"}},[t._v("Vänligen bekräfta att du fortfarande är medlem i "),a("strong",[t._v(t._s(t.company.name))]),t._v(" genom att fylla i nedanstående information")]):t._e(),a("form",{staticClass:"register-form"},[a("b-form-input",{staticClass:"mb-8",attrs:{type:"text",placeholder:"Förnamn"},model:{value:t.form.firstname,callback:function(e){t.$set(t.form,"firstname",e)},expression:"form.firstname"}}),a("b-form-input",{staticClass:"mb-8",attrs:{type:"text",placeholder:"Efternamn"},model:{value:t.form.lastname,callback:function(e){t.$set(t.form,"lastname",e)},expression:"form.lastname"}}),a("b-form-input",{staticClass:"mb-8",attrs:{type:"text",placeholder:"Personnummer"},model:{value:t.form.personnr,callback:function(e){t.$set(t.form,"personnr",e)},expression:"form.personnr"}}),a("b-form-input",{staticClass:"mb-8",attrs:{type:"text",placeholder:"Telefon"},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}}),a("b-form-input",{staticClass:"mb-8",attrs:{type:"email",placeholder:"E-post"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),a("div",{staticClass:"d-flex align-items-center justify-content-between mb-8"},[a("b-button",{staticClass:"btn-register",attrs:{variant:"primary"},on:{click:t.onSubmit}},[t._v("Bekräfta medlemskap")]),a("b-button",{staticClass:"btn-register",attrs:{variant:"danger"},on:{click:t.onReject}},[t._v("Jag är ej medlem")])],1)],1)],1):t._e()],1)},r=[],s=a("bc3a"),o=a.n(s),i={name:"register-member-no-account",data:function(){return{form:{email:"",password:"",company_id:"",firstname:"",lastname:"",phone:"",personnr:""},showWarning:!1,showForm:!1,spurl:null,company:null,show:"answer"}},mounted:function(){this.spurl=this.$route.params.id,this.loadClient()},methods:{reject:function(){var t=this;o.a.put("/client_stickprov/answer",{answer:0,client_id:this.form.client_id,stickprov_id:this.form.stickprov.id}).then((function(e){t.toastr("success","OK","Svaret registrerat"),t.show="reject"})).catch((function(e){console.error(e),t.toastr("danger","Server Fel","Kunde inte skicka svar")}))},confirm:function(){var t=this;o.a.put("/client_stickprov/answer",{answer:1,client_id:this.form.client_id,stickprov_id:this.form.stickprov.id}).then((function(e){t.toastr("success","OK","Ditt medlemskap är nu bekräftat"),t.show="ok"})).catch((function(e){console.error(e),t.toastr("danger","Server Fel","Kunde inte skicka svar")}))},loadClient:function(){var t=this;o.a.get("/client/spurl?url=".concat(this.spurl)).then((function(e){t.form=e.data.client,t.company=e.data.company})).catch((function(e){console.error(e),t.toastr("danger","Server Fel","Kunde inte hitta medlemsdata")}))},onSubmit:function(){this.confirm()},onReject:function(){this.reject()},toastr:function(t,e,a){this.$bvToast.toast(a,{title:e,autoHideDelay:2e3,appendToast:!0,variant:t})}}},c=i,l=(a("1439"),a("2877")),m=Object(l["a"])(c,n,r,!1,null,"1e36d8d8",null);e["default"]=m.exports}}]);
//# sourceMappingURL=chunk-083fdbd4.bdefaea2.js.map