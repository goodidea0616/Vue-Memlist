{"version":3,"sources":["webpack:///./src/view/pages/members/public/Stickprov.vue?458a","webpack:///./src/view/pages/members/public/Stickprov.vue?43da","webpack:///src/view/pages/members/public/Stickprov.vue","webpack:///./src/view/pages/members/public/Stickprov.vue?e358","webpack:///./src/view/pages/members/public/Stickprov.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","show","attrs","_v","_e","undefined","company","logo","indexOf","_s","name","model","value","form","callback","$$v","$set","expression","on","onSubmit","onReject","staticRenderFns","data","email","password","company_id","firstname","lastname","phone","personnr","showWarning","showForm","spurl","mounted","$route","params","id","loadClient","methods","reject","confirm","toastr","$bvToast","toast","message","title","autoHideDelay","appendToast","variant","type","component"],"mappings":"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","file":"js/chunk-083fdbd4.bdefaea2.js","sourcesContent":["export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Stickprov.vue?vue&type=style&index=0&id=1e36d8d8&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-card',{staticClass:\"mx-auto mt-12 register-body mb-5\"},[(_vm.show === 'ok')?_c('b-alert',{attrs:{\"show\":\"\",\"variant\":\"success\"}},[_vm._v(\"Tack för ditt svar!\")]):_vm._e(),(_vm.show === 'reject')?_c('b-alert',{attrs:{\"show\":\"\",\"variant\":\"success\"}},[_vm._v(\"Tack! Du kommer inom kort att bli borttagen som medlem\")]):_vm._e(),(_vm.show === 'answer')?_c('div',[_c('h3',{staticClass:\"text-center mt-4 mb-4\"},[_vm._v(\"Bekräfta ditt medlemskap\")]),(_vm.company !== undefined && _vm.company !== null && _vm.company.logo !== undefined && _vm.company.logo.indexOf('placeholder') === -1)?_c('b-img',{attrs:{\"src\":_vm.company.logo,\"fluid\":\"\",\"alt\":\"Responsive image\"}}):_vm._e(),(_vm.company !== undefined && _vm.company !== null)?_c('b-alert',{staticClass:\"ml-6 mr-6 mt-8 mb-4\",attrs:{\"show\":\"\",\"variant\":\"light\"}},[_vm._v(\"Vänligen bekräfta att du fortfarande är medlem i \"),_c('strong',[_vm._v(_vm._s(_vm.company.name))]),_vm._v(\" genom att fylla i nedanstående information\")]):_vm._e(),_c('form',{staticClass:\"register-form\"},[_c('b-form-input',{staticClass:\"mb-8\",attrs:{\"type\":\"text\",\"placeholder\":\"Förnamn\"},model:{value:(_vm.form.firstname),callback:function ($$v) {_vm.$set(_vm.form, \"firstname\", $$v)},expression:\"form.firstname\"}}),_c('b-form-input',{staticClass:\"mb-8\",attrs:{\"type\":\"text\",\"placeholder\":\"Efternamn\"},model:{value:(_vm.form.lastname),callback:function ($$v) {_vm.$set(_vm.form, \"lastname\", $$v)},expression:\"form.lastname\"}}),_c('b-form-input',{staticClass:\"mb-8\",attrs:{\"type\":\"text\",\"placeholder\":\"Personnummer\"},model:{value:(_vm.form.personnr),callback:function ($$v) {_vm.$set(_vm.form, \"personnr\", $$v)},expression:\"form.personnr\"}}),_c('b-form-input',{staticClass:\"mb-8\",attrs:{\"type\":\"text\",\"placeholder\":\"Telefon\"},model:{value:(_vm.form.phone),callback:function ($$v) {_vm.$set(_vm.form, \"phone\", $$v)},expression:\"form.phone\"}}),_c('b-form-input',{staticClass:\"mb-8\",attrs:{\"type\":\"email\",\"placeholder\":\"E-post\"},model:{value:(_vm.form.email),callback:function ($$v) {_vm.$set(_vm.form, \"email\", $$v)},expression:\"form.email\"}}),_c('div',{staticClass:\"d-flex align-items-center justify-content-between mb-8\"},[_c('b-button',{staticClass:\"btn-register\",attrs:{\"variant\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"Bekräfta medlemskap\")]),_c('b-button',{staticClass:\"btn-register\",attrs:{\"variant\":\"danger\"},on:{\"click\":_vm.onReject}},[_vm._v(\"Jag är ej medlem\")])],1)],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <b-card class=\"mx-auto mt-12 register-body mb-5\">\r\n    <b-alert v-if=\"show === 'ok'\" show variant=\"success\">Tack för ditt svar!</b-alert>\r\n    <b-alert v-if=\"show === 'reject'\" show variant=\"success\">Tack! Du kommer inom kort att bli borttagen som medlem</b-alert>\r\n    <div v-if=\"show === 'answer'\">\r\n      <h3 class=\"text-center mt-4 mb-4\">Bekräfta ditt medlemskap</h3>\r\n\r\n      <b-img v-if=\"company !== undefined && company !== null && company.logo !== undefined && company.logo.indexOf('placeholder') === -1\" :src=\"company.logo\" fluid alt=\"Responsive image\"></b-img>\r\n\r\n      <b-alert v-if=\"company !== undefined && company !== null\" class=\"ml-6 mr-6 mt-8 mb-4\" show variant=\"light\">Vänligen bekräfta att du fortfarande är medlem i <strong>{{ company.name }}</strong> genom att fylla i nedanstående information</b-alert>\r\n\r\n      <form class=\"register-form\">\r\n        <b-form-input type=\"text\" v-model=\"form.firstname\" class=\"mb-8\" placeholder=\"Förnamn\" />\r\n        <b-form-input type=\"text\" v-model=\"form.lastname\" class=\"mb-8\" placeholder=\"Efternamn\" />\r\n        <b-form-input type=\"text\" v-model=\"form.personnr\" class=\"mb-8\" placeholder=\"Personnummer\" />\r\n        <b-form-input type=\"text\" v-model=\"form.phone\" class=\"mb-8\" placeholder=\"Telefon\" />\r\n        <b-form-input type=\"email\" v-model=\"form.email\" class=\"mb-8\" placeholder=\"E-post\" />\r\n\r\n        <div class=\"d-flex align-items-center justify-content-between mb-8\">\r\n          <b-button class=\"btn-register\" variant=\"primary\" @click=\"onSubmit\"\r\n            >Bekräfta medlemskap</b-button\r\n          >\r\n           <b-button class=\"btn-register\" variant=\"danger\" @click=\"onReject\"\r\n            >Jag är ej medlem</b-button\r\n          >\r\n        </div>\r\n\r\n      </form>\r\n    </div>\r\n  </b-card>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n.register-body {\r\n  max-width: 500px;\r\n  width: 100%;\r\n  .register-form {\r\n    padding: 2rem 1.5rem 2rem 1.5rem;\r\n    .btn-login {\r\n      font-size: 1.2rem;\r\n      font-weight: 500;\r\n      padding: 1rem 3rem;\r\n      background-color: #5d78ff;\r\n      border-color: #5d78ff;\r\n      &:hover {\r\n        background-color: #3758ff;\r\n        border-color: #2a4eff;\r\n      }\r\n    }\r\n  }\r\n  .warning-message {\r\n    padding: 30px 20px;\r\n  }\r\n}\r\n</style>\r\n\r\n<script>\r\n\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: 'register-member-no-account',\r\n  data() {\r\n    return {\r\n      // Remove this dummy login info\r\n      form: {\r\n        email: '',\r\n        password: '',\r\n        company_id: '',\r\n        firstname: '',\r\n        lastname: '',\r\n        phone: '',\r\n        personnr: ''\r\n      },\r\n      showWarning: false,\r\n      showForm: false,\r\n      spurl: null,\r\n      company: null,\r\n      show: 'answer'\r\n    };\r\n  },\r\n  mounted() {\r\n    this.spurl = this.$route.params.id;\r\n\r\n    this.loadClient();\r\n  },\r\n  methods: {\r\n    reject() {\r\n      axios\r\n        .put('/client_stickprov/answer', {\r\n          answer: 0,\r\n          client_id: this.form.client_id,\r\n          stickprov_id: this.form.stickprov.id\r\n        })\r\n        .then(res => {\r\n          this.toastr('success', 'OK', 'Svaret registrerat');\r\n          this.show = 'reject';\r\n        })\r\n        .catch(err => {\r\n          console.error(err);\r\n          this.toastr('danger', 'Server Fel', 'Kunde inte skicka svar');\r\n        });\r\n\r\n    },\r\n    confirm() {\r\n      axios\r\n        .put('/client_stickprov/answer', {\r\n          answer: 1,\r\n          client_id: this.form.client_id,\r\n          stickprov_id: this.form.stickprov.id\r\n        })\r\n        .then(res => {\r\n          this.toastr('success', 'OK', 'Ditt medlemskap är nu bekräftat');\r\n          this.show = 'ok';\r\n        })\r\n        .catch(err => {\r\n          console.error(err);\r\n          this.toastr('danger', 'Server Fel', 'Kunde inte skicka svar');\r\n        });\r\n    },\r\n    loadClient() {\r\n      axios\r\n        .get(`/client/spurl?url=${this.spurl}`)\r\n        .then(res => {\r\n          this.form = res.data.client;\r\n          this.company = res.data.company;\r\n        })\r\n        .catch(err => {\r\n          console.error(err);\r\n          this.toastr('danger', 'Server Fel', 'Kunde inte hitta medlemsdata');\r\n        });\r\n    },\r\n    onSubmit() {\r\n      this.confirm();\r\n    },\r\n    onReject() {\r\n      this.reject();\r\n    },\r\n    toastr(type, title, message) {\r\n      this.$bvToast.toast(message, {\r\n        title: title,\r\n        autoHideDelay: 2000,\r\n        appendToast: true,\r\n        variant: type\r\n      });\r\n    }\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Stickprov.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Stickprov.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Stickprov.vue?vue&type=template&id=1e36d8d8&scoped=true&\"\nimport script from \"./Stickprov.vue?vue&type=script&lang=js&\"\nexport * from \"./Stickprov.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Stickprov.vue?vue&type=style&index=0&id=1e36d8d8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1e36d8d8\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}