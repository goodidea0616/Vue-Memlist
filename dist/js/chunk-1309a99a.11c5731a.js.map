{"version":3,"sources":["webpack:///./src/view/pages/ml/Users.vue?7131","webpack:///./src/view/pages/ml/users/UserCompanyAccessRow.vue?2031","webpack:///./src/view/pages/ml/users/UserPagesCompanyTableRow.vue?371e","webpack:///./src/view/pages/ml/users/UserPagesCompanyTable.vue?ac2a","webpack:///./src/view/pages/ml/users/UserCompanyAccess.vue?9a19","webpack:///./src/view/pages/ml/Users.vue?f8ff","webpack:///./src/view/pages/ml/users/UsersTable.vue?0ad0","webpack:///./src/view/pages/ml/users/UserTableRow.vue?e1a3","webpack:///src/view/pages/ml/users/UserTableRow.vue","webpack:///./src/view/pages/ml/users/UserTableRow.vue?0bc7","webpack:///./src/view/pages/ml/users/UserTableRow.vue","webpack:///src/view/pages/ml/users/UsersTable.vue","webpack:///./src/view/pages/ml/users/UsersTable.vue?a649","webpack:///./src/view/pages/ml/users/UsersTable.vue","webpack:///./src/view/pages/ml/users/UserCompanyAccess.vue?e8fc","webpack:///./src/view/pages/ml/users/UserCompanyAccessRow.vue?e5ab","webpack:///src/view/pages/ml/users/UserCompanyAccessRow.vue","webpack:///./src/view/pages/ml/users/UserCompanyAccessRow.vue?b1f8","webpack:///./src/view/pages/ml/users/UserCompanyAccessRow.vue","webpack:///src/view/pages/ml/users/UserCompanyAccess.vue","webpack:///./src/view/pages/ml/users/UserCompanyAccess.vue?626d","webpack:///./src/view/pages/ml/users/UserCompanyAccess.vue","webpack:///./src/view/pages/ml/users/UserPagesAccess.vue?47ac","webpack:///./src/view/pages/ml/users/UserPagesCompanyTable.vue?a969","webpack:///./src/view/pages/ml/users/UserPagesCompanyTableRow.vue?46aa","webpack:///src/view/pages/ml/users/UserPagesCompanyTableRow.vue","webpack:///./src/view/pages/ml/users/UserPagesCompanyTableRow.vue?68f5","webpack:///./src/view/pages/ml/users/UserPagesCompanyTableRow.vue","webpack:///src/view/pages/ml/users/UserPagesCompanyTable.vue","webpack:///./src/view/pages/ml/users/UserPagesCompanyTable.vue?6101","webpack:///./src/view/pages/ml/users/UserPagesCompanyTable.vue","webpack:///src/view/pages/ml/users/UserPagesAccess.vue","webpack:///./src/view/pages/ml/users/UserPagesAccess.vue?f9eb","webpack:///./src/view/pages/ml/users/UserPagesAccess.vue","webpack:///src/view/pages/ml/Users.vue","webpack:///./src/view/pages/ml/Users.vue?55d9","webpack:///./src/view/pages/ml/Users.vue","webpack:///./src/view/pages/ml/users/UserPagesAccess.vue?f889","webpack:///./src/view/pages/ml/users/UserTableRow.vue?890c","webpack:///./src/view/pages/ml/users/UsersTable.vue?69d4"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","users","titles","on","inviteUser","createUser","selectUser","deleteUser","changeUserAccess","toastr","staticStyle","$event","preventDefault","inviteEmail","model","value","callback","$$v","invite_email","expression","hideInvite","_e","creating","editing","ref","isTalongAdmin","user_id","companyTitles","saveUser","accessLoaded","userCreated","accessList","loadAllAccess","companyAccess","companies","staticRenderFns","inviteUserClicked","createUserClicked","headers","items","scopedSlots","_u","key","fn","row","directives","name","rawName","item","domProps","Array","isArray","director","_i","$$a","$$el","target","$$c","checked","$$i","$set","concat","slice","clickedDirector","accountant","clickedAccountant","selectUserClicked","deleteUserClicked","getLoginLink","loginUserClicked","_s","user","email","title","is_director","is_accountant","props","computed","data","mounted","watch","methods","$emit","routeData","href","getTitle","forEach","t","id","title_id","component","components","UserTableRow","console","log","type","message","list","_m","_l","i","company","company_id","hasAccess","access","updateAccess","has_access","newValue","setCompanyAccess","$bvToast","toast","autoHideDelay","appendToast","variant","UserCompanyAccessRow","acl","checkAllPages","checkAllPagesClicked","checkAllAdmin","checkAllAdminClicked","a","p","pageAccessUpdated","adminAccessUpdated","pageAccess","updatePageAccess","adminAccess","updateAdminAccess","names","page","UserPagesCompanyTableRow","access_list","sortAccessList","k","sorted_access_list","val","push","sort","caption","b","currentUserId","UserPagesCompanyTable","UsersTable","system_pages_translate","checkedAll","checkedAllAdmin","currentCompanyId","loadUsers","checkAllPerm","newVal","checkAllAdminPerm","checkedAccess","length","tmpAccess","diff","oldValue","newAccess","found","j","res","status","error","err","checkedAccessAdmin","tmpAccessAdmin","inviting","setCompany","tt","form","scrollToEditUser","loadAccess","accessData","aa","adm","undefined","loadUserAccess","loadCompanies","getLangText","lang_text","personnrChanged","result","fmt_personnr","formatted","sex","scrollToClassName","that","setTimeout","el","window","scrollTo","e","VTab","VTabItem","VTabs"],"mappings":"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","file":"js/chunk-1309a99a.11c5731a.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=style&index=0&id=be38831a&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserCompanyAccessRow.vue?vue&type=style&index=0&id=9a4042ac&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPagesCompanyTableRow.vue?vue&type=style&index=0&id=4e1d59a2&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPagesCompanyTable.vue?vue&type=style&index=0&id=6e647b64&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserCompanyAccess.vue?vue&type=style&index=0&id=a736c90c&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"px-5\",attrs:{\"id\":\"page-users\"}},[_c('h5',{staticClass:\"mb-6 ml-2\"},[_vm._v(\"Användare\")]),_c('UsersTable',{attrs:{\"items\":_vm.users,\"titles\":_vm.titles},on:{\"inviteUserClicked\":_vm.inviteUser,\"createUserClicked\":_vm.createUser,\"selectUserClicked\":_vm.selectUser,\"deleteUserClicked\":_vm.deleteUser,\"changeUserAccess\":_vm.changeUserAccess,\"toastr\":_vm.toastr}}),(_vm.inviting)?_c('b-card',{staticClass:\"mb-2\",staticStyle:{\"max-width\":\"40rem\"},attrs:{\"title\":\"Bjud in användare\",\"tag\":\"article\"}},[_c('b-card-text',[_vm._v(\" Lägg till en ny användare genom att ange e-postadressen till personen nedan. \")]),_c('b-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.inviteEmail($event)}}},[_c('b-form-input',{attrs:{\"id\":\"invite-email\",\"required\":\"\",\"placeholder\":\"E-post\"},model:{value:(_vm.invite_email),callback:function ($$v) {_vm.invite_email=$$v},expression:\"invite_email\"}}),_c('b-button',{staticClass:\"mt-2 mr-2\",attrs:{\"type\":\"button\",\"variant\":\"primary\"},on:{\"click\":_vm.hideInvite}},[_vm._v(\"Avbryt\")]),_c('b-button',{staticClass:\"mt-2\",attrs:{\"type\":\"submit\",\"variant\":\"primary\"}},[_vm._v(\"Bjud in\")])],1)],1):_vm._e(),_c('div',{staticClass:\"scroll-to-container\"}),(_vm.creating || _vm.editing)?_c('b-card',{ref:\"edit-user\",staticClass:\"mb-2 edit-user-container\",attrs:{\"title\":\"\",\"id\":\"edit-user\",\"hide-footer\":\"\"}},[_c('v-tabs',{attrs:{\"background-color\":\"white\",\"color\":\"accent-4\",\"right\":\"\"}},[_c('v-tab',[_vm._v(\"Användardata\")]),(_vm.editing)?_c('v-tab',[_vm._v(\"Tillgång\")]):_vm._e(),(_vm.editing)?_c('v-tab',[_vm._v(\"Notifikationer\")]):_vm._e(),(_vm.editing && _vm.isTalongAdmin)?_c('v-tab',[_vm._v(\"Föreningar\")]):_vm._e(),_c('v-tab-item',[_c('UserEdit',{attrs:{\"creating\":_vm.creating,\"user_id\":_vm.user_id,\"companyTitles\":_vm.companyTitles},on:{\"saveUser\":_vm.saveUser,\"accessLoaded\":_vm.accessLoaded,\"userCreated\":_vm.userCreated}})],1),(_vm.editing)?_c('v-tab-item',[_c('b-alert',{staticClass:\"mt-8\",attrs:{\"show\":\"\",\"variant\":\"light\"}},[_vm._v(\" Användaren kommer att få tillgång till angivna sidor för respektive förening. Ifall \\\"Kan tilldela\\\" är i checkad så kan användaren ge den tillgången till andra användare. \")]),_c('UserPagesAccess',{attrs:{\"user_id\":_vm.user_id,\"access_list\":_vm.accessList},on:{\"updatedAccess\":_vm.loadAllAccess}})],1):_vm._e(),(_vm.editing)?_c('v-tab-item',[_c('b-alert',{staticClass:\"mt-8\",attrs:{\"show\":\"\",\"variant\":\"light\"}},[_vm._v(\" Följande notifikationer kommer användaren att ta del av per förening. Observera att avgift tillkommer på skickade SMS. \")]),_c('UserNotifications',{staticClass:\"mt-8\",attrs:{\"company_access\":_vm.companyAccess}})],1):_vm._e(),(_vm.editing && _vm.isTalongAdmin)?_c('v-tab-item',[_c('b-alert',{staticClass:\"mt-8\",attrs:{\"show\":\"\",\"variant\":\"light\"}},[_vm._v(\" Ange vilka föreningar som användaren ska ha tillgång till \")]),_c('UserCompanyAccess',{staticClass:\"mt-8\",attrs:{\"user_id\":_vm.user_id,\"company_access\":_vm.companyAccess,\"companies\":_vm.companies}})],1):_vm._e()],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"card card-custom card-stretch gutter-b\"},[_c('div',{staticClass:\"card-header border-0 py-5\"},[_c('h3',{staticClass:\"card-title align-items-start flex-column pl-2\"}),_c('div',{staticClass:\"card-toolbar\"},[_c('a',{staticClass:\"btn btn-primary font-weight-bolder font-size-sm mr-2 my-2\",attrs:{\"href\":\"#\"},on:{\"click\":_vm.inviteUserClicked}},[_c('i',{staticClass:\"menu-icon flaticon2-plus\",staticStyle:{\"font-size\":\"1.0em\"}}),_vm._v(\"Bjud in\")]),_c('a',{staticClass:\"btn btn-primary font-weight-bolder font-size-sm\",attrs:{\"href\":\"#\"},on:{\"click\":_vm.createUserClicked}},[_c('i',{staticClass:\"menu-icon flaticon2-plus\",staticStyle:{\"font-size\":\"1.0em\"}}),_vm._v(\"Ny Användare\")])])]),_c('div',{staticClass:\"card-body pt-0 table-responsive\"},[_c('b-table',{staticClass:\"mh-100\",attrs:{\"id\":\"template-table\",\"fields\":_vm.headers,\"items\":_vm.items,\"head-variant\":\"light\",\"sticky-header\":\"\"},scopedSlots:_vm._u([{key:\"cell(director)\",fn:function(row){return [_c('div',{staticClass:\"d-flex align-items-center\"},[_c('label',{staticClass:\"checkbox checkbox-lg checkbox-outline checkbox-success\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(row.item.director),expression:\"row.item.director\"}],attrs:{\"type\":\"checkbox\",\"name\":\"\"},domProps:{\"checked\":Array.isArray(row.item.director)?_vm._i(row.item.director,null)>-1:(row.item.director)},on:{\"change\":[function($event){var $$a=row.item.director,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(row.item, \"director\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(row.item, \"director\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(row.item, \"director\", $$c)}},function($event){return _vm.clickedDirector(row.item)}]}}),_c('span')]),_c('span',{staticClass:\"ml-3 cursor-pointer\"})])]}},{key:\"cell(accountant)\",fn:function(row){return [_c('div',{staticClass:\"d-flex align-items-center\"},[_c('label',{staticClass:\"checkbox checkbox-lg checkbox-outline checkbox-success\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(row.item.accountant),expression:\"row.item.accountant\"}],attrs:{\"type\":\"checkbox\",\"name\":\"\"},domProps:{\"checked\":Array.isArray(row.item.accountant)?_vm._i(row.item.accountant,null)>-1:(row.item.accountant)},on:{\"change\":[function($event){var $$a=row.item.accountant,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(row.item, \"accountant\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(row.item, \"accountant\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(row.item, \"accountant\", $$c)}},function($event){return _vm.clickedAccountant(row.item)}]}}),_c('span')]),_c('span',{staticClass:\"ml-3 cursor-pointer\"})])]}},{key:\"cell(id)\",fn:function(row){return [_c('div',{staticClass:\"justify-content-end d-flex\"},[_c('a',{staticClass:\"btn btn-icon btn-light btn-sm mx-3\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){return _vm.selectUserClicked(row.item.user_id)}}},[_c('span',{staticClass:\"svg-icon svg-icon-md svg-icon-primary\"},[_c('inline-svg',{attrs:{\"src\":\"/assets/svg/Write.svg\"}})],1)]),_c('a',{staticClass:\"btn btn-icon btn-light btn-sm mr-3\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){return _vm.deleteUserClicked(row.item.user_id)}}},[_c('span',{staticClass:\"svg-icon svg-icon-md svg-icon-primary\"},[_c('inline-svg',{attrs:{\"src\":\"/assets/svg/Trash.svg\"}})],1)]),(_vm.isTalongAdmin)?_c('a',{staticClass:\"btn btn-icon btn-light btn-sm mr-3\",attrs:{\"href\":_vm.getLoginLink(row.item)},on:{\"click\":function($event){return _vm.loginUserClicked(row.item.user_id)}}},[_c('span',{staticClass:\"svg-icon svg-icon-md svg-icon-primary\"},[_c('i',{staticClass:\"fas fa-sign-in-alt\",staticStyle:{\"font-size\":\"48px\",\"color\":\"#3699FF\"}})])]):_vm._e()])]}}])})],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',[_c('td',[_c('span',{staticClass:\"text-dark-75 font-weight-bolder d-block font-size-lg pl-4\"},[_vm._v(_vm._s(_vm.user.name))])]),_c('td',[_c('span',{staticClass:\"text-dark-75 font-weight-bolder d-block font-size-lg\"},[_vm._v(_vm._s(_vm.user.email))])]),_c('td',[_c('span',{staticClass:\"text-dark-75 font-weight-bolder d-block font-size-lg\"},[_vm._v(_vm._s(_vm.user.title))])]),_c('td',[_c('div',{staticClass:\"d-flex align-items-center\"},[_c('label',{staticClass:\"checkbox checkbox-lg checkbox-outline checkbox-success\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.is_director),expression:\"is_director\"}],attrs:{\"type\":\"checkbox\",\"name\":\"\"},domProps:{\"checked\":Array.isArray(_vm.is_director)?_vm._i(_vm.is_director,null)>-1:(_vm.is_director)},on:{\"change\":[function($event){var $$a=_vm.is_director,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.is_director=$$a.concat([$$v]))}else{$$i>-1&&(_vm.is_director=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.is_director=$$c}},function($event){return _vm.clickedDirector()}]}}),_c('span')]),_c('span',{staticClass:\"ml-3 cursor-pointer\"})])]),_c('td',[_c('div',{staticClass:\"d-flex align-items-center\"},[_c('label',{staticClass:\"checkbox checkbox-lg checkbox-outline checkbox-success\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.is_accountant),expression:\"is_accountant\"}],attrs:{\"type\":\"checkbox\",\"name\":\"\"},domProps:{\"checked\":Array.isArray(_vm.is_accountant)?_vm._i(_vm.is_accountant,null)>-1:(_vm.is_accountant)},on:{\"change\":[function($event){var $$a=_vm.is_accountant,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.is_accountant=$$a.concat([$$v]))}else{$$i>-1&&(_vm.is_accountant=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.is_accountant=$$c}},function($event){return _vm.clickedAccountant()}]}}),_c('span')]),_c('span',{staticClass:\"ml-3 cursor-pointer\"})])]),_c('td',{staticClass:\"text-right pr-0\"},[_c('div',{staticClass:\"d-flex justify-content-end\"},[_c('a',{staticClass:\"btn btn-icon btn-light btn-sm mx-3\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){return _vm.selectUserClicked(_vm.user.user_id)}}},[_c('span',{staticClass:\"svg-icon svg-icon-md svg-icon-primary\"},[_c('inline-svg',{attrs:{\"src\":\"/assets/svg/Write.svg\"}})],1)]),_c('a',{staticClass:\"btn btn-icon btn-light btn-sm mr-3\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){return _vm.deleteUserClicked(_vm.user.user_id)}}},[_c('span',{staticClass:\"svg-icon svg-icon-md svg-icon-primary\"},[_c('inline-svg',{attrs:{\"src\":\"/assets/svg/Trash.svg\"}})],1)])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <tr>\r\n    <td>\r\n      <span class=\"text-dark-75 font-weight-bolder d-block font-size-lg pl-4\"\r\n        >{{ user.name }}</span\r\n      >\r\n    </td>\r\n    <td>\r\n      <span class=\"text-dark-75 font-weight-bolder d-block font-size-lg\">{{ user.email }}</span>\r\n    </td>\r\n    <td>\r\n      <span class=\"text-dark-75 font-weight-bolder d-block font-size-lg\">{{ user.title }}</span>\r\n    </td>\r\n    <td>\r\n      <div class=\"d-flex align-items-center\">\r\n        <label class=\"checkbox checkbox-lg checkbox-outline checkbox-success\">\r\n          <input\r\n            type=\"checkbox\"\r\n            name=\"\"\r\n            v-model=\"is_director\"\r\n            @change=\"clickedDirector()\"\r\n          />\r\n          <span></span>\r\n        </label>\r\n        <span class=\"ml-3 cursor-pointer\"></span>\r\n      </div>\r\n    </td>\r\n    <td>\r\n      <div class=\"d-flex align-items-center\">\r\n        <label class=\"checkbox checkbox-lg checkbox-outline checkbox-success\">\r\n          <input\r\n            type=\"checkbox\"\r\n            name=\"\"\r\n            v-model=\"is_accountant\"\r\n            @change=\"clickedAccountant()\"\r\n          />\r\n          <span></span>\r\n        </label>\r\n        <span class=\"ml-3 cursor-pointer\"></span>\r\n      </div>\r\n    </td>\r\n    <!--<td>\r\n      <a href=\"#\" class=\"btn btn-light-success font-weight-bolder font-size-sm\">Ge tillgång</a>\r\n    </td>-->\r\n\r\n    <td class=\"text-right pr-0\">\r\n      <div class='d-flex justify-content-end'>\r\n        <a\r\n          href=\"#\"\r\n          class=\"btn btn-icon btn-light btn-sm mx-3\"\r\n          @click=\"selectUserClicked(user.user_id)\"\r\n        >\r\n          <span class=\"svg-icon svg-icon-md svg-icon-primary\">\r\n            <!--begin::Svg Icon-->\r\n            <inline-svg src=\"/assets/svg/Write.svg\"></inline-svg>\r\n            <!--end::Svg Icon-->\r\n          </span>\r\n        </a>\r\n        <a href=\"#\" class=\"btn btn-icon btn-light btn-sm mr-3\" @click=\"deleteUserClicked(user.user_id)\">\r\n          <span class=\"svg-icon svg-icon-md svg-icon-primary\">\r\n            <!--begin::Svg Icon-->\r\n            <inline-svg src=\"/assets/svg/Trash.svg\"></inline-svg>\r\n            <!--end::Svg Icon-->\r\n          </span>\r\n        </a>\r\n        <!--<a :href=\"getLoginLink()\" class=\"btn btn-icon btn-light btn-sm mr-7\" @click=\"loginUserClicked(user.user_id)\">\r\n          <span class=\"svg-icon svg-icon-md svg-icon-primary\">\r\n            <i class='fas fa-sign-in-alt' style='font-size:48px;color:#3699FF'></i>\r\n          </span>\r\n        </a>-->\r\n      </div>\r\n    </td>\r\n  </tr>\r\n</template>\r\n<style lang=\"scss\" scoped>\r\n.checkbox > span {\r\n  background-color: white;\r\n  border: 1px solid #ddd;\r\n}\r\n</style>\r\n<script>\r\nimport axios from 'axios';\r\nimport { mapGetters } from 'vuex';\r\n\r\nexport default {\r\n  name: 'users-table-row',\r\n  props: ['user'],\r\n  computed: {\r\n    ...mapGetters(['currentCompanyId', 'titles'])\r\n  },\r\n  data() {\r\n    return {\r\n      is_director: false,\r\n      is_accountant: false\r\n    };\r\n  },\r\n  mounted() {\r\n    this.is_director = this.user.director;\r\n    this.is_accountant = this.user.accountant;\r\n  },\r\n  watch: {\r\n    user(newValue, oldValue) {\r\n      this.is_director = this.user.director;\r\n      this.is_accountant = this.user.accountant;\r\n    },\r\n    is_director(newValue, oldvalue) {\r\n\r\n    },\r\n    is_accountant(newValue, oldValue) {\r\n\r\n    }\r\n  },\r\n  methods: {\r\n    clickedDirector() {\r\n        axios\r\n        .put('/company/director', {\r\n          company_id: this.currentCompanyId,\r\n          user_id: this.user.user_id,\r\n          is_director: this.is_director ? 1 : 0\r\n        })\r\n        .then(res => {\r\n          if (res.status === 204) {\r\n            this.$emit('toastr', 'success', 'OK', 'Styrelse ändrad');\r\n            this.$emit('changeUserAccess', this.user.user_id, this.is_director, this.is_accountant);\r\n          }\r\n        })\r\n        .catch(err => {\r\n          this.$emit('toastr', 'danger', 'Server Fel', 'Kunde inte ändra styrelse');\r\n          this.is_director = !this.is_director;\r\n        });\r\n    },\r\n    clickedAccountant() {\r\n         axios\r\n        .put('/company/accountant', {\r\n          company_id: this.currentCompanyId,\r\n          user_id: this.user.user_id,\r\n          is_accountant: this.is_accountant ? 1 : 0\r\n        })\r\n        .then(res => {\r\n          if (res.status === 204) {\r\n            this.$emit('toastr', 'success', 'OK', 'Revisor ändrad');\r\n            this.$emit('changeUserAccess', this.user.user_id, this.is_director, this.is_accountant);\r\n          }\r\n          else {\r\n            this.$emit('toastr', 'danger', 'Server Fel', 'Kunde inte ändra revisor');\r\n            this.is_accountant = !this.is_accountant;\r\n          }\r\n        })\r\n        .catch(err => {\r\n          this.$emit('toastr', 'danger', 'Fel', 'Kunde inte ändra revisor');\r\n          this.is_accountant = !this.is_accountant;\r\n        });\r\n    },\r\n    selectUserClicked(user_id) {\r\n      this.$emit('selectUserClicked', user_id);\r\n    },\r\n    deleteUserClicked(user_id) {\r\n      this.$emit('deleteUserClicked', user_id);\r\n    },\r\n    loginUserClicked(user_id) {\r\n      this.$emit('loginUserClicked', user_id);\r\n    },\r\n    getLoginLink() {\r\n      const routeData = this.$router.resolve({path: `/ml-tokenlogin/${this.user.auth_token}/ml-dashboard`})\r\n      // window.open(routeData.href, '_blank')\r\n      return routeData.href;\r\n    },\r\n    getTitle(title_id) {\r\n      this.titles.forEach(t => {\r\n        if (t.id == title_id) {\r\n          return t.name;\r\n        }\r\n      });\r\n\r\n      return '';\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserTableRow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserTableRow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserTableRow.vue?vue&type=template&id=7e45b4e4&scoped=true&\"\nimport script from \"./UserTableRow.vue?vue&type=script&lang=js&\"\nexport * from \"./UserTableRow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserTableRow.vue?vue&type=style&index=0&id=7e45b4e4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7e45b4e4\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <!--begin::Advance Table Widget 9-->\r\n  <div>\r\n    <div class=\"card card-custom card-stretch gutter-b\">\r\n      <!--begin::Header-->\r\n      <div class=\"card-header border-0 py-5\">\r\n        <h3 class=\"card-title align-items-start flex-column pl-2\">\r\n          <!-- <span class=\"card-label font-weight-bolder text-dark\">Alla Användare</span>\r\n          <span class=\"text-muted mt-3 font-weight-bold font-size-sm\">Nedanstående användare har tillgång till denna förening</span> -->\r\n        </h3>\r\n        <div class=\"card-toolbar\">\r\n          <a href=\"#\" class=\"btn btn-primary font-weight-bolder font-size-sm mr-2 my-2\" @click=\"inviteUserClicked\"\r\n            ><i class=\"menu-icon flaticon2-plus\" style=\"font-size: 1.0em;\"></i>Bjud in</a\r\n          >\r\n          <a href=\"#\" class=\"btn btn-primary font-weight-bolder font-size-sm\" @click=\"createUserClicked\"\r\n            ><i class=\"menu-icon flaticon2-plus\" style=\"font-size: 1.0em;\"></i>Ny Användare</a\r\n          >\r\n        </div>\r\n      </div>\r\n    <!--end::Header-->\r\n    <!--begin::Body-->\r\n      <div class=\"card-body pt-0 table-responsive\">\r\n        <b-table\r\n          id=\"template-table\"\r\n          :fields=\"headers\"\r\n          :items=\"items\"\r\n          head-variant=\"light\"\r\n          sticky-header\r\n          class='mh-100'\r\n        >\r\n          <template #cell(director)='row')>\r\n            <div class=\"d-flex align-items-center\">\r\n              <label class=\"checkbox checkbox-lg checkbox-outline checkbox-success\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  name=\"\"\r\n                  v-model=\"row.item.director\"\r\n                  @change=\"clickedDirector(row.item)\"\r\n                />\r\n                <span></span>\r\n              </label>\r\n              <span class=\"ml-3 cursor-pointer\"></span>\r\n            </div>\r\n          </template>\r\n          <template #cell(accountant)='row')>\r\n            <div class=\"d-flex align-items-center\">\r\n              <label class=\"checkbox checkbox-lg checkbox-outline checkbox-success\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  name=\"\"\r\n                  v-model=\"row.item.accountant\"\r\n                  @change=\"clickedAccountant(row.item)\"\r\n                />\r\n                <span></span>\r\n              </label>\r\n              <span class=\"ml-3 cursor-pointer\"></span>\r\n            </div>\r\n          </template>\r\n          <template #cell(id)=\"row\">\r\n            <div class='justify-content-end d-flex'>\r\n              <a\r\n                href=\"#\"\r\n                class=\"btn btn-icon btn-light btn-sm mx-3\"\r\n                @click=\"selectUserClicked(row.item.user_id)\"\r\n              >\r\n                <span class=\"svg-icon svg-icon-md svg-icon-primary\">\r\n                  <!--begin::Svg Icon-->\r\n                  <inline-svg src=\"/assets/svg/Write.svg\"></inline-svg>\r\n                  <!--end::Svg Icon-->\r\n                </span>\r\n              </a>\r\n              <a href=\"#\" class=\"btn btn-icon btn-light btn-sm mr-3\" @click=\"deleteUserClicked(row.item.user_id)\">\r\n                <span class=\"svg-icon svg-icon-md svg-icon-primary\">\r\n                  <!--begin::Svg Icon-->\r\n                  <inline-svg src=\"/assets/svg/Trash.svg\"></inline-svg>\r\n                  <!--end::Svg Icon-->\r\n                </span>\r\n              </a>\r\n              <a v-if=\"isTalongAdmin\" :href=\"getLoginLink(row.item)\" class=\"btn btn-icon btn-light btn-sm mr-3\" @click=\"loginUserClicked(row.item.user_id)\">\r\n                <span class=\"svg-icon svg-icon-md svg-icon-primary\">\r\n                  <i class='fas fa-sign-in-alt' style='font-size:48px;color:#3699FF'></i>\r\n                </span>\r\n              </a>\r\n            </div>\r\n          </template>\r\n        </b-table>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <!--end::Advance Table Widget 9-->\r\n</template>\r\n<style lang=\"scss\" scoped>\r\n.checkbox.checkbox-light-success > span {\r\n  background-color: white;\r\n  border: 1px solid #ddd;\r\n}\r\n</style>\r\n<script>\r\nimport axios from 'axios';\r\nimport { mapGetters } from 'vuex';\r\nimport UserTableRow from \"@/view/pages/ml/users/UserTableRow.vue\";\r\n\r\nexport default {\r\n  name: \"users-table\",\r\n  props: [\"items\", \"titles\"],\r\n  components: {\r\n    UserTableRow,\r\n  },\r\n  computed: {\r\n    ...mapGetters(['currentCompanyId','isTalongAdmin'])\r\n  },\r\n  methods: {\r\n    inviteUserClicked() {\r\n      this.$emit('inviteUserClicked');\r\n    },\r\n    createUserClicked() {\r\n      this.$emit('createUserClicked');\r\n    },\r\n    selectUserClicked(user_id) {\r\n      this.$emit('selectUserClicked', user_id);\r\n    },\r\n    deleteUserClicked(user_id) {\r\n      this.$emit('deleteUserClicked', user_id);\r\n    },\r\n    loginUserClicked(user_id) {\r\n      this.$emit('loginUserClicked', user_id);\r\n    },\r\n    changeUserAccess(user_id, is_director, is_accountant) {\r\n      this.$emit('changeUserAccess', user_id, is_director, is_accountant);\r\n    },\r\n    clickedDirector(user) {\r\n      axios\r\n        .put('/company/director', {\r\n          company_id: this.currentCompanyId,\r\n          user_id: user.user_id,\r\n          is_director: user.director ? 1 : 0\r\n        })\r\n        .then(res => {\r\n          if (res.status === 204) {\r\n            this.$emit('toastr', 'success', 'OK', 'Styrelse ändrad');\r\n            this.changeUserAccess(user.user_id, user.director, user.accountant);\r\n          }\r\n        })\r\n        .catch(err => {\r\n          this.$emit('toastr', 'danger', 'Server Fel', 'Kunde inte ändra styrelse');\r\n          user.director = !user.director;\r\n        });\r\n    },\r\n    clickedAccountant(user) {\r\n      console.log(\"User\");\r\n      axios\r\n        .put('/company/accountant', {\r\n          company_id: this.currentCompanyId,\r\n          user_id: user.user_id,\r\n          is_accountant: user.is_accountant ? 1 : 0\r\n        })\r\n        .then(res => {\r\n          if (res.status === 204) {\r\n            this.$emit('toastr', 'success', 'OK', 'Revisor ändrad');\r\n            this.changeUserAccess(user.user_id, user.director, user.accountant);\r\n          }\r\n          else {\r\n            this.$emit('toastr', 'danger', 'Server Fel', 'Kunde inte ändra revisor');\r\n            user.accountant = !user.accountant;\r\n          }\r\n        })\r\n        .catch(err => {\r\n          this.$emit('toastr', 'danger', 'Fel', 'Kunde inte ändra revisor');\r\n          user.accountant = !user.accountant;\r\n        });\r\n    },\r\n    getLoginLink(user) {\r\n      const routeData = this.$router.resolve({path: `/ml-tokenlogin/${user.auth_token}/ml-dashboard`})\r\n      // window.open(routeData.href, '_blank')\r\n      return routeData.href;\r\n    },\r\n    toastr(type, title, message) {\r\n      this.$emit('toastr', type, title, message);\r\n    },\r\n    getTitle(title_id) {\r\n      this.titles.forEach(t => {\r\n\r\n        if (t.id == title_id) {\r\n          return t.name;\r\n        }\r\n      });\r\n\r\n      return \"\";\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      headers: [\r\n        {\r\n          key: 'name',\r\n          label: 'Namn',\r\n          sortable: true,\r\n          thClass: 'pl-7',\r\n          tdClass: 'pl-7 vertical-center'\r\n        },\r\n        {\r\n          key: 'email',\r\n          label: 'E-post',\r\n          thClass: 'w-200px',\r\n          tdClass: 'w-200px vertical-center',\r\n          sortable: true\r\n        },\r\n        {\r\n          key: 'title',\r\n          label: 'Titel',\r\n          thClass: 'w-200px',\r\n          tdClass: 'w-200px vertical-center',\r\n          sortable: true\r\n        },\r\n        {\r\n          key: 'director',\r\n          label: 'Styrelse',\r\n          thClass: 'w-85px',\r\n          tdClass: 'w-85px vertical-center',\r\n          sortable: true\r\n        },\r\n        {\r\n          key: 'accountant',\r\n          label: 'Revisor',\r\n          thClass: 'w-85px',\r\n          tdClass: 'w-85px vertical-center',\r\n          sortable: true\r\n        },\r\n        {\r\n          key: 'id',\r\n          label: '',\r\n          thClass: 'w-110px text-right vertical-center',\r\n        },\r\n      ],\r\n      list: [\r\n\r\n      ]\r\n    };\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UsersTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UsersTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UsersTable.vue?vue&type=template&id=5cae9013&scoped=true&\"\nimport script from \"./UsersTable.vue?vue&type=script&lang=js&\"\nexport * from \"./UsersTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UsersTable.vue?vue&type=style&index=0&id=5cae9013&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5cae9013\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"table-responsive\"},[_c('table',{staticClass:\"table table-head-custom table-vertical-center table-head-bg table-borderless\"},[_vm._m(0),_c('tbody',[_vm._l((_vm.companies),function(item,i){return [_c('UserCompanyAccessRow',{key:i,attrs:{\"company_id\":item.company.company_id,\"name\":item.company.name,\"user_id\":_vm.user_id,\"has_access\":_vm.hasAccess(item.company.company_id)}})]})],2)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',{staticClass:\"text-left\"},[_c('th',[_vm._v(\"Förening\")]),_c('th')])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',[_c('td',[_c('span',{staticClass:\"d-block font-size-lg\"},[_vm._v(_vm._s(_vm.name))])]),_c('td',[_c('div',{staticClass:\"d-flex align-items-center\"},[_c('label',{staticClass:\"checkbox checkbox-lg checkbox-outline checkbox-success\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.access),expression:\"access\"}],attrs:{\"type\":\"checkbox\",\"name\":\"\"},domProps:{\"checked\":Array.isArray(_vm.access)?_vm._i(_vm.access,null)>-1:(_vm.access)},on:{\"click\":_vm.updateAccess,\"change\":function($event){var $$a=_vm.access,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.access=$$a.concat([$$v]))}else{$$i>-1&&(_vm.access=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.access=$$c}}}}),_c('span')]),_c('span',{staticClass:\"ml-3 cursor-pointer\"})])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <tr>\r\n    <td>\r\n      <span class=\"d-block font-size-lg\">{{ name }}</span>\r\n    </td>\r\n    <td>\r\n      <div class=\"d-flex align-items-center\">\r\n        <label\r\n            class=\"checkbox checkbox-lg checkbox-outline checkbox-success\"\r\n        >\r\n            <input\r\n            type=\"checkbox\"\r\n            name=\"\"\r\n            v-model=\"access\"\r\n            @click=\"updateAccess\"\r\n            />\r\n            <span></span>\r\n        </label>\r\n        <span class=\"ml-3 cursor-pointer\"\r\n            ></span\r\n        >\r\n        </div>\r\n    </td>\r\n  </tr>\r\n</template>\r\n<style lang=\"scss\" scoped>\r\n.checkbox > span {\r\n  background-color: white;\r\n  border: 1px solid #ddd;\r\n}\r\n</style>\r\n<script>\r\nimport axios from 'axios';\r\nimport { mapGetters } from 'vuex';\r\n\r\nexport default {\r\n  name: 'user-access-row',\r\n  props: ['name', 'has_access', 'company_id', 'user_id'],\r\n  computed: {\r\n    ...mapGetters(['currentCompanyId'])\r\n  },\r\n  data() {\r\n    return {\r\n      access: false,\r\n    \r\n    };\r\n  },\r\n  mounted() {\r\n    \r\n    this.access = this.has_access;\r\n    \r\n  },\r\n  watch: {\r\n    has_access(newValue, oldValue) {\r\n      \r\n      this.access = newValue;\r\n      \r\n    },\r\n    access(newValue, oldValue) {\r\n      \r\n    }\r\n  },\r\n  methods: {\r\n    updateAccess() {\r\n      this.access = !this.access;\r\n\r\n      this.setCompanyAccess(this.user_id, this.company_id, this.access)\r\n    },\r\n    setCompanyAccess(user_id, company_id, access) {\r\n      \r\n      axios\r\n        .put('/user/setcompanyaccess', {\r\n            user_id: user_id,\r\n            company_id: company_id,\r\n            access: access,\r\n            silent: true\r\n        })\r\n        .then(res => {\r\n          this.toastr('success', 'OK', 'Uppdaterat');\r\n        })\r\n        .catch(err => {\r\n          console.error(err);\r\n          this.toastr('danger', 'Fel', 'Kunde inte uppdatera');\r\n        });\r\n    },\r\n    \r\n    toastr(type, title, message) {\r\n      this.$bvToast.toast(message, {\r\n        title: title,\r\n        autoHideDelay: 2000,\r\n        appendToast: true,\r\n        variant: type,\r\n      })\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserCompanyAccessRow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserCompanyAccessRow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserCompanyAccessRow.vue?vue&type=template&id=9a4042ac&scoped=true&\"\nimport script from \"./UserCompanyAccessRow.vue?vue&type=script&lang=js&\"\nexport * from \"./UserCompanyAccessRow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserCompanyAccessRow.vue?vue&type=style&index=0&id=9a4042ac&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9a4042ac\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n\r\n    <!--begin::Table-->\r\n    <div class=\"table-responsive\">\r\n    <table class=\"table table-head-custom table-vertical-center table-head-bg table-borderless\">\r\n        <thead>\r\n        <tr class=\"text-left\">\r\n            <th>Förening</th>\r\n            <th></th>\r\n        </tr>\r\n        </thead>\r\n        <tbody>\r\n        <template v-for=\"(item, i) in companies\">\r\n            <UserCompanyAccessRow\r\n            v-bind:key=\"i\"\r\n            :company_id=\"item.company.company_id\"\r\n            :name=\"item.company.name\"\r\n            :user_id=\"user_id\"\r\n            :has_access=\"hasAccess(item.company.company_id)\"\r\n            />\r\n        </template>\r\n        </tbody>\r\n    </table>\r\n    </div>\r\n  <!--end::Advance Table Widget 9-->\r\n</template>\r\n<style lang=\"scss\" scoped>\r\n.checkbox.checkbox-light-success > span {\r\n  background-color: white;\r\n  border: 1px solid #ddd;\r\n}\r\n</style>\r\n<script>\r\nimport axios from 'axios';\r\nimport { mapGetters } from 'vuex';\r\nimport UserCompanyAccessRow from '@/view/pages/ml/users/UserCompanyAccessRow.vue';\r\n\r\nexport default {\r\n  name: 'user-access',\r\n  props: ['user_id', 'company_access', 'companies'],\r\n  components: {\r\n    UserCompanyAccessRow\r\n  },\r\n\r\n  methods: {\r\n\r\n    hasAccess(company_id) {\r\n      for (const c of this.company_access) {\r\n        if (c.company.id === company_id) {\r\n          return true;\r\n        }\r\n      }\r\n\r\n      return false;\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserCompanyAccess.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserCompanyAccess.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserCompanyAccess.vue?vue&type=template&id=a736c90c&scoped=true&\"\nimport script from \"./UserCompanyAccess.vue?vue&type=script&lang=js&\"\nexport * from \"./UserCompanyAccess.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserCompanyAccess.vue?vue&type=style&index=0&id=a736c90c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a736c90c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"table-responsive\"},[_c('table',{staticClass:\"table table-head-custom table-vertical-center table-head-bg table-borderless\"},[_c('tbody',[_vm._l((_vm.access_list),function(item,i){return [_c('UserPagesCompanyTable',{key:i,attrs:{\"company_id\":item.company.id,\"name\":item.company.name,\"user_id\":_vm.user_id,\"access_list\":item.acl},on:{\"updatedAccess\":function($event){return _vm.$emit('updatedAccess')}}})]})],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"table-responsive\"},[_c('table',{staticClass:\"table table-head-custom table-vertical-center table-head-bg table-borderless\"},[_c('tr',{staticClass:\"tr-black\"},[_c('td',{staticStyle:{\"min-width\":\"300px\",\"max-width\":\"300px\"}},[_vm._v(_vm._s(_vm.name))]),_c('td',[_c('div',{staticClass:\"d-flex align-items-center\"},[_c('label',{staticClass:\"checkbox checkbox-lg checkbox-outline checkbox-success\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.checkAllPages),expression:\"checkAllPages\"}],attrs:{\"type\":\"checkbox\",\"name\":\"\"},domProps:{\"checked\":Array.isArray(_vm.checkAllPages)?_vm._i(_vm.checkAllPages,null)>-1:(_vm.checkAllPages)},on:{\"click\":_vm.checkAllPagesClicked,\"change\":function($event){var $$a=_vm.checkAllPages,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.checkAllPages=$$a.concat([$$v]))}else{$$i>-1&&(_vm.checkAllPages=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.checkAllPages=$$c}}}}),_c('span')]),_c('span',{staticClass:\"ml-3 cursor-pointer\"},[_vm._v(\"Har tillgång\")])])]),_c('td',[_c('div',{staticClass:\"d-flex align-items-center\"},[_c('label',{staticClass:\"checkbox checkbox-lg checkbox-outline checkbox-success\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.checkAllAdmin),expression:\"checkAllAdmin\"}],attrs:{\"type\":\"checkbox\",\"name\":\"\"},domProps:{\"checked\":Array.isArray(_vm.checkAllAdmin)?_vm._i(_vm.checkAllAdmin,null)>-1:(_vm.checkAllAdmin)},on:{\"click\":_vm.checkAllAdminClicked,\"change\":function($event){var $$a=_vm.checkAllAdmin,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.checkAllAdmin=$$a.concat([$$v]))}else{$$i>-1&&(_vm.checkAllAdmin=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.checkAllAdmin=$$c}}}}),_c('span')]),_c('span',{staticClass:\"ml-3 cursor-pointer\"},[_vm._v(\"Kan tilldela\")])])])]),_vm._l((_vm.sorted_access_list),function(value,i){return [_c('UserPagesCompanyTableRow',{key:i,attrs:{\"user_id\":_vm.user_id,\"company_id\":_vm.company_id,\"a\":value.a,\"p\":value.p,\"page\":value.name},on:{\"pageAccessUpdated\":_vm.pageAccessUpdated,\"adminAccessUpdated\":_vm.adminAccessUpdated}})]})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',[_c('td',[_c('span',{staticClass:\"d-block font-size-lg\"},[_vm._v(_vm._s(_vm.name))])]),_c('td',[_c('div',{staticClass:\"d-flex align-items-center\"},[_c('label',{staticClass:\"checkbox checkbox-lg checkbox-outline checkbox-success\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.pageAccess),expression:\"pageAccess\"}],attrs:{\"type\":\"checkbox\",\"name\":\"\"},domProps:{\"checked\":Array.isArray(_vm.pageAccess)?_vm._i(_vm.pageAccess,null)>-1:(_vm.pageAccess)},on:{\"click\":_vm.updatePageAccess,\"change\":function($event){var $$a=_vm.pageAccess,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.pageAccess=$$a.concat([$$v]))}else{$$i>-1&&(_vm.pageAccess=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.pageAccess=$$c}}}}),_c('span')]),_c('span',{staticClass:\"ml-3 cursor-pointer\"})])]),_c('td',[_c('div',{staticClass:\"d-flex align-items-center\"},[_c('label',{staticClass:\"checkbox checkbox-lg checkbox-outline checkbox-success\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.adminAccess),expression:\"adminAccess\"}],attrs:{\"type\":\"checkbox\",\"name\":\"\"},domProps:{\"checked\":Array.isArray(_vm.adminAccess)?_vm._i(_vm.adminAccess,null)>-1:(_vm.adminAccess)},on:{\"click\":_vm.updateAdminAccess,\"change\":function($event){var $$a=_vm.adminAccess,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.adminAccess=$$a.concat([$$v]))}else{$$i>-1&&(_vm.adminAccess=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.adminAccess=$$c}}}}),_c('span')]),_c('span',{staticClass:\"ml-3 cursor-pointer\"})])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <tr>\r\n    <td>\r\n      <span class=\"d-block font-size-lg\">{{ name }}</span>\r\n    </td>\r\n    <td>\r\n      <div class=\"d-flex align-items-center\">\r\n        <label\r\n            class=\"checkbox checkbox-lg checkbox-outline checkbox-success\"\r\n        >\r\n            <input\r\n            type=\"checkbox\"\r\n            name=\"\"\r\n            v-model=\"pageAccess\"\r\n            @click=\"updatePageAccess\"\r\n            />\r\n            <span></span>\r\n        </label>\r\n        <span class=\"ml-3 cursor-pointer\"></span\r\n        >\r\n        </div>\r\n    </td>\r\n    <td>\r\n      <div class=\"d-flex align-items-center\">\r\n        <label\r\n            class=\"checkbox checkbox-lg checkbox-outline checkbox-success\"\r\n        >\r\n            <input\r\n            type=\"checkbox\"\r\n            name=\"\"\r\n            v-model=\"adminAccess\"\r\n            @click=\"updateAdminAccess\"\r\n            />\r\n            <span></span>\r\n        </label>\r\n        <span class=\"ml-3 cursor-pointer\"></span\r\n        >\r\n        </div>\r\n    </td>\r\n  </tr>\r\n</template>\r\n<style lang=\"scss\" scoped>\r\n.checkbox > span {\r\n  background-color: white;\r\n  border: 1px solid #ddd;\r\n}\r\n</style>\r\n<script>\r\nimport axios from 'axios';\r\nimport { mapGetters } from 'vuex';\r\n\r\nexport default {\r\n  name: 'user-pages-company-table-row',\r\n  props: ['company_id', 'user_id', 'a', 'p', 'page'],\r\n  computed: {\r\n    ...mapGetters(['currentCompanyId']),\r\n    name() {\r\n      return this.names[this.page];\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      pageAccess: false,\r\n      adminAccess: false,\r\n      names: {\r\n        \r\n        'ml-admin': 'Helpdesk',\r\n        'ml-users': 'Användare',\r\n        'ml-advanced-search': 'Avancerat sök',\r\n        'ml-apikeys': 'API Nycklar',\r\n        'ml-book': 'Bokföring',\r\n        'ml-dashboard': 'Dashboard',\r\n        'ml-companies': 'Föreningar',\r\n        'ml-errors': 'Felrapporter',\r\n        'ml-events': 'Evenemang',\r\n        'ml-files': 'Filer',\r\n        'ml-import': 'Import Medlemmar',\r\n        'ml-importcompanies': 'Import Föreningar',\r\n        'ml-billing': 'Kostnader',\r\n        'ml-ladok': 'LADOK',\r\n        'ml-member-manager': 'Medlemshanterare',\r\n        'ml-mucf': 'MUCF',\r\n        'ml-periods': 'Perioder',\r\n        'ml-properties': 'Attribut',\r\n        'ml-quicksearch': 'Snabbsök',\r\n        'ml-language': 'Språk',\r\n        'ml-registersetup': 'Registreringswizard',\r\n        'ml-sendout': 'Utskick',\r\n        'ml-settings': 'Inställningar',\r\n        'ml-shopitem': 'Butik',\r\n        'ml-stickprov': 'Stickprover',\r\n        'ml-subcompany': 'Underföreningar',\r\n        'ml-support': 'Support',\r\n        'ml-system': 'System',\r\n        'ml-templates': 'Mallar',\r\n        'ml-todo': 'Ärendehantering',\r\n        'ml-todo': 'Betalningar',\r\n        \r\n      },\r\n    \r\n    };\r\n  },\r\n  mounted() {\r\n    this.adminAccess = this.a === 'a';\r\n    this.pageAccess = this.p === 'rw';\r\n  },\r\n  watch: {\r\n    a(newValue, oldValue) {\r\n      this.adminAccess = newValue === 'a';\r\n    },\r\n    p(newValue, oldValue) {\r\n      this.pageAccess = newValue === 'rw';\r\n    }\r\n  },\r\n  methods: {\r\n    updatePageAccess() {\r\n      this.$emit('pageAccessUpdated', this.page, !this.pageAccess ? 'rw' : '-');\r\n    },\r\n      \r\n    updateAdminAccess() {\r\n      this.$emit('adminAccessUpdated', this.page, !this.adminAccess ? 'a' : '-');\r\n    },\r\n\r\n    toastr(type, title, message) {\r\n      this.$bvToast.toast(message, {\r\n        title: title,\r\n        autoHideDelay: 2000,\r\n        appendToast: true,\r\n        variant: type,\r\n      })\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPagesCompanyTableRow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPagesCompanyTableRow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserPagesCompanyTableRow.vue?vue&type=template&id=4e1d59a2&scoped=true&\"\nimport script from \"./UserPagesCompanyTableRow.vue?vue&type=script&lang=js&\"\nexport * from \"./UserPagesCompanyTableRow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserPagesCompanyTableRow.vue?vue&type=style&index=0&id=4e1d59a2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4e1d59a2\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  \r\n    <!--begin::Table-->\r\n    <div class=\"table-responsive\">\r\n    <table class=\"table table-head-custom table-vertical-center table-head-bg table-borderless\">\r\n        <tr class=\"tr-black\">\r\n            <td style=\"min-width: 300px; max-width: 300px;\">{{ name }}</td>\r\n            <td>\r\n                <div class=\"d-flex align-items-center\">\r\n                <label\r\n                  class=\"checkbox checkbox-lg checkbox-outline checkbox-success\"\r\n                >\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    name=\"\"\r\n                    v-model=\"checkAllPages\"\r\n                    @click=\"checkAllPagesClicked\"\r\n                  />\r\n                  <span></span>\r\n                </label>\r\n                <span class=\"ml-3 cursor-pointer\"\r\n                  >Har tillgång</span\r\n                >\r\n              </div>\r\n\r\n            </td>\r\n            <td>\r\n                <div class=\"d-flex align-items-center\">\r\n                <label\r\n                  class=\"checkbox checkbox-lg checkbox-outline checkbox-success\"\r\n                >\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    name=\"\"\r\n                    v-model=\"checkAllAdmin\"\r\n                    @click=\"checkAllAdminClicked\"\r\n                  />\r\n                  <span></span>\r\n                </label>\r\n                <span class=\"ml-3 cursor-pointer\"\r\n                  >Kan tilldela</span\r\n                >\r\n              </div>\r\n            </td>\r\n        </tr>\r\n        <template v-for=\"(value, i) in sorted_access_list\">\r\n            <UserPagesCompanyTableRow\r\n                v-bind:key=\"i\"\r\n                :user_id=\"user_id\"\r\n                :company_id=\"company_id\"\r\n                :a=\"value.a\"\r\n                :p=\"value.p\"\r\n                :page=\"value.name\"\r\n                @pageAccessUpdated=\"pageAccessUpdated\"\r\n                @adminAccessUpdated=\"adminAccessUpdated\"\r\n            />\r\n        </template>\r\n    </table>\r\n    </div>\r\n  <!--end::Advance Table Widget 9-->\r\n</template>\r\n<style lang=\"scss\" scoped>\r\n.checkbox.checkbox-light-success > span {\r\n  background-color: white;\r\n  border: 1px solid #ddd;\r\n}\r\n.tr-black {\r\n  background-color: #4F5264;\r\n  color: white;\r\n}\r\ntr:nth-child(2n+3) {background: #24293908}\r\n\r\n</style>\r\n<script>\r\nimport axios from 'axios';\r\nimport { mapGetters } from 'vuex';\r\nimport UserPagesCompanyTableRow from '@/view/pages/ml/users/UserPagesCompanyTableRow.vue';\r\n\r\nexport default {\r\n  name: 'user-pages-company-table',\r\n  props: ['user_id','company_id','name','access_list'],\r\n  components: {\r\n    UserPagesCompanyTableRow\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters(['currentCompanyId','currentUserId'])\r\n  },\r\n\r\n  watch: {\r\n    access_list(newValue, oldValue) {\r\n      this.sortAccessList();\r\n    }\r\n  },\r\n\r\n  async mounted() {\r\n    console.log('UserPagesCompanyTable acl:');\r\n    console.log(this.access_list);\r\n\r\n    this.sortAccessList();\r\n    \r\n  },\r\n\r\n  methods: {\r\n    sortAccessList() {\r\n      this.sorted_access_list = [];\r\n\r\n      for (var k in this.access_list) {\r\n        var val = this.access_list[k];\r\n\r\n        this.sorted_access_list.push({\r\n            name: k,\r\n            p: val.p,\r\n            a: val.a,\r\n            caption: this.names[k]\r\n        });\r\n      }\r\n\r\n      this.sorted_access_list.sort(function(a,b){\r\n        if (a.caption < b.caption) {\r\n          return -1;\r\n        }\r\n        return 1;\r\n      });\r\n    },\r\n\r\n    pageAccessUpdated(page, p) {\r\n\r\n      console.log('currentUserId: ' + this.currentUserId);\r\n      console.log('user_id: ' + this.user_id);\r\n\r\n      if (this.currentUserId === this.user_id) {\r\n        this.toastr('danger', 'Fel', 'Du kan inte ändra rättigheter för dig själv');\r\n        return;\r\n      }\r\n\r\n      axios \r\n        .put('/company_user', {\r\n            company_id: this.company_id,\r\n            user_id: this.user_id,\r\n            page: page,\r\n            p: p\r\n        })\r\n        .then(res => {\r\n          this.toastr('success', 'OK', 'Tillgång uppdaterad');\r\n\r\n          this.$emit('updatedAccess');\r\n        })\r\n        .catch(err => {\r\n          console.error(err);\r\n          this.toastr('danger', 'Fel', 'Kunde inte ändra tillgång');\r\n        });\r\n    },\r\n\r\n    adminAccessUpdated(page, a) {\r\n       if (this.currentUserId === this.user_id) {\r\n         this.toastr('danger', 'Fel', 'Du kan inte ändra rättigheter för dig själv');\r\n         return;\r\n       }\r\n\r\n       axios \r\n        .put('/company_user', {\r\n            company_id: this.company_id,\r\n            user_id: this.user_id,\r\n            page: page,\r\n            a: a\r\n        })\r\n        .then(res => {\r\n          this.toastr('success', 'OK', 'Rättighet uppdaterad');\r\n\r\n          this.$emit('updatedAccess');\r\n        })\r\n        .catch(err => {\r\n          console.error(err);\r\n          this.toastr('danger', 'Fel', 'Kunde inte ändra rättighet');\r\n        });\r\n    },\r\n\r\n    checkAllAdminClicked() {\r\n      if (this.currentUserId === this.user_id) {\r\n        this.toastr('danger', 'Fel', 'Du kan inte ändra rättigheter för dig själv');\r\n        return;\r\n      }\r\n\r\n      this.checkAllAdmin = !this.checkAllAdmin;\r\n\r\n      axios\r\n        .put('/company_user/all', {\r\n            company_id: this.company_id,\r\n            user_id: this.user_id,\r\n            a: this.checkAllAdmin ? 'a' : '-'\r\n        })\r\n        .then(res => {\r\n          this.toastr('success', 'OK', 'Alla tillgångar i föreningen har uppdaterats för användaren');\r\n\r\n          this.$emit('updatedAccess');\r\n        })\r\n        .catch(err => {\r\n          console.error(err);\r\n          this.toastr('danger', 'Fel', 'Kunde inte uppdatera alla tillgångar');\r\n        });\r\n    },\r\n\r\n    checkAllPagesClicked() {\r\n      if (this.currentUserId === this.user_id) {\r\n        this.toastr('danger', 'Fel', 'Du kan inte ändra rättigheter för dig själv');\r\n        return;\r\n      }\r\n\r\n      this.checkAllPages = !this.checkAllPages;\r\n\r\n      axios\r\n        .put('/company_user/all', {\r\n            company_id: this.company_id,\r\n            user_id: this.user_id,\r\n            p: this.checkAllPages ? 'rw' : '-'\r\n        })\r\n        .then(res => {\r\n          this.toastr('success', 'OK', 'Alla tillgångar i föreningen har uppdaterats för användaren');\r\n\r\n          this.$emit('updatedAccess');\r\n        })\r\n        .catch(err => {\r\n          console.error(err);\r\n          this.toastr('danger', 'Fel', 'Kunde inte uppdatera alla tillgångar');\r\n        });\r\n    },\r\n\r\n    toastr(type, title, message) {\r\n      this.$bvToast.toast(message, {\r\n        title: title,\r\n        autoHideDelay: 2000,\r\n        appendToast: true,\r\n        variant: type,\r\n      })\r\n    }\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      names: {\r\n        'ml-admin': 'Helpdesk',\r\n        'ml-users': 'Användare',\r\n        'ml-advanced-search': 'Avancerat sök',\r\n        'ml-apikeys': 'API Nycklar',\r\n        'ml-book': 'Bokföring',\r\n        'ml-dashboard': 'Dashboard',\r\n        'ml-companies': 'Föreningar',\r\n        'ml-errors': 'Felrapporter',\r\n        'ml-events': 'Evenemang',\r\n        'ml-files': 'Filer',\r\n        'ml-import': 'Import Medlemmar',\r\n        'ml-importcompanies': 'Import Föreningar',\r\n        'ml-billing': 'Kostnader',\r\n        'ml-ladok': 'LADOK',\r\n        'ml-member-manager': 'Medlemshanterare',\r\n        'ml-mucf': 'MUCF',\r\n        'ml-periods': 'Perioder',\r\n        'ml-properties': 'Attribut',\r\n        'ml-quicksearch': 'Snabbsök',\r\n        'ml-language': 'Språk',\r\n        'ml-registersetup': 'Registreringswizard',\r\n        'ml-sendout': 'Utskick',\r\n        'ml-settings': 'Inställningar',\r\n        'ml-shopitem': 'Butik',\r\n        'ml-stickprov': 'Stickprover',\r\n        'ml-subcompany': 'Underföreningar',\r\n        'ml-support': 'Support',\r\n        'ml-system': 'System',\r\n        'ml-templates': 'Mallar',\r\n        'ml-todo': 'Ärendehantering',\r\n        'ml-payments': 'Betalningar',\r\n        \r\n      },\r\n      sorted_access_list: [],\r\n      checkAllPages: false,\r\n      checkAllAdmin: false,\r\n      companies: [],\r\n    };\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPagesCompanyTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPagesCompanyTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserPagesCompanyTable.vue?vue&type=template&id=6e647b64&scoped=true&\"\nimport script from \"./UserPagesCompanyTable.vue?vue&type=script&lang=js&\"\nexport * from \"./UserPagesCompanyTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserPagesCompanyTable.vue?vue&type=style&index=0&id=6e647b64&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6e647b64\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n\r\n    <!--begin::Table-->\r\n    <div class=\"table-responsive\">\r\n    <table class=\"table table-head-custom table-vertical-center table-head-bg table-borderless\">\r\n        <tbody>\r\n        <template v-for=\"(item, i) in access_list\">\r\n            <UserPagesCompanyTable\r\n                v-bind:key=\"i\"\r\n                :company_id=\"item.company.id\"\r\n                :name=\"item.company.name\"\r\n                :user_id=\"user_id\"\r\n                :access_list=\"item.acl\"\r\n                @updatedAccess=\"$emit('updatedAccess')\"\r\n            />\r\n        </template>\r\n        </tbody>\r\n    </table>\r\n    </div>\r\n  <!--end::Advance Table Widget 9-->\r\n</template>\r\n<style lang=\"scss\" scoped>\r\n.checkbox.checkbox-light-success > span {\r\n  background-color: white;\r\n  border: 1px solid #ddd;\r\n}\r\n</style>\r\n<script>\r\nimport UserPagesCompanyTable from '@/view/pages/ml/users/UserPagesCompanyTable.vue';\r\n\r\nexport default {\r\n  name: 'user-pages-access',\r\n  props: ['user_id', 'access_list'],\r\n  components: {\r\n    UserPagesCompanyTable\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPagesAccess.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPagesAccess.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserPagesAccess.vue?vue&type=template&id=848e7534&scoped=true&\"\nimport script from \"./UserPagesAccess.vue?vue&type=script&lang=js&\"\nexport * from \"./UserPagesAccess.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserPagesAccess.vue?vue&type=style&index=0&id=848e7534&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"848e7534\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"px-5\" id=\"page-users\">\r\n\r\n    <h5 class=\"mb-6 ml-2\">Användare</h5>\r\n\r\n    <UsersTable\r\n        :items=\"users\"\r\n        :titles=\"titles\"\r\n        @inviteUserClicked=\"inviteUser\"\r\n        @createUserClicked=\"createUser\"\r\n        @selectUserClicked=\"selectUser\"\r\n        @deleteUserClicked=\"deleteUser\"\r\n        @changeUserAccess=\"changeUserAccess\"\r\n        @toastr=\"toastr\"\r\n    />\r\n    <b-card\r\n      title=\"Bjud in användare\"\r\n      tag=\"article\"\r\n      style=\"max-width: 40rem;\"\r\n      class=\"mb-2\"\r\n      v-if=\"inviting\"\r\n    >\r\n        <b-card-text>\r\n          Lägg till en ny användare genom att ange e-postadressen till personen nedan.\r\n        </b-card-text>\r\n        <b-form\r\n          @submit.prevent=\"inviteEmail\"\r\n        >\r\n          <b-form-input\r\n            id=\"invite-email\"\r\n            v-model=\"invite_email\"\r\n            required\r\n            placeholder=\"E-post\"\r\n\r\n          ></b-form-input>\r\n          <b-button type=\"button\" variant=\"primary\" class=\"mt-2 mr-2\" @click=\"hideInvite\">Avbryt</b-button>\r\n          <b-button type=\"submit\" variant=\"primary\" class=\"mt-2\">Bjud in</b-button>\r\n        </b-form>\r\n\r\n    </b-card>\r\n\r\n    <div class=\"scroll-to-container\"></div>\r\n    <b-card\r\n      title=\"\"\r\n      class=\"mb-2 edit-user-container\"\r\n      ref=\"edit-user\"\r\n      id=\"edit-user\"\r\n      hide-footer\r\n      v-if=\"creating || editing\"\r\n    >\r\n\r\n      <v-tabs\r\n        background-color=\"white\"\r\n        color=\"accent-4\"\r\n        right\r\n      >\r\n        <v-tab>Användardata</v-tab>\r\n        <v-tab v-if=\"editing\">Tillgång</v-tab>\r\n        <v-tab v-if=\"editing\">Notifikationer</v-tab>\r\n        <v-tab v-if=\"editing && isTalongAdmin\">Föreningar</v-tab>\r\n\r\n        <v-tab-item>\r\n          <UserEdit\r\n            :creating=\"creating\"\r\n            :user_id=\"user_id\"\r\n            :companyTitles=\"companyTitles\"\r\n            @saveUser=\"saveUser\"\r\n            @accessLoaded=\"accessLoaded\"\r\n            @userCreated=\"userCreated\"\r\n          />\r\n        </v-tab-item>\r\n        <v-tab-item v-if=\"editing\">\r\n          <b-alert show variant=\"light\" class=\"mt-8\">\r\n            Användaren kommer att få tillgång till angivna sidor för respektive förening. Ifall \"Kan tilldela\" är i checkad så kan användaren ge den tillgången till andra användare.\r\n          </b-alert>\r\n\r\n          <UserPagesAccess\r\n            :user_id=\"user_id\"\r\n            :access_list=\"accessList\"\r\n            @updatedAccess=\"loadAllAccess\"\r\n          />\r\n\r\n        </v-tab-item>\r\n        <v-tab-item v-if=\"editing\">\r\n          <b-alert show variant=\"light\" class=\"mt-8\">\r\n            Följande notifikationer kommer användaren att ta del av per förening. Observera att avgift tillkommer på skickade SMS.\r\n          </b-alert>\r\n          <UserNotifications\r\n            class=\"mt-8\"\r\n            :company_access=\"companyAccess\"\r\n          />\r\n        </v-tab-item>\r\n        <v-tab-item v-if=\"editing && isTalongAdmin\">\r\n          <b-alert show variant=\"light\" class=\"mt-8\">\r\n            Ange vilka föreningar som användaren ska ha tillgång till\r\n          </b-alert>\r\n\r\n          <UserCompanyAccess\r\n            class=\"mt-8\"\r\n            :user_id=\"user_id\"\r\n            :company_access=\"companyAccess\"\r\n            :companies = 'companies'\r\n          />\r\n        </v-tab-item>\r\n      </v-tabs>\r\n\r\n\r\n\r\n    </b-card>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n.checkbox.checkbox-light-success > span {\r\n  background-color: white;\r\n  border: 1px solid #ddd;\r\n}\r\n\r\n</style>\r\n\r\n<script>\r\nimport validatePersonnr from '@/core/services/personnr';\r\nimport axios from 'axios';\r\nimport { mapGetters } from 'vuex';\r\nimport UsersTable from \"@/view/pages/ml/users/UsersTable.vue\";\r\nimport UserNotifications from '@/view/pages/ml/users/UserNotifications.vue';\r\nimport UserCompanyAccess from '@/view/pages/ml/users/UserCompanyAccess.vue';\r\nimport UserPagesAccess from '@/view/pages/ml/users/UserPagesAccess.vue';\r\nimport UserEdit from '@/view/pages/ml/users/UserEdit.vue';\r\n\r\n\r\nexport default {\r\n  name: 'users',\r\n  components: {\r\n    UsersTable, UserNotifications, UserEdit, UserCompanyAccess, UserPagesAccess\r\n  },\r\n  computed: {\r\n    ...mapGetters(['currentCompanyId', 'currentPeriodId', 'periods', 'isTalongAdmin']),\r\n  },\r\n  async mounted() {\r\n    await this.loadData();\r\n\r\n    this.user_id = this.$route.params.id;\r\n\r\n    if (this.user_id === '' || this.user_id === null || this.user_id === undefined) {\r\n      this.editing = false;\r\n      this.creating = false;\r\n    }\r\n    else {\r\n      this.editing = true;\r\n      this.selectUser(this.user_id)\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      user_id: null,\r\n      system_pages_translate: {\r\n        'ml-dashboard': 'Dashboard',\r\n        'ml-todo': 'Ärendehantering',\r\n        'ml-errors': 'Felrapporter',\r\n        'ml-events': 'Evenemang',\r\n        'ml-quicksearch': 'Snabbsök',\r\n        'ml-advanced-search': 'Avancerat sök',\r\n        'ml-import': 'Import',\r\n        'ml-stickprov': 'Stickprov',\r\n        'ml-ladok': 'LADOK',\r\n        'ml-properties': 'Attribut',\r\n        'ml-member-manager': 'Medlemshanterare',\r\n        'ml-mucf': 'MUCF',\r\n        'ml-settings': 'Inställningar',\r\n        'ml-registersetup': 'Registreringswizard',\r\n        'ml-periods': 'Perioder',\r\n        'ml-users': 'Användare',\r\n        'ml-subcompany': 'Underföreningar',\r\n        'ml-files': 'Filer',\r\n        'ml-shopitem': 'Butik',\r\n        'ml-book': 'Bokföring',\r\n        'ml-sendout': 'Utskick',\r\n        'ml-templates': 'Mallar',\r\n        'ml-support': 'Support',\r\n        'ml-billing': 'Kostnader',\r\n        'ml-admin': 'Administration',\r\n        'ml-companies': 'Föreningslista',\r\n        'ml-language': 'Språk',\r\n        'ml-system': 'System'\r\n      },\r\n        titles: [],\r\n        company: {},\r\n      companies:[],\r\n      accessList: [],\r\n        companyAccess:[],\r\n        form: {\r\n            user_id: '',\r\n            email: '',\r\n            firstname: '',\r\n            lastname: '',\r\n            is_accountant: false,\r\n            is_director: false,\r\n            title_id: '',\r\n            public_sex: 'U',\r\n            sex: 'U'\r\n        },\r\n        invite_email: '',\r\n        genders: [\r\n          { value: 'M', text: 'Man' },\r\n          { value: 'F', text: 'Kvinna' },\r\n          { value: 'O', text: 'Annat' },\r\n          { value: 'U', text: 'Okänt' }\r\n        ],\r\n        companyTitles: [],\r\n        creating: false,\r\n        editing: false,\r\n        inviting: false,\r\n        users: [],\r\n        access: [],\r\n        tmpAccess: [],\r\n        tmpAccessAdmin: [],\r\n        checkedAccess: [],\r\n        checkedAccessAdmin: [],\r\n      checkedAll:false,\r\n      checkedAllAdmin:false\r\n    };\r\n  },\r\n  watch: {\r\n    currentCompanyId(newValue, oldvalue) {\r\n      if (newValue) {\r\n        this.loadUsers();\r\n      }\r\n    },\r\n    checkedAll(newVal, oldVal){\r\n      this.checkAllPerm(newVal ? 1 : 0);\r\n    },\r\n    checkedAllAdmin(newVal, oldVal){\r\n      this.checkAllAdminPerm(newVal ? 1 : 0);\r\n    },\r\n    checkedAccess(newValue, oldValue) {\r\n      // this whole function is stupid because we need to listen to each checkbox change\r\n      // and when a checkbox has changed, we grant or revoke access to the page\r\n\r\n      ////---- workaround for when we initially populate the access list, so we dont PUT all the access rules again ---- ///\r\n      if (newValue.length === this.tmpAccess.length) {\r\n        var diff = false;\r\n\r\n        for (var i = 0; i < this.tmpAccess.length; ++i) {\r\n          if (this.tmpAccess[i] !== newValue[i]) {\r\n            diff = true;\r\n            break;\r\n          }\r\n        }\r\n\r\n        if (!diff) {\r\n          return;\r\n        }\r\n      }\r\n      //// ------- end workaround ------ ///\r\n\r\n      // if oldValue length is smaller, it means we added something, so we need to add a new access\r\n      if (oldValue.length < newValue.length) {\r\n        var newAccess = '';\r\n\r\n        for (var i = 0; i < newValue.length; ++i) {\r\n          var found = false;\r\n\r\n          for (var j = 0; j < oldValue.length; ++j) {\r\n            if (newValue[i] === oldValue[j]) {\r\n              found = true;\r\n              break;\r\n            }\r\n          }\r\n\r\n          if (!found) {\r\n            newAccess = newValue[i];\r\n            break;\r\n          }\r\n        }\r\n\r\n        axios\r\n          .put('/company/set_page_perm', { company_id: this.currentCompanyId, user_id: this.user_id, page_name: newAccess, perm: 1 })\r\n          .then(res => {\r\n            if (res.status === 204) {\r\n\r\n              this.toastr('success', 'OK', 'Rättighet tilldelad');\r\n            }\r\n          })\r\n          .catch(err => {\r\n            console.error(err);\r\n            this.toastr('danger', 'Server Fel', 'Kunde inte tilldela rättighet');\r\n          });\r\n\r\n      } // oldvalue is bigger, so we removed something, so we need to remove access\r\n      else {\r\n        var revokedAccess = '';\r\n\r\n        for (var i = 0; i < oldValue.length; ++i) {\r\n          var found = false;\r\n\r\n          for (var j = 0; j < newValue.length; ++j) {\r\n            if (newValue[j] === oldValue[i]) {\r\n              found = true;\r\n              break;\r\n            }\r\n          }\r\n\r\n          if (!found) {\r\n            revokedAccess = oldValue[i];\r\n            break;\r\n          }\r\n        }\r\n\r\n        axios\r\n          .put('/company/set_page_perm', { company_id: this.currentCompanyId, user_id: this.user_id, page_name: revokedAccess, perm: 0 })\r\n          .then(res => {\r\n            if (res.status === 204) {\r\n\r\n              this.toastr('success', 'OK', 'Rättighet uppdaterad');\r\n            }\r\n          })\r\n          .catch(err => {\r\n            console.error(err);\r\n            this.toastr('danger', 'Server Fel', 'Kunde inte uppdatera rättighet');\r\n          });\r\n      }\r\n    },\r\n\r\n\r\n    checkedAccessAdmin(newValue, oldValue) {\r\n      // this whole function is stupid because we need to listen to each checkbox change\r\n      // and when a checkbox has changed, we grant or revoke access to the page\r\n\r\n      ////---- workaround for when we initially populate the access list, so we dont PUT all the access rules again ---- ///\r\n      if (newValue.length === this.tmpAccessAdmin.length) {\r\n        console.log('inside workaround');\r\n        var diff = false;\r\n\r\n        for (var i = 0; i < this.tmpAccessAdmin.length; ++i) {\r\n          if (this.tmpAccessAdmin[i] !== newValue[i]) {\r\n            diff = true;\r\n            break;\r\n          }\r\n        }\r\n\r\n        if (!diff) {\r\n          return;\r\n        }\r\n      }\r\n      //// ------- end workaround ------ ///\r\n\r\n      console.log('proceeding');\r\n\r\n      // if oldValue length is smaller, it means we added something, so we need to add a new access\r\n      if (oldValue.length < newValue.length) {\r\n        var newAccess = '';\r\n\r\n        for (var i = 0; i < newValue.length; ++i) {\r\n          var found = false;\r\n\r\n          for (var j = 0; j < oldValue.length; ++j) {\r\n            if (newValue[i] === oldValue[j]) {\r\n              found = true;\r\n              break;\r\n            }\r\n          }\r\n\r\n          if (!found) {\r\n            newAccess = newValue[i];\r\n            break;\r\n          }\r\n        }\r\n\r\n        axios\r\n          .put('/company/set_page_adm', { company_id: this.currentCompanyId, user_id: this.user_id, page_name: newAccess, adm: 1 })\r\n          .then(res => {\r\n            if (res.status === 204) {\r\n\r\n              this.toastr('success', 'OK', 'Rättighet tilldelad');\r\n            }\r\n          })\r\n          .catch(err => {\r\n            console.error(err);\r\n            this.toastr('danger', 'Server Fel', 'Kunde inte tilldela rättighet');\r\n          });\r\n\r\n      } // oldvalue is bigger, so we removed something, so we need to remove access\r\n      else {\r\n        var revokedAccess = '';\r\n\r\n        for (var i = 0; i < oldValue.length; ++i) {\r\n          var found = false;\r\n\r\n          for (var j = 0; j < newValue.length; ++j) {\r\n            if (newValue[j] === oldValue[i]) {\r\n              found = true;\r\n              break;\r\n            }\r\n          }\r\n\r\n          if (!found) {\r\n            revokedAccess = oldValue[i];\r\n            break;\r\n          }\r\n        }\r\n\r\n        axios\r\n          .put('/company/set_page_admin', { company_id: this.currentCompanyId, user_id: this.user_id, page_name: revokedAccess, adm: 0 })\r\n          .then(res => {\r\n            if (res.status === 204) {\r\n\r\n              this.toastr('success', 'OK', 'Rättighet uppdaterad');\r\n            }\r\n          })\r\n          .catch(err => {\r\n            console.error(err);\r\n            this.toastr('danger', 'Server Fel', 'Kunde inte uppdatera rättighet');\r\n          });\r\n      }\r\n\r\n      console.log(this.checkedAccessAdmin);\r\n    },\r\n    async user_id(newVal, oldVal){\r\n      if (newVal){\r\n        await this.loadAllAccess();\r\n        await this.loadUserAccess();\r\n        await this.loadCompanies();\r\n      }\r\n    },\r\n\r\n  },\r\n  methods: {\r\n    async loadData() {\r\n      this.loadUsers();\r\n    },\r\n    inviteUser() {\r\n      this.inviting = true;\r\n    },\r\n    setCompany() {\r\n\r\n      axios\r\n        .get(`/company?company_id=${this.currentCompanyId}`)\r\n        .then(res => {\r\n\r\n          axios\r\n            .get('/system/titles')\r\n            .then(sres => {\r\n              let stitles = sres.data.titles;\r\n\r\n              let titles = res.data.company.settings.titles;\r\n\r\n              if (titles === null || titles === undefined) {\r\n                titles = [];\r\n              }\r\n\r\n              this.titles = [];\r\n\r\n              for (const t of titles) {\r\n                for (const tt of stitles) {\r\n                  if (t === tt.id) {\r\n                    this.titles.push(tt);\r\n                    break;\r\n                  }\r\n                }\r\n              }\r\n\r\n              this.companyTitles = [];\r\n\r\n              for (var i = 0; i < this.titles.length; ++i) {\r\n                this.companyTitles.push({ text: this.titles[i].name, value: this.titles[i].id });\r\n              }\r\n            })\r\n            .catch(err => {\r\n              console.error(err);\r\n              this.toastr('danger', 'Fel', 'Kunde inte hämta systemtitlar');\r\n            });\r\n        })\r\n        .catch(err => {\r\n          console.error(err);\r\n          this.toastr('danger', 'Fel', 'Kunde inte hämta inställningar');\r\n        });\r\n    },\r\n    createUser() {\r\n      this.creating = true;\r\n      this.editing = false;\r\n      this.user_id = null;\r\n      this.form = {};\r\n      this.scrollToEditUser();\r\n\r\n    },\r\n    deleteUser(user_id) {\r\n\r\n      axios\r\n        .delete(`/user/remove_from_company?user_id=${user_id}&company_id=${this.currentCompanyId}`)\r\n        .then(res => {\r\n\r\n          this.users = this.users.filter(item => item.user_id !== user_id)\r\n\r\n          this.creating = false;\r\n          this.editing = false;\r\n\r\n          this.toastr('success', 'OK', 'Användaren togs bort');\r\n        })\r\n        .catch(err => {\r\n          console.error(err);\r\n          this.toastr('danger', 'Server Fel', 'Kunde inte ta bort användare');\r\n        })\r\n    },\r\n    accessLoaded(accessData) {\r\n      this.loadAccess(accessData, this.currentCompanyId);\r\n    },\r\n    selectUser(user_id) {\r\n      this.user_id = user_id;\r\n\r\n      this.editing = true;\r\n\r\n      this.scrollToEditUser();\r\n    },\r\n    changeUserAccess(user_id, is_director, is_accountant) {\r\n      if (this.user_id == user_id)\r\n        this.selectUser(user_id);\r\n    },\r\n    loadAccess(access, company_id) {\r\n      this.access = [];\r\n      this.tmpAccessAdmin = [];\r\n      this.tmpAccess = [];\r\n\r\n      var aa = [];\r\n      var adm = [];\r\n\r\n      if (access !== undefined)\r\n        for (var i = 0; i < access.length; ++i) {\r\n          var pp = access[i];\r\n\r\n          if (!pp.su) {\r\n            this.access.push({ pag: pp.pag, adm: pp.adm, per: pp.per, text: this.getLangText(pp.pag, 'sv') });\r\n\r\n            if (pp.per === 'rw' || pp.per === 'r') {\r\n              aa.push(pp.pag);\r\n              this.tmpAccess.push(pp.pag);\r\n            }\r\n\r\n            if (pp.adm === 'a') {\r\n              adm.push('a');\r\n              this.tmpAccessAdmin.push('a');\r\n            }\r\n          }\r\n        }\r\n\r\n      this.checkedAccess = aa;\r\n      this.checkedAccessAdmin = adm;\r\n    },\r\n    loadAllAccess(){\r\n      const loader = this.$loading.show();\r\n\r\n      console.log('loading access for ' + this.user_id);\r\n\r\n      axios.get(`/company_user/admin?user_id=${this.user_id}&company_id=${this.currentCompanyId}`)\r\n        .then(res => {\r\n          this.accessList = res.data;\r\n          loader.hide();\r\n        }).catch(err => {\r\n          console.error(err);\r\n          loader.hide();\r\n\r\n          this.toastr('danger', 'Fel', 'Kunde inte hämta alla rättigheter');\r\n        });\r\n    },\r\n    loadUserAccess() {\r\n      const loader = this.$loading.show();\r\n      axios\r\n        .get(`/user/allaccess?user_id=${this.user_id}`)\r\n        .then(res => {\r\n          this.companyAccess = res.data.company_access;\r\n          loader.hide();\r\n        })\r\n        .catch(err => {\r\n          console.error(err);\r\n          loader.hide();\r\n          this.toastr('danger', 'Fel', 'Kunde inte hämta alla rättigheter');\r\n        });\r\n    },\r\n    loadCompanies() {\r\n      const loader = this.$loading.show();\r\n      axios\r\n              .get(`/company/list`)\r\n              .then(res => {\r\n                this.companies = res.data.companies;\r\n                this.companies.sort(function(a,b) {\r\n                  if (a.company.name < b.company.name) {\r\n                    return -1;\r\n                  }\r\n                  return 1;\r\n                });\r\n                loader.hide();\r\n              })\r\n              .catch(err => {\r\n                console.error(err);\r\n                loader.hide();\r\n                this.toastr('danger', 'Fel', 'Kunde inte lista alla föreningar');\r\n              });\r\n    },\r\n\r\n    getLangText(lang_text, lang) {\r\n      return this.system_pages_translate[lang_text];\r\n    },\r\n    loadUsers() {\r\n\r\n      this.setCompany();\r\n\r\n      this.users = [];\r\n      axios\r\n        .get(`/company/listusers?company_id=${this.currentCompanyId}`)\r\n        .then(res => {\r\n\r\n          if (res.status === 200) {\r\n            this.users = res.data.users;\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.error(err);\r\n          this.toastr('danger', 'Server Fel', 'Kunde inte lista användare');\r\n        });\r\n    },\r\n    personnrChanged(evt) {\r\n      var result = validatePersonnr(this.form.in_personnr);\r\n      this.form.fmt_personnr = result.formatted;\r\n      this.form.sex = result.sex;\r\n    },\r\n    scrollToClassName(classname) {\r\n      var that = this;\r\n      setTimeout(function(){\r\n\r\n        const el = that.$el.getElementsByClassName(classname)[0];\r\n\r\n        if (el) {\r\n          const yOffset = -70;\r\n          const y = el.getBoundingClientRect().top + window.pageYOffset + yOffset;\r\n\r\n          window.scrollTo({top: y, behavior: 'smooth'});\r\n        }\r\n      }, 100);\r\n    },\r\n    scrollToEditUser() {\r\n      var that = this;\r\n      setTimeout(function(){\r\n\r\n        const el = that.$el.getElementsByClassName('scroll-to-container')[0];\r\n\r\n        if (el) {\r\n          const yOffset = -70;\r\n          const y = el.getBoundingClientRect().top + window.pageYOffset + yOffset;\r\n\r\n          window.scrollTo({top: y, behavior: 'smooth'});\r\n        }\r\n      }, 100);\r\n    },\r\n    userCreated(form) {\r\n      this.form = form;\r\n      this.creating = false;\r\n    },\r\n    saveUser(form) {\r\n\r\n      this.form = form;\r\n\r\n      if (this.creating) {\r\n        axios\r\n          .post('/user/create', this.form)\r\n          .then(res => {\r\n            switch (res.status) {\r\n              case 201:\r\n                const el = {\r\n                  access: true,\r\n                  accountant: this.form.is_accountant,\r\n                  director: this.form.is_director,\r\n                  email: this.form.email,\r\n                  name: `${this.form.firstname} ${this.form.lastname}`,\r\n                  title: this.form.title_id,\r\n                  user_id: res.data.user.user_id,\r\n                }\r\n                this.users.splice(0,0, el)\r\n                this.loadAccess(res.data.access, this.currentCompanyId);\r\n                this.creating = false;\r\n                this.editing = false;\r\n                this.scrollToClassName('table-responsive');\r\n                this.toastr('success', 'OK', 'Användare skapad');\r\n                break\r\n              case 409:\r\n                this.toastr('danger', 'Ogiltig e-postadress', 'Den angivna e-postadressen finns redan.');\r\n                break\r\n            }\r\n          })\r\n          .catch(err => {\r\n            this.toastr('danger', 'Server Fel', 'Kunde inte skapa användare');\r\n          });\r\n      } else {\r\n\r\n        axios\r\n          .put('/user', this.form)\r\n          .then(res => {\r\n            switch (res.status) {\r\n              case 200:\r\n              case 204:\r\n\r\n                let title = { value: '', text: '' };\r\n\r\n                for (const t of this.companyTitles) {\r\n                  if (t.value === this.form.title_id) {\r\n                    title = t;\r\n                    break;\r\n                  }\r\n                }\r\n\r\n                const el = {\r\n                  access: true,\r\n                  accountant: this.form.is_accountant,\r\n                  director: this.form.is_director,\r\n                  email: this.form.email,\r\n                  name: `${this.form.firstname} ${this.form.lastname}`,\r\n                  title: title.text,\r\n                  title_id: this.form.title_id,\r\n                  user_id: this.form.user_id,\r\n                };\r\n                let index = this.users.findIndex(function(item){\r\n                  return item.user_id == el.user_id;\r\n                });\r\n                if (index > -1)\r\n                  this.users.splice(index, 1, el);\r\n\r\n                this.loadAccess(res.data.access, this.currentCompanyId);\r\n                this.scrollToClassName('table-responsive');\r\n                this.toastr('success', 'OK', 'Användare uppdaterad');\r\n                break\r\n              case 409:\r\n                this.toastr('danger', 'Ogiltig e-postadress', 'Den angivna e-postadressen finns redan.');\r\n                break\r\n            }\r\n          })\r\n          .catch(err => {\r\n            console.error(err, \"err\");\r\n            this.toastr('danger', 'Server Fel', 'Kunde inte uppdatera användare');\r\n          });\r\n      }\r\n    },\r\n    hideInvite () {\r\n      this.inviting = false;\r\n    },\r\n    inviteEmail(e) {\r\n      e.preventDefault();\r\n\r\n      axios\r\n        .post('/company/invite', { email: this.invite_email, company_id: this.currentCompanyId })\r\n        .then(res => {\r\n          if (res.status === 201) {\r\n            this.users.push({ user_id: res.data.user.user_id, email: res.data.user.email, firstname: res.data.user.firstname, lastname: res.data.user.lastname });\r\n            this.inviting = false;\r\n            this.toastr('success', 'OK', 'E-post inbjudan skickad till användaren');\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.error(err);\r\n          this.toastr('danger', 'Server Fel', 'Kunde inte bjuda in via e-post');\r\n        });\r\n      this.invite_email = '';\r\n    },\r\n\r\n\r\n    async checkAllAdminPerm(val){\r\n      const payload = { adm: val, user_id:this.user_id, company_id: this.currentCompanyId };\r\n      const res = await axios.put('/company/set_all_adm', payload)\r\n\r\n      if (res.status === 204) {\r\n        this.toastr('success', 'OK', 'Rättighet uppdaterad');\r\n\r\n        this.checkedAccessAdmin = [];\r\n\r\n        for (const a of this.access) {\r\n          a.adm = val === 1 ? 'a' : '-';\r\n\r\n          if (val === 1) {\r\n            this.checkedAccessAdmin.push(a.adm);\r\n          }\r\n        }\r\n\r\n      }\r\n      else {\r\n        this.toastr('danger', 'Server Fel', 'Kunde inte uppdatera rättighet');\r\n      }\r\n\r\n      await this.selectUser(this.user_id);\r\n    },\r\n\r\n    async checkAllPerm(val){\r\n      const payload = { perm: val, user_id:this.user_id, company_id: this.currentCompanyId };\r\n      const res = await axios.put('/company/set_all_perm', payload)\r\n\r\n      if (res.status === 204) {\r\n        this.toastr('success', 'OK', 'Rättighet uppdaterad');\r\n\r\n        this.checkedAccess = [];\r\n\r\n        for (const a of this.access) {\r\n          a.per = val === 1 ? 'rw' : '-';\r\n\r\n          if (val === 1) {\r\n            this.checkedAccess.push(a.pag);\r\n          }\r\n        }\r\n\r\n      }\r\n      else {\r\n        this.toastr('danger', 'Server Fel', 'Kunde inte uppdatera rättighet');\r\n      }\r\n\r\n      await this.selectUser(this.user_id);\r\n    },\r\n    toastr(type, title, message) {\r\n      this.$bvToast.toast(message, {\r\n        title: title,\r\n        autoHideDelay: 2000,\r\n        appendToast: true,\r\n        variant: type,\r\n      })\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Users.vue?vue&type=template&id=be38831a&scoped=true&\"\nimport script from \"./Users.vue?vue&type=script&lang=js&\"\nexport * from \"./Users.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Users.vue?vue&type=style&index=0&id=be38831a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"be38831a\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabItem } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\ninstallComponents(component, {VTab,VTabItem,VTabs})\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPagesAccess.vue?vue&type=style&index=0&id=848e7534&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserTableRow.vue?vue&type=style&index=0&id=7e45b4e4&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UsersTable.vue?vue&type=style&index=0&id=5cae9013&lang=scss&scoped=true&\""],"sourceRoot":""}