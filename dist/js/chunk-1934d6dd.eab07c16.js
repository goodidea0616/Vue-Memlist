(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1934d6dd"],{"0334":function(t,e,n){},"0969":function(t,e,n){"use strict";n("b059")},"0a1b":function(t,e,n){"use strict";n("4444")},"104b":function(t,e,n){},"10a0":function(t,e,n){"use strict";n("8d7f")},1526:function(t,e,n){},"164c":function(t,e,n){},"194a":function(t,e,n){"use strict";n("91c0")},"19e8":function(t,e,n){"use strict";n("104b")},"1ab5":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"px-5 mt-8",attrs:{id:"page-basic0"}},[n("b-row",[n("b-col",{attrs:{lg:"12"}},[n("b-card",{staticClass:"mb-2 mx-auto mt-8",attrs:{title:"","hide-footer":""}},[n("div",[n("b-form",{staticClass:"mt-8",on:{submit:t.saveData}},[n("b-form-group",{attrs:{id:"input-group-name",label:"Namn","label-for":"input-name"}},[n("b-form-input",{attrs:{id:"input-name",type:"text",required:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),""!=t.form.logo?n("b-row",[n("b-col",{attrs:{lg:"12"}},[n("b-img",{staticStyle:{"max-height":"200px"},attrs:{src:t.form.logo+"?rnd="+t.rnd,fluid:"",thumbnail:""}})],1)],1):t._e(),n("b-row",{staticClass:"mt-2"},[n("b-col",{attrs:{lg:"12"}},[n("b-button",{attrs:{type:"button",variant:"success"},on:{click:function(e){return t.selectFile()}}},[t._v("Ladda upp logotyp")])],1)],1),n("input",{ref:"file",attrs:{hidden:"",type:"file",id:"file",accept:"image/*"},on:{change:function(e){return t.handleFileUpload()}}}),n("b-form-group",{staticClass:"mt-8 mb-4",attrs:{id:"input-group-cnum",label:"Föreningsnummer","label-for":"input-cnum"}},[n("b-form-input",{attrs:{id:"input-cnum",type:"text"},model:{value:t.form.cnum,callback:function(e){t.$set(t.form,"cnum",e)},expression:"form.cnum"}})],1),n("b-form-group",{attrs:{id:"input-group-type",label:"Typ","label-for":"input-type"}},[n("b-form-select",{attrs:{id:"type",options:t.companyTypes},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}})],1),n("b-form-group",{attrs:{id:"input-group-org_number",label:"Org. Nummer","label-for":"input-org_number"}},[n("b-form-input",{attrs:{id:"input-org_number",type:"text"},model:{value:t.form.org_number,callback:function(e){t.$set(t.form,"org_number",e)},expression:"form.org_number"}})],1),n("b-form-group",{attrs:{id:"input-group-mpid",label:"Medlemslöpnummer","label-for":"input-mpid"}},[n("b-form-input",{attrs:{id:"input-mpid",type:"text"},model:{value:t.form.mpid,callback:function(e){t.$set(t.form,"mpid",e)},expression:"form.mpid"}})],1),n("b-form-group",{attrs:{id:"input-group-pc_id",label:"Moderförening ID","label-for":"input-pc_id"}},[n("b-form-input",{attrs:{id:"input-pc_id",type:"text"},model:{value:t.form.pc_id,callback:function(e){t.$set(t.form,"pc_id",e)},expression:"form.pc_id"}})],1),n("b-form-group",{attrs:{id:"input-group-street",label:"Gatuadress","label-for":"input-street"}},[n("b-form-input",{attrs:{id:"input-street",type:"text"},model:{value:t.form.street,callback:function(e){t.$set(t.form,"street",e)},expression:"form.street"}})],1),n("b-form-group",{attrs:{id:"input-group-zipcode",label:"Postkod","label-for":"input-zipcode"}},[n("b-form-input",{attrs:{id:"input-zipcode",type:"text"},model:{value:t.form.zipcode,callback:function(e){t.$set(t.form,"zipcode",e)},expression:"form.zipcode"}})],1),n("b-form-group",{attrs:{id:"input-group-post",label:"Postort","label-for":"input-post"}},[n("b-form-input",{attrs:{id:"input-post",type:"text"},model:{value:t.form.post,callback:function(e){t.$set(t.form,"post",e)},expression:"form.post"}})],1),n("b-form-group",{attrs:{id:"input-group-region_code",label:"Region","label-for":"input-region_code"}},[n("b-form-select",{attrs:{id:"region_code",options:t.regionOptions},model:{value:t.region_code,callback:function(e){t.region_code=e},expression:"region_code"}})],1),n("b-form-group",{attrs:{id:"input-group-commune_code",label:"Kommun","label-for":"input-commune_code"}},[n("b-form-select",{attrs:{id:"commune_code",options:t.communeOptions},model:{value:t.commune_code,callback:function(e){t.commune_code=e},expression:"commune_code"}})],1),n("b-form-group",{attrs:{id:"input-group-email",label:"Konto e-post (Ej synlig)","label-for":"input-email"}},[n("b-form-input",{attrs:{id:"input-email",type:"text"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),n("b-form-group",{attrs:{id:"input-group-phone",label:"Konto telefon (Ej synlig)","label-for":"input-phone"}},[n("b-form-input",{attrs:{id:"input-phone",type:"text"},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1),n("b-form-group",{attrs:{id:"input-group-c_name",label:"Kontakt namn","label-for":"input-c_name"}},[n("b-form-input",{attrs:{id:"input-c_name",type:"text"},model:{value:t.form.c_name,callback:function(e){t.$set(t.form,"c_name",e)},expression:"form.c_name"}})],1),n("b-form-group",{attrs:{id:"input-group-c_email",label:"Kontakt E-post","label-for":"input-c_email"}},[n("b-form-input",{attrs:{id:"input-c_email",type:"text"},model:{value:t.form.c_email,callback:function(e){t.$set(t.form,"c_email",e)},expression:"form.c_email"}})],1),n("b-form-group",{attrs:{id:"input-group-c_phone",label:"Kontakt Telefon","label-for":"input-c_phone"}},[n("b-form-input",{attrs:{id:"input-c_phone",type:"text"},model:{value:t.form.c_phone,callback:function(e){t.$set(t.form,"c_phone",e)},expression:"form.c_phone"}})],1),n("b-form-group",{attrs:{id:"input-group-web",label:"Hemsida","label-for":"input-web"}},[n("b-form-input",{attrs:{id:"input-web",type:"text"},model:{value:t.form.web,callback:function(e){t.$set(t.form,"web",e)},expression:"form.web"}})],1),n("div",{staticClass:"d-flex align-items-center mb-6"},[n("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.mucf.include,expression:"form.mucf.include"}],attrs:{type:"checkbox",name:""},domProps:{checked:Array.isArray(t.form.mucf.include)?t._i(t.form.mucf.include,null)>-1:t.form.mucf.include},on:{click:function(e){t.form.mucf.include=!t.form.mucf.include},change:function(e){var n=t.form.mucf.include,r=e.target,a=!!r.checked;if(Array.isArray(n)){var i=null,s=t._i(n,i);r.checked?s<0&&t.$set(t.form.mucf,"include",n.concat([i])):s>-1&&t.$set(t.form.mucf,"include",n.slice(0,s).concat(n.slice(s+1)))}else t.$set(t.form.mucf,"include",a)}}}),n("span")]),n("span",{staticClass:"ml-3 cursor-pointer"},[t._v("Inkludera i MUCF beräkningar")])]),null!==t.form.stats&&void 0!==t.form.stats?n("div",{staticClass:"d-flex align-items-center mb-8"},[n("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-outline-2x checkbox-primary"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.stats.pcinc,expression:"form.stats.pcinc"}],attrs:{type:"checkbox",name:""},domProps:{checked:Array.isArray(t.form.stats.pcinc)?t._i(t.form.stats.pcinc,null)>-1:t.form.stats.pcinc},on:{click:function(e){t.form.stats.pcinc=!t.form.stats.pcinc},change:function(e){var n=t.form.stats.pcinc,r=e.target,a=!!r.checked;if(Array.isArray(n)){var i=null,s=t._i(n,i);r.checked?s<0&&t.$set(t.form.stats,"pcinc",n.concat([i])):s>-1&&t.$set(t.form.stats,"pcinc",n.slice(0,s).concat(n.slice(s+1)))}else t.$set(t.form.stats,"pcinc",a)}}}),n("span")]),n("span",{staticClass:"ml-3 cursor-pointer"},[t._v("Statistik ska inkluderas i moderföreningen")])]):t._e(),t._l(t.extras_data,(function(e,r){return[n("b-form-group",{key:r,attrs:{label:e.name}},[n("b-form-input",{attrs:{type:"text"},model:{value:e.value,callback:function(n){t.$set(e,"value",n)},expression:"item.value"}})],1)]})),n("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Spara")])],2)],1)])],1)],1)],1)},a=[],i=(n("96cf"),n("1da1")),s=n("5530"),o=n("bc3a"),c=n.n(o),l=n("2f62"),u=n("767c"),m={name:"basic-settings",components:{},props:["company_id","company","extras","regions","creating"],computed:Object(s["a"])({},Object(l["b"])(["currentPeriodId","currentCompanyId"])),mounted:function(){this.loadData()},data:function(){return{extras_data:[],rnd:"aaa",communeOptions:[],regionOptions:[],companyTypes:[{value:"default",text:"Förening"},{value:"riks",text:"Riksförbund"},{value:"student",text:"Studentkår"},{value:"workgroup",text:"Arbetsgrupp"}],region_code:"",commune_code:"",form:{company_id:"",name:"",c_email:"",c_name:"",c_phone:"",org_number:"",type:"",cnum:0,mpid:0,pc_id:null,street:"",region_code:"",commune_code:"",web:"",mucf:{include:!1},stats:{pcinc:!1}}}},watch:{company_id:function(t,e){},extras:function(t,e){this.extras_data=t},regions:function(t,e){this.setRegions(t)},company:function(t,e){if(t){for(var n in t)t.hasOwnProperty(n)&&(this.form[n]=t[n]);t.hasOwnProperty("region_code")&&(this.region_code=t.region_code),t.hasOwnProperty("commune_code")&&(this.commune_code=t.commune_code),this.form.hasOwnProperty("mucf")||(this.form["mucf"]={include:!1}),this.form.mucf.hasOwnProperty("include")||(this.form["mucf"]["include"]=!1),null!==this.form.stats&&void 0!==this.form.stats||(this.form.stats={pcinc:!1})}},region_code:function(t,e){t&&void 0!=this.regions[t]&&this.regions[t].hasOwnProperty("communes")&&this.setCommunes(this.regions[t].communes)}},methods:{setCommunes:function(t){for(var e in this.communeOptions=[],t)this.communeOptions.push({value:e,text:t[e].commune});this.communeOptions.sort((function(t,e){return t.text<e.text?-1:t.text>e.text?1:0}))},setRegions:function(t){for(var e in this.regionOptions=[],t)t[e].hasOwnProperty("region")&&this.regionOptions.push({value:e,text:t[e].region});this.region_code,this.regions},loadData:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.form=t.company,t.form.hasOwnProperty("mucf")||(t.form["mucf"]={include:!1}),t.form.mucf.hasOwnProperty("include")||(t.form["mucf"]["include"]=!1),t.region_code=t.company.region_code,t.commune_code=t.company.commune_code,t.setRegions(t.regions);case 6:case"end":return e.stop()}}),e)})))()},getLangText:function(t,e){for(var n=0;n<t.length;++n)if(t[n].lang===e)return t[n].text;return"Språköversättning saknas"},loadCompany:function(t){var e=this;c.a.get("/company?company_id=".concat(t)).then((function(t){e.form=t.data.company,e.form.hasOwnProperty("mucf")&&e.form.mucf.hasOwnProperty("include")||(e.form["mucf"]["include"]=!1),null!==e.form.stats&&void 0!==e.form.stats||(e.form.stats={pcinc:!1})})).catch((function(t){console.error(t),e.toastr("danger","Server Fel","Kunde inte hämta föreningsuppgifter")}))},saveData:function(t){var e=this;t.preventDefault(),this.form.company_id=this.company.company_id,this.form.region_code=this.region_code,this.form.commune_code=this.commune_code,this.form.extras=this.extras_data,this.creating?c.a.post("/company",this.form).then((function(t){201===t.status&&(e.toastr("success","OK","Förening skapad"),e.reloadCompanies())})).catch((function(t){console.error(t),e.toastr("danger","Server Fel","Kunde inte skapa förening")})):c.a.put("/company",this.form).then((function(t){204===t.status&&(e.toastr("success","OK","Inställningar uppdaterad"),e.reloadCompanies())})).catch((function(t){console.error(t),e.toastr("danger","Server Fel","Kunde inte uppdatera inställningar")}))},reloadCompanies:function(){var t=this;c.a.get("/company/list").then((function(e){200===e.status&&(t.$store.dispatch(u["c"],e.data.companies),t.$emit("saved"))})).catch((function(e){console.error(e),t.toastr("danger","Serverfel","Gick inte att hämta föreningslista")}))},toastr:function(t,e,n){this.$bvToast.toast(n,{title:e,autoHideDelay:2e3,appendToast:!0,variant:t})},handleFileUpload:function(){this.file=this.$refs.file.files[0],this.uploadFile()},selectFile:function(){this.$refs.file.click()},uploadFile:function(){var t=this,e=new FormData;e.append("file",this.file),e.append("file_source","company_logo"),e.append("company_id",this.currentCompanyId),c.a.post("/fileupload",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t.toastr("success","OK","Filen laddades upp"),console.log(e.data),t.form.logo=e.data.files[0],console.log(t.form.logo),t.rnd=t.randomstr(5)})).catch((function(e){console.error(e),t.toastr("danger","Server Fel","Kunde inte ladda upp fil")}))},randomstr:function(t){for(var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=n.length,a=0;a<t;a++)e+=n.charAt(Math.floor(Math.random()*r));return e}}},p=m,d=(n("2a4f"),n("2877")),f=Object(d["a"])(p,r,a,!1,null,"58bb3208",null);e["a"]=f.exports},"1da1":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n("d3b7");function r(t,e,n,r,a,i,s){try{var o=t[i](s),c=o.value}catch(l){return void n(l)}o.done?e(c):Promise.resolve(c).then(r,a)}function a(t){return function(){var e=this,n=arguments;return new Promise((function(a,i){var s=t.apply(e,n);function o(t){r(s,a,i,o,c,"next",t)}function c(t){r(s,a,i,o,c,"throw",t)}o(void 0)}))}}},"263a":function(t,e,n){},"2a4f":function(t,e,n){"use strict";n("164c")},"30ff":function(t,e,n){"use strict";n("0334")},3499:function(t,e,n){},"386d":function(t,e,n){"use strict";n("9b32")},"40c9":function(t,e,n){},"424e":function(t,e,n){},4444:function(t,e,n){},"49f3":function(t,e,n){},5036:function(t,e,n){"use strict";n("e52c")},6708:function(t,e,n){},6874:function(t,e,n){"use strict";n("424e")},"694b":function(t,e,n){},"697a":function(t,e,n){"use strict";n("49f3")},"6ae0":function(t,e,n){},"71a2":function(t,e,n){"use strict";n("9db1")},"791d":function(t,e,n){},"7eac":function(t,e,n){(function(e,n){t.exports=n()})("undefined"!==typeof self&&self,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="fb15")}({"27f1":function(t,e,n){t.exports=n.p+"img/angle-left-solid.b735719b.svg"},3407:function(t,e,n){t.exports=n.p+"img/angle-double-right-solid.67a570c7.svg"},"667a":function(t,e,n){t.exports=n.p+"img/angle-right-solid.eef567e9.svg"},"7d05":function(t,e,n){},cf78:function(t,e,n){t.exports=n.p+"img/angle-double-left-solid.efde4c1b.svg"},f6fd:function(t,e){(function(t){var e="currentScript",n=t.getElementsByTagName("script");e in t||Object.defineProperty(t,e,{get:function(){try{throw new Error}catch(r){var t,e=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(r.stack)||[!1])[1];for(t in n)if(n[t].src==e||"interactive"==n[t].readyState)return n[t];return null}}})})(document)},fb15:function(t,e,n){"use strict";var r;(n.r(e),"undefined"!==typeof window)&&(n("f6fd"),(r=window.document.currentScript)&&(r=r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(n.p=r[1]));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list-box-wrapper"},[n("div",{staticClass:"list-box-item"},[n("div",{staticClass:"search-box"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.searchSource,expression:"searchSource"}],attrs:{type:"text",placeholder:"Search"},domProps:{value:t.searchSource},on:{input:function(e){e.target.composing||(t.searchSource=e.target.value)}}}),t.searchSource?n("div",{staticClass:"clear-search",attrs:{title:"Clear Search"},on:{click:function(e){t.searchSource=""}}},[t._v("×")]):t._e()]),n("ul",{staticClass:"list-box"},[t._l(t.source.map((function(t,e){return Object.assign({},{inx:e},t)})).filter((function(e){return e[t.label in e?t.label:"label"].toLowerCase().includes(t.searchSource.toLowerCase())})),(function(e,r){return n("li",{key:r,class:"list-item"+(e.selected?" active":""),on:{click:function(n){return t.selectSource(t.searchSource?e.inx:r)}}},[t._v(t._s(e[t.label in e?t.label:"label"]))])})),0==t.source.filter((function(e){return e[t.label in e?t.label:"label"].toLowerCase().includes(t.searchSource.toLowerCase())})).length&&t.source.length?n("li",{staticClass:"list-item"},[t._v("No results found")]):t._e()],2),n("div",{staticClass:"bulk-action"},[n("div",{staticClass:"select-all",on:{click:t.selectAllSource}},[t._v("Select All")]),n("div",{staticClass:"deselect-all",on:{click:t.deSelectAllSource}},[t._v("None")])])]),n("div",{staticClass:"actions"},[n("div",{staticClass:"btn-action",on:{click:t.moveDestination}},[n("svg",{attrs:{height:"18",viewBox:"0 0 256 512"}},[n("path",{attrs:{fill:"#ffffff",d:"M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"}})])]),n("div",{staticClass:"btn-action",on:{click:t.moveAllDestination}},[n("svg",{attrs:{height:"18",viewBox:"0 0 448 512"}},[n("path",{attrs:{fill:"#ffffff",d:"M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34zm192-34l-136-136c-9.4-9.4-24.6-9.4-33.9 0l-22.6 22.6c-9.4 9.4-9.4 24.6 0 33.9l96.4 96.4-96.4 96.4c-9.4 9.4-9.4 24.6 0 33.9l22.6 22.6c9.4 9.4 24.6 9.4 33.9 0l136-136c9.4-9.2 9.4-24.4 0-33.8z"}})])]),n("div",{staticClass:"btn-action",on:{click:t.moveSource}},[n("svg",{attrs:{height:"18",viewBox:"0 0 256 512"}},[n("path",{attrs:{fill:"#ffffff",d:"M31.7 239l136-136c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9L127.9 256l96.4 96.4c9.4 9.4 9.4 24.6 0 33.9L201.7 409c-9.4 9.4-24.6 9.4-33.9 0l-136-136c-9.5-9.4-9.5-24.6-.1-34z"}})])]),n("div",{staticClass:"btn-action",on:{click:t.moveAllSource}},[n("svg",{attrs:{height:"18",viewBox:"0 0 448 512"}},[n("path",{attrs:{fill:"#ffffff",d:"M223.7 239l136-136c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9L319.9 256l96.4 96.4c9.4 9.4 9.4 24.6 0 33.9L393.7 409c-9.4 9.4-24.6 9.4-33.9 0l-136-136c-9.5-9.4-9.5-24.6-.1-34zm-192 34l136 136c9.4 9.4 24.6 9.4 33.9 0l22.6-22.6c9.4-9.4 9.4-24.6 0-33.9L127.9 256l96.4-96.4c9.4-9.4 9.4-24.6 0-33.9L201.7 103c-9.4-9.4-24.6-9.4-33.9 0l-136 136c-9.5 9.4-9.5 24.6-.1 34z"}})])])]),n("div",{staticClass:"list-box-item"},[n("div",{staticClass:"search-box"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.searchDestination,expression:"searchDestination"}],attrs:{type:"text",placeholder:"Search"},domProps:{value:t.searchDestination},on:{input:function(e){e.target.composing||(t.searchDestination=e.target.value)}}}),t.searchDestination?n("div",{staticClass:"clear-search",attrs:{title:"Clear Search"},on:{click:function(e){t.searchDestination=""}}},[t._v("×")]):t._e()]),n("ul",{staticClass:"list-group list-group-flush border rounded list-box"},[t._l(t.destination.map((function(t,e){return Object.assign({},{inx:e},t)})).filter((function(e){return e[t.label in e?t.label:"label"].toLowerCase().includes(t.searchDestination.toLowerCase())})),(function(e,r){return n("li",{key:r,class:"list-item"+(e.selected?" active":""),on:{click:function(n){return t.selectDestination(t.searchDestination?e.inx:r)}}},[t._v(t._s(e[t.label in e?t.label:"label"]))])})),0==t.destination.filter((function(e){return e[t.label in e?t.label:"label"].toLowerCase().includes(t.searchDestination.toLowerCase())})).length&&t.destination.length?n("li",{staticClass:"list-item"},[t._v("No results found")]):t._e()],2),n("div",{staticClass:"bulk-action"},[n("div",{staticClass:"select-all",on:{click:t.selectAllDestination}},[t._v("Select All")]),n("div",{staticClass:"deselect-all",on:{click:t.deSelectAllDestination}},[t._v("None")])])])])},i=[],s=n("667a"),o=n.n(s),c=n("27f1"),l=n.n(c),u=n("cf78"),m=n.n(u),p=n("3407"),d=n.n(p),f=(n("7d05"),{props:{source:Array,destination:Array,label:String},data:function(){return{angleRight:o.a,angleLeft:l.a,angleDoubleLeft:m.a,angleDoubleRight:d.a,searchSource:"",searchDestination:""}},methods:{moveDestination:function(){let t=this.source.filter(t=>t.selected);if(!t.length)return;t=t.map(t=>({...t,selected:!1}));let e=[...t,...this.destination],n=this.source.filter(t=>!t.selected);this.searchSource="",this.searchDestination="",this.$emit("onChangeList",{source:n,destination:e})},moveSource:function(){let t=this.destination.filter(t=>t.selected);if(!t.length)return;t=t.map(t=>({...t,selected:!1}));let e=[...t,...this.source],n=this.destination.filter(t=>!t.selected);this.searchSource="",this.searchDestination="",this.$emit("onChangeList",{source:e,destination:n})},moveAllDestination:function(){let t=[...this.source.map(t=>({...t,selected:!1})),...this.destination],e=[];this.searchSource="",this.searchDestination="",this.$emit("onChangeList",{source:e,destination:t})},moveAllSource:function(){let t=[...this.destination.map(t=>({...t,selected:!1})),...this.source],e=[];this.searchSource="",this.searchDestination="",this.$emit("onChangeList",{source:t,destination:e})},selectDestination:function(t){let e=this.source,n=this.destination.map((e,n)=>(n===t&&(e.selected=!e.selected),e));this.$emit("onChangeList",{source:e,destination:n})},selectSource:function(t){let e=this.destination,n=this.source.map((e,n)=>(n===t&&(e.selected=!e.selected),e));this.$emit("onChangeList",{source:n,destination:e})},selectAllSource:function(){let t=this.source.map(t=>({...t,selected:!0})),e=this.destination;this.$emit("onChangeList",{source:t,destination:e})},deSelectAllSource:function(){let t=this.source.map(t=>({...t,selected:!1})),e=this.destination;this.$emit("onChangeList",{source:t,destination:e})},selectAllDestination:function(){let t=this.destination.map(t=>({...t,selected:!0})),e=this.source;this.$emit("onChangeList",{source:e,destination:t})},deSelectAllDestination:function(){let t=this.destination.map(t=>({...t,selected:!1})),e=this.source;this.$emit("onChangeList",{source:e,destination:t})}}}),h=f;function g(t,e,n,r,a,i,s,o){var c,l="function"===typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),i&&(l._scopeId="data-v-"+i),s?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):a&&(c=o?function(){a.call(this,this.$root.$options.shadowRoot)}:a),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var m=l.beforeCreate;l.beforeCreate=m?[].concat(m,c):[c]}return{exports:t,options:l}}var b=g(h,a,i,!1,null,null,null),v=b.exports;e["default"]=v}})["default"]}))},"828f":function(t,e,n){"use strict";n("6ae0")},"8d7f":function(t,e,n){},"908f":function(t,e,n){},9096:function(t,e,n){"use strict";n("694b")},"91c0":function(t,e,n){},"91e1":function(t,e,n){},"96cf":function(t,e,n){var r=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,a="function"===typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",o=a.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(E){c=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var a=e&&e.prototype instanceof g?e:g,i=Object.create(a.prototype),s=new j(r||[]);return i._invoke=O(t,n,s),i}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(E){return{type:"throw",arg:E}}}t.wrap=l;var m="suspendedStart",p="suspendedYield",d="executing",f="completed",h={};function g(){}function b(){}function v(){}var _={};_[i]=function(){return this};var y=Object.getPrototypeOf,x=y&&y(y(S([])));x&&x!==n&&r.call(x,i)&&(_=x);var k=v.prototype=g.prototype=Object.create(_);function C(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function n(a,i,s,o){var c=u(t[a],t,i);if("throw"!==c.type){var l=c.arg,m=l.value;return m&&"object"===typeof m&&r.call(m,"__await")?e.resolve(m.__await).then((function(t){n("next",t,s,o)}),(function(t){n("throw",t,s,o)})):e.resolve(m).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,o)}))}o(c.arg)}var a;function i(t,r){function i(){return new e((function(e,a){n(t,r,e,a)}))}return a=a?a.then(i,i):i()}this._invoke=i}function O(t,e,n){var r=m;return function(a,i){if(r===d)throw new Error("Generator is already running");if(r===f){if("throw"===a)throw i;return R()}n.method=a,n.arg=i;while(1){var s=n.delegate;if(s){var o=$(s,n);if(o){if(o===h)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===m)throw r=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var c=u(t,e,n);if("normal"===c.type){if(r=n.done?f:p,c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=f,n.method="throw",n.arg=c.arg)}}}function $(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator["return"]&&(n.method="return",n.arg=e,$(t,n),"throw"===n.method))return h;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var a=u(r,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,h;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function D(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(D,this),this.reset(!0)}function S(t){if(t){var n=t[i];if(n)return n.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var a=-1,s=function n(){while(++a<t.length)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return s.next=s}}return{next:R}}function R(){return{value:e,done:!0}}return b.prototype=k.constructor=v,v.constructor=b,b.displayName=c(v,o,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,c(t,o,"GeneratorFunction")),t.prototype=Object.create(k),t},t.awrap=function(t){return{__await:t}},C(w.prototype),w.prototype[s]=function(){return this},t.AsyncIterator=w,t.async=function(e,n,r,a,i){void 0===i&&(i=Promise);var s=new w(l(e,n,r,a),i);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},C(k),c(k,o,"Generator"),k[i]=function(){return this},k.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){while(e.length){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=S,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return o.type="throw",o.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],o=s.completion;if("root"===s.tryLoc)return a("end");if(s.tryLoc<=this.prev){var c=r.call(s,"catchLoc"),l=r.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return a(s.catchLoc,!0);if(this.prev<s.finallyLoc)return a(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return a(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return a(s.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=t,s.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;I(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:S(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),h}},t}(t.exports);try{regeneratorRuntime=r}catch(a){Function("r","regeneratorRuntime = r")(r)}},"96d9":function(t,e,n){"use strict";n("40c9")},"9b32":function(t,e,n){},"9db1":function(t,e,n){},a4af:function(t,e,n){"use strict";n("91e1")},a744:function(t,e,n){"use strict";n("1526")},a968:function(t,e,n){},b059:function(t,e,n){},b12b:function(t,e,n){"use strict";n("f5f2")},bfb6:function(t,e,n){},c4ba:function(t,e,n){"use strict";n("791d")},cac8:function(t,e,n){"use strict";n("3499")},d26e:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"px-5",attrs:{id:"page-periods"}},[n("h5",{staticClass:"mb-6 ml-2"},[t._v("Föreningsinställningar")]),n("b-card",{staticClass:"mb-2",attrs:{title:"","hide-footer":""}},[n("v-tabs",{attrs:{"background-color":"white",color:"deep-purple accent-4",right:""}},[n("v-tab",[t._v("Offentligt")]),n("v-tab",[t._v("Länkar")]),n("v-tab",[t._v("Registrering")]),n("v-tab",[t._v("Titlar")]),n("v-tab",[t._v("Bank")]),n("v-tab",[t._v("Medlemskrav")]),n("v-tab",[t._v("Medlemsprofil")]),n("v-tab",[t._v("E-post")]),n("v-tab",[t._v("Dintero")]),n("v-tab",[t._v("Fortnox")]),n("v-tab",[t._v("API Koppling")]),n("v-tab",[t._v("Evenemang")]),t.company.sid===t.company.company_id?n("v-tab",[t._v("Extra Data")]):t._e(),n("v-tab-item",[n("Basic",{attrs:{creating:!1,company:t.company,regions:t.regions,extras:t.extras},on:{selectRegion1:t.selectRegion1}})],1),n("v-tab-item",[n("Links")],1),n("v-tab-item",[n("Registration",{attrs:{regions:t.regions,company:t.company},on:{updateRegistration:t.updateRegistration,selectRegion:t.selectRegion2}})],1),n("v-tab-item",[n("Titles",{attrs:{settings:t.company.settings},on:{updateSettings:t.updateTitleSettings}})],1),n("v-tab-item",[n("Bank")],1),n("v-tab-item",[n("Requirements",{attrs:{company:t.company}})],1),n("v-tab-item",[n("MemberProfile",{attrs:{company:t.company}})],1),n("v-tab-item",[n("Email",{attrs:{smtp:t.company.smtp},on:{updateSettings:t.updateEmailSettings}})],1),n("v-tab-item",[n("CreditCard",{attrs:{settings:t.company.settings}})],1),n("v-tab-item",[n("Fortnox",{attrs:{settings:t.company.settings}})],1),n("v-tab-item",[n("APIConnection",{attrs:{domains:t.company.origins}})],1),n("v-tab-item",[n("Evenemang",{attrs:{settings:t.company.settings}})],1),t.company.sid===t.company.company_id?n("v-tab-item",[n("ExtraData")],1):t._e()],1)],1)],1)},a=[],i=(n("96cf"),n("1da1")),s=n("5530"),o=n("bc3a"),c=n.n(o),l=n("2f62"),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"px-5 mt-8",attrs:{id:"page-bank"}},[n("b-row",[n("b-col",{attrs:{lg:"2"}}),n("b-col",{attrs:{lg:"8"}},[n("b-card",{staticClass:"mb-2 mt-8",attrs:{title:"","hide-footer":""}},[n("div",[n("b-alert",{attrs:{show:"",variant:"info"}},[t._v("För att er hemsida ska kunna få tillgång till systemets API tjänster behöver ni lägga till era domäner som ska ha tillgång till systemet. Glöm inte att lägga till https:// eller http://")]),n("b-form",{staticClass:"mt-8",on:{submit:t.saveData}},[n("b-input-group",[n("b-form-input",{attrs:{placeholder:"https://exempel.se"},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}}),n("b-input-group-append",[n("b-button",{attrs:{variant:"outline-success",type:"submit"}},[t._v("Lägg till")])],1)],1)],1),n("APIConnectionTable",{attrs:{domains:t.domains},on:{deleteDomainClicked:t.deleteDomain}})],1)])],1)],1)],1)},m=[],p=(n("99af"),n("4de4"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card card-custom card-stretch gutter-b"},[t._m(0),n("div",{staticClass:"card-body pt-0 pb-3"},[n("div",{staticClass:"table-responsive"},[n("table",{staticClass:"table table-head-custom table-vertical-center table-head-bg table-borderless"},[t._m(1),n("tbody",[t._l(t.domains,(function(e,r){return[n("APIConnectionTableRow",{key:r,attrs:{domain:e,currentCompanyId:t.currentCompanyId},on:{deleteDomainClicked:t.deleteDomainClicked,toastr:t.toastr}})]}))],2)])])])])}),d=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card-header border-0 py-5"},[n("h3",{staticClass:"card-title align-items-start flex-column"},[n("span",{staticClass:"card-label font-weight-bolder text-dark"})]),n("div",{staticClass:"card-toolbar"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",{staticClass:"text-left"},[n("th",[t._v("Domän")]),n("th")])])}],f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("td",[t._v(" "+t._s(t.domain)+" ")]),n("td",[n("a",{staticClass:"btn btn-icon btn-light btn-sm",attrs:{href:"#"},on:{click:function(e){return t.deleteDomainClicked(t.domain)}}},[n("span",{staticClass:"svg-icon svg-icon-md svg-icon-primary"},[n("inline-svg",{attrs:{src:"/assets/svg/Trash.svg"}})],1)])])])},h=[],g={name:"api-connection-table-row",props:["domain"],computed:Object(s["a"])({},Object(l["b"])(["currentCompanyId"])),data:function(){return{}},mounted:function(){},watch:{},methods:{deleteDomainClicked:function(t){this.$emit("deleteDomainClicked",t)}}},b=g,v=(n("c4ba"),n("2877")),_=Object(v["a"])(b,f,h,!1,null,"5d13bdfc",null),y=_.exports,x={name:"api-connection-table",props:["domains","currentCompanyId"],components:{APIConnectionTableRow:y},methods:{toastr:function(t,e,n){this.$emit("toastr",t,e,n)},deleteDomain:function(t){var e=this;c.a.delete("/company/domain?company_id=".concat(t,"&company_id=").concat(this.currentCompanyId)).then((function(n){e.domains=e.users.domains((function(e){return e!==t})),e.toastr("success","OK","Domänen togs bort")})).catch((function(t){e.toastr("danger","Server Fel","Kunde inte ta bort domän")}))}},data:function(){return{}}},k=x,C=(n("a744"),Object(v["a"])(k,p,d,!1,null,"182c9e19",null)),w=C.exports,O={name:"api-connection-settings",components:{APIConnectionTable:w},props:["domains"],computed:Object(s["a"])({},Object(l["b"])(["currentCompanyId","currentPeriodId"])),mounted:function(){this.loadData()},data:function(){return{text:"",form:{}}},watch:{currentCompanyId:function(t,e){t&&this.loadData()}},methods:{loadData:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.currentCompanyId){e.next=2;break}return e.abrupt("return");case 2:case"end":return e.stop()}}),e)})))()},getLangText:function(t,e){for(var n=0;n<t.length;++n)if(t[n].lang===e)return t[n].text;return"Språköversättning saknas"},saveData:function(t){var e=this;t.preventDefault(),this.domains.push(this.text),c.a.post("/company/origin",{company_id:this.currentCompanyId,origin:this.text}).then((function(t){204===t.status&&e.toastr("success","OK","Lade till domän")})).catch((function(t){console.error(t),e.toastr("danger","Server Fel","Kunde inte lägga till domän")}))},deleteDomain:function(t){var e=this;c.a.delete("/company/origin?origin=".concat(t,"&company_id=").concat(this.currentCompanyId)).then((function(n){e.domains=e.domains.filter((function(e){return e!==t})),e.toastr("success","OK","Domänen togs bort")})).catch((function(t){console.error(t),e.toastr("danger","Server Fel","Kunde inte ta bort domän")}))},toastr:function(t,e,n){this.$bvToast.toast(n,{title:e,autoHideDelay:2e3,appendToast:!0,variant:t})}}},$=O,D=(n("9096"),Object(v["a"])($,u,m,!1,null,"c8a955e2",null)),I=D.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"px-5 mt-8",attrs:{id:"page-bank"}},[n("b-row",[n("b-col",{attrs:{lg:"2"}}),n("b-col",{attrs:{lg:"8"}},[n("b-card",{staticClass:"mb-2 mt-8",attrs:{title:"","hide-footer":""}},[n("b-form",{staticClass:"mt-8",on:{submit:function(e){return e.preventDefault(),t.saveData(e)}}},[n("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success mb-7"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.subcompany_public,expression:"subcompany_public"}],attrs:{type:"checkbox",name:""},domProps:{checked:Array.isArray(t.subcompany_public)?t._i(t.subcompany_public,null)>-1:t.subcompany_public},on:{click:function(e){t.subcompany_public=!t.subcompany_public},change:function(e){var n=t.subcompany_public,r=e.target,a=!!r.checked;if(Array.isArray(n)){var i=null,s=t._i(n,i);r.checked?s<0&&(t.subcompany_public=n.concat([i])):s>-1&&(t.subcompany_public=n.slice(0,s).concat(n.slice(s+1)))}else t.subcompany_public=a}}}),n("span",{staticClass:"mr-3"}),t._v(" Lägg till underföreningarnas evenemang i vår publika evenemangslistan ")]),n("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Spara")])],1)],1)],1)],1)],1)},S=[],R={name:"api-evenemang-settings",props:["settings"],computed:Object(s["a"])({},Object(l["b"])(["currentCompanyId"])),data:function(){return{subcompany_public:!1}},watch:{settings:function(t,e){console.log("subEvents",t),t.subevents&&(this.subcompany_public=t.subevents)}},methods:{saveData:function(){var t=this,e={subevents:this.subcompany_public};c.a.put("/company",{company_id:this.currentCompanyId,settings:e}).then((function(e){204===e.status?t.toastr("success","OK","updated"):t.toastr("danger","Fel","failed")})).catch((function(e){console.error(e),t.toastr("danger","Fel","failed")}))},toastr:function(t,e,n){this.$bvToast.toast(n,{title:e,autoHideDelay:2e3,appendToast:!0,variant:t})}}},E=R,A=(n("b12b"),Object(v["a"])(E,j,S,!1,null,"227589c0",null)),T=A.exports,P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"px-5 mt-8",attrs:{id:"page-bank"}},[n("b-row",[n("b-col",{attrs:{lg:"2"}}),n("b-col",{attrs:{lg:"8"}},[n("b-card",{staticClass:"mb-2 mt-8",attrs:{title:"","hide-footer":""}},[n("div",[n("b-form",{staticClass:"mt-8",on:{submit:t.saveData}},[t.fortnoxAPIKeyIsSet?n("div",[n("b-alert",{attrs:{show:"",variant:"success"}},[t._v("Fortnox är kopplat till denna förening")]),n("b-button",{staticClass:"mb-8 mt-8",attrs:{type:"button",variant:"outline-danger"},on:{click:t.deleteFortnox}},[t._v("Ta bort koppling")])],1):t._e(),t.fortnoxAPIKeyIsSet?t._e():n("div",[n("b-alert",{attrs:{show:"",variant:"light"}},[t._v("Fortnox har EJ kopplats till denna förening. Klicka på knappen nedan för att ta dig vidare till Fortnox inloggningen och sedan lägga till appen direkt.")]),n("b-button",{staticClass:"mb-8",attrs:{type:"button",variant:"outline-primary"},on:{click:t.gotoFortnox}},[t._v("Till Fortnox")]),n("b-alert",{attrs:{show:"",variant:"light"}},[t._v('Ifall ni blivit ombedda att skriva in ett Publikt ID så gör ni det i denna textruta och klicka sedan på "Spara"')]),n("b-form-group",{attrs:{id:"input-group-public_token",label:"Publikt ID","label-for":"input-public_token"}},[n("b-form-input",{attrs:{id:"input-public_token",type:"text"},model:{value:t.public_token,callback:function(e){t.public_token=e},expression:"public_token"}})],1),n("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Spara")])],1)])],1)])],1)],1)],1)},L=[],F={name:"swish-settings",components:{},props:["company","settings"],computed:Object(s["a"])({},Object(l["b"])(["currentCompanyId","currentPeriodId"])),mounted:function(){this.loadData()},data:function(){return{fortnoxAPIKeyIsSet:!1,public_token:""}},watch:{currentCompanyId:function(t,e){t&&this.loadData()}},methods:{gotoFortnox:function(){location.href="https://www.fortnox.se/kopplingar/applikation/thinkinghatstudios-ab/memlist/"},loadData:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.currentCompanyId){e.next=2;break}return e.abrupt("return");case 2:c.a.get("/company/apikey?company_id=".concat(t.currentCompanyId,"&service=fortnox")).then((function(e){404===e.status?t.fortnoxAPIKeyIsSet=!1:t.fortnoxAPIKeyIsSet=!0})).catch((function(e){console.error(e),t.toastr("danger","Fel","Kunde inte kontrollera Fortnox API uppgifter")}));case 3:case"end":return e.stop()}}),e)})))()},deleteFortnox:function(){var t=this;c.a.delete("/company/apikey?company_id=".concat(this.currentCompanyId,"&service=fortnox")).then((function(e){t.fortnoxAPIKeyIsSet=!1,t.toastr("success","OK","Fortnox kopplades bort")})).catch((function(e){console.error(e),t.toastr("danger","Fel","Kunde inte ta bort API koppling")}))},getLangText:function(t,e){for(var n=0;n<t.length;++n)if(t[n].lang===e)return t[n].text;return"Språköversättning saknas"},saveData:function(t){var e=this;t.preventDefault(),c.a.post("/company/connectapi",{company_id:this.currentCompanyId,service:"fortnox",public_token:this.public_token}).then((function(t){200===t.status?e.fortnoxAPIKeyIsSet=!0:e.toastr("danger","Fel","Kunde inte uppdatera API koppling")})).catch((function(t){console.error(t),e.toastr("success","OK","API koppling uppdaterad")}))},toastr:function(t,e,n){this.$bvToast.toast(n,{title:e,autoHideDelay:2e3,appendToast:!0,variant:t})}}},K=F,q=(n("194a"),Object(v["a"])(K,P,L,!1,null,"a5cf3968",null)),N=q.exports,M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"px-5 mt-8",attrs:{id:"page-creditcard"}},[n("b-row",[n("b-col",{attrs:{lg:"2"}}),n("b-col",{attrs:{lg:"8"}},[n("b-card",{staticClass:"mb-2 mt-8",attrs:{title:"","hide-footer":""}},[n("div",[n("b-form",{staticClass:"mt-8",on:{submit:t.saveData}},[n("b-form-group",{attrs:{id:"input-group-profile_id",label:"Dintero Profil ID","label-for":"input-profile_id"}},[n("b-form-input",{attrs:{id:"input-profile_id",type:"text"},model:{value:t.profile_id,callback:function(e){t.profile_id=e},expression:"profile_id"}})],1),n("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Spara")])],1)],1)])],1)],1)],1)},B=[],z={name:"creditcard-settings",components:{},props:["company","settings"],computed:Object(s["a"])({},Object(l["b"])(["currentCompanyId","currentPeriodId"])),mounted:function(){this.loadData()},data:function(){return{profile_id:""}},watch:{currentCompanyId:function(t,e){t&&this.loadData()}},methods:{loadData:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.currentCompanyId){e.next=2;break}return e.abrupt("return");case 2:c.a.get("/company/apikey?company_id=".concat(t.currentCompanyId,"&service=dintero")).then((function(e){t.profile_id=e.data.api_key.service_id})).catch((function(e){console.error(e),t.toastr("danger","Fel","Kunde inte hämta Dintero profil")}));case 3:case"end":return e.stop()}}),e)})))()},setDinteroAPIKey:function(){var t=this;c.a.post("/company/apikey",{company_id:this.currentCompanyId,service:"dintero",service_id:this.profile_id}).then((function(e){t.toastr("success","OK","Dintero profil uppdaterad")})).catch((function(e){console.error(e),t.toastr("danger","Fel","Kunde inte sätta dintero profil")}))},saveData:function(t){t.preventDefault(),this.setDinteroAPIKey()},toastr:function(t,e,n){this.$bvToast.toast(n,{title:e,autoHideDelay:2e3,appendToast:!0,variant:t})}}},H=z,V=(n("96d9"),Object(v["a"])(H,M,B,!1,null,"c281b4f8",null)),G=V.exports,U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"px-5 mt-8",attrs:{id:"page-bank"}},[n("b-row",[n("b-col",{attrs:{lg:"2"}}),n("b-col",{attrs:{lg:"8"}},[n("b-card",{staticClass:"mb-2 mt-8",attrs:{title:"","hide-footer":""}},[n("div",[n("b-form",{staticClass:"mt-8",on:{submit:t.saveData}},[n("div",{staticClass:"d-flex align-items-center mb-8"},[n("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.swish.active,expression:"swish.active"}],attrs:{type:"checkbox",name:""},domProps:{checked:Array.isArray(t.swish.active)?t._i(t.swish.active,null)>-1:t.swish.active},on:{click:function(e){t.swish.active=!t.swish.active},change:function(e){var n=t.swish.active,r=e.target,a=!!r.checked;if(Array.isArray(n)){var i=null,s=t._i(n,i);r.checked?s<0&&t.$set(t.swish,"active",n.concat([i])):s>-1&&t.$set(t.swish,"active",n.slice(0,s).concat(n.slice(s+1)))}else t.$set(t.swish,"active",a)}}}),n("span")]),n("span",{staticClass:"ml-3 cursor-pointer"},[t._v("Aktivera Swish betalningar för medlemmar")])]),n("div",{staticClass:"d-flex align-items-center mb-8"},[n("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.swish.accept_terms,expression:"swish.accept_terms"}],attrs:{type:"checkbox",name:""},domProps:{checked:Array.isArray(t.swish.accept_terms)?t._i(t.swish.accept_terms,null)>-1:t.swish.accept_terms},on:{click:function(e){t.swish.accept_terms=!t.swish.accept_terms},change:function(e){var n=t.swish.accept_terms,r=e.target,a=!!r.checked;if(Array.isArray(n)){var i=null,s=t._i(n,i);r.checked?s<0&&t.$set(t.swish,"accept_terms",n.concat([i])):s>-1&&t.$set(t.swish,"accept_terms",n.slice(0,s).concat(n.slice(s+1)))}else t.$set(t.swish,"accept_terms",a)}}}),n("span")]),n("span",{staticClass:"ml-3 cursor-pointer"},[t._v("Föreningen har läst och godkänt Swish användarvillkor och godkänner dessa")])]),n("b-form-group",{attrs:{id:"input-group-swish_id",label:"Swish ID","label-for":"input-swish_id"}},[n("b-form-input",{attrs:{id:"input-swish_id",type:"text"},model:{value:t.swish.swish_id,callback:function(e){t.$set(t.swish,"swish_id",e)},expression:"swish.swish_id"}})],1),n("b-form-group",{attrs:{id:"input-group-p12_filepath",label:"P12 Fil","label-for":"input-p12_filepath"}},[n("b-form-input",{attrs:{id:"input-p12_filepath",type:"text"},model:{value:t.swish.p12_filepath,callback:function(e){t.$set(t.swish,"p12_filepath",e)},expression:"swish.p12_filepath"}})],1),n("b-form-group",{attrs:{id:"input-group-password",label:"Swish Lösenord","label-for":"input-password"}},[n("b-form-input",{attrs:{id:"input-password",type:"text"},model:{value:t.swish.password,callback:function(e){t.$set(t.swish,"password",e)},expression:"swish.password"}})],1),n("b-form-group",{attrs:{id:"input-group-pct_per_transaction",label:"% per transaktion","label-for":"input-pct_per_transaction"}},[n("b-form-input",{attrs:{id:"input-pct_per_transaction",type:"text"},model:{value:t.swish.pct_per_transaction,callback:function(e){t.$set(t.swish,"pct_per_transaction",e)},expression:"swish.pct_per_transaction"}})],1),n("b-form-group",{attrs:{id:"input-group-sek_per_transaction",label:"SEK per transaktion","label-for":"input-sek_per_transaction"}},[n("b-form-input",{attrs:{id:"input-sek_per_transaction",type:"text"},model:{value:t.swish.sek_per_transaction,callback:function(e){t.$set(t.swish,"sek_per_transaction",e)},expression:"swish.sek_per_transaction"}})],1),n("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Spara")])],1)],1)])],1)],1)],1)},J=[],Y={name:"swish-settings",components:{},props:["company","settings"],computed:Object(s["a"])({},Object(l["b"])(["currentCompanyId","currentPeriodId"])),mounted:function(){this.loadData()},data:function(){return{swish:{swish_id:"",p12_filepath:"",password:"",active:!1,accept_terms:!1,pct_per_transaction:.3,sek_per_transaction:5}}},watch:{currentCompanyId:function(t,e){t&&this.loadData()}},methods:{loadData:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.currentCompanyId){e.next=2;break}return e.abrupt("return");case 2:case"end":return e.stop()}}),e)})))()},getLangText:function(t,e){for(var n=0;n<t.length;++n)if(t[n].lang===e)return t[n].text;return"Språköversättning saknas"},saveData:function(t){t.preventDefault(),this.$emit("updateSettings",this.swish)},toastr:function(t,e,n){this.$bvToast.toast(n,{title:e,autoHideDelay:2e3,appendToast:!0,variant:t})}}},X=Y,W=(n("0969"),Object(v["a"])(X,U,J,!1,null,"09815f0d",null)),Q=W.exports,Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"px-5 mt-8",attrs:{id:"page-email"}},[n("b-row",[n("b-col",{attrs:{lg:"2"}}),n("b-col",{attrs:{lg:"8"}},[n("b-card",{staticClass:"mb-2 mt-8",attrs:{title:"","hide-footer":""}},[n("div",[n("b-form",{staticClass:"mt-8",on:{submit:t.saveData}},[n("div",{staticClass:"d-flex align-items-center"},[n("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.use_memlist,expression:"use_memlist"}],attrs:{type:"checkbox",name:""},domProps:{checked:Array.isArray(t.use_memlist)?t._i(t.use_memlist,null)>-1:t.use_memlist},on:{click:function(e){t.use_memlist=!t.use_memlist},change:function(e){var n=t.use_memlist,r=e.target,a=!!r.checked;if(Array.isArray(n)){var i=null,s=t._i(n,i);r.checked?s<0&&(t.use_memlist=n.concat([i])):s>-1&&(t.use_memlist=n.slice(0,s).concat(n.slice(s+1)))}else t.use_memlist=a}}}),n("span")]),n("span",{staticClass:"ml-3 cursor-pointer"},[t._v("Använd Memlist som e-postleverantör")])]),n("div",{staticClass:"d-flex align-items-center mt-8 mb-8"},[n("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.use_custom,expression:"use_custom"}],attrs:{type:"checkbox",name:""},domProps:{checked:Array.isArray(t.use_custom)?t._i(t.use_custom,null)>-1:t.use_custom},on:{click:function(e){t.use_custom=!t.use_custom},change:function(e){var n=t.use_custom,r=e.target,a=!!r.checked;if(Array.isArray(n)){var i=null,s=t._i(n,i);r.checked?s<0&&(t.use_custom=n.concat([i])):s>-1&&(t.use_custom=n.slice(0,s).concat(n.slice(s+1)))}else t.use_custom=a}}}),n("span")]),n("span",{staticClass:"ml-3 cursor-pointer"},[t._v("Använd annan e-post leverantör")])]),t.smtp.use_custom?t._e():n("div",[n("b-form-group",{attrs:{id:"input-group-memlist_prefix",label:"Memlist Avsändare","label-for":"input-memlist_prefix"}},[n("b-form-input",{attrs:{id:"input-memlist_prefix",type:"text"},model:{value:t.smtp.memlist_prefix,callback:function(e){t.$set(t.smtp,"memlist_prefix",e)},expression:"smtp.memlist_prefix"}})],1)],1),t.smtp.use_custom?n("div",[n("b-form-group",{attrs:{id:"input-group-from",label:"Plusgiro","label-for":"input-from"}},[n("b-form-input",{attrs:{id:"input-pg",type:"text"},model:{value:t.smtp.from,callback:function(e){t.$set(t.smtp,"from",e)},expression:"smtp.from"}})],1),n("b-form-group",{attrs:{id:"input-group-password",label:"Lösenord","label-for":"input-password"}},[n("b-form-input",{attrs:{id:"input-password",type:"text"},model:{value:t.smtp.password,callback:function(e){t.$set(t.smtp,"password",e)},expression:"smtp.password"}})],1),n("b-form-group",{attrs:{id:"input-group-server",label:"Serveradress","label-for":"input-server"}},[n("b-form-input",{attrs:{id:"input-server",type:"text"},model:{value:t.smtp.server,callback:function(e){t.$set(t.smtp,"server",e)},expression:"smtp.server"}})],1),n("b-form-group",{attrs:{id:"input-group-port",label:"Port","label-for":"input-port"}},[n("b-form-input",{attrs:{id:"input-port",type:"text"},model:{value:t.smtp.port,callback:function(e){t.$set(t.smtp,"port",e)},expression:"smtp.port"}})],1),n("b-form-group",{attrs:{id:"input-group-security",label:"Säkerhet","label-for":"input-security"}},[n("b-form-select",{attrs:{id:"security",options:t.securityTypes},model:{value:t.smtp.security,callback:function(e){t.$set(t.smtp,"security",e)},expression:"smtp.security"}})],1)],1):t._e(),n("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Spara")])],1)],1)])],1)],1)],1)},tt=[],et={name:"smtp-settings",components:{},props:["company","smtp"],computed:Object(s["a"])({},Object(l["b"])(["currentCompanyId","currentPeriodId"])),mounted:function(){this.loadData()},data:function(){return{securityTypes:[{value:"ssl",text:"SSL"}],use_memlist:!1,use_custom:!1,smtp:{use_custom:!1,memlist_prefix:"",from:"",password:"",server:"",port:0,security:""}}},watch:{use_memlist:function(t,e){t!==this.use_memlist&&(this.use_custom=!t,this.smtp.use_custom=this.use_custom)},use_custom:function(t,e){t!==this.use_custom&&(this.use_memlist=!t,this.smtp.use_custom=this.use_custom)}},methods:{loadData:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.currentCompanyId){e.next=2;break}return e.abrupt("return");case 2:case"end":return e.stop()}}),e)})))()},getLangText:function(t,e){for(var n=0;n<t.length;++n)if(t[n].lang===e)return t[n].text;return"Språköversättning saknas"},saveData:function(t){t.preventDefault(),this.$emit("updateSettings",this.smtp)},toastr:function(t,e,n){this.$bvToast.toast(n,{title:e,autoHideDelay:2e3,appendToast:!0,variant:t})}}},nt=et,rt=(n("386d"),Object(v["a"])(nt,Z,tt,!1,null,"4bb42ea4",null)),at=rt.exports,it=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"px-5 mt-8",attrs:{id:"page-basic0"}},[n("b-row",[n("b-col",{attrs:{lg:"2"}}),n("b-col",{attrs:{lg:"8"}},[n("b-card",{staticClass:"mb-2 mt-8",attrs:{title:"","hide-footer":""}},[n("div",[n("b-form",{on:{submit:t.saveData}},[t._l(t.requirements,(function(e,r){return[n("RequirementRow",{key:r,attrs:{requirement:e},on:{toastr:t.toastr}})]})),n("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Spara")])],2)],1)])],1)],1)],1)},st=[],ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex align-items-center mb-4"},[n("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.requirement.checked,expression:"requirement.checked"}],attrs:{type:"checkbox",name:""},domProps:{checked:Array.isArray(t.requirement.checked)?t._i(t.requirement.checked,null)>-1:t.requirement.checked},on:{click:function(e){t.requirement.checked=!t.requirement.checked},change:function(e){var n=t.requirement.checked,r=e.target,a=!!r.checked;if(Array.isArray(n)){var i=null,s=t._i(n,i);r.checked?s<0&&t.$set(t.requirement,"checked",n.concat([i])):s>-1&&t.$set(t.requirement,"checked",n.slice(0,s).concat(n.slice(s+1)))}else t.$set(t.requirement,"checked",a)}}}),n("span")]),n("span",{staticClass:"ml-3 cursor-pointer"},[t._v(t._s(t.name))])])},ct=[],lt=(n("b0c0"),{name:"requirement-row",props:["requirement"],computed:Object(s["a"])({},Object(l["b"])(["currentCompanyId"])),data:function(){return{name:""}},mounted:function(){this.name=this.getLangText(this.requirement.id,this.requirement.lang_text,"sv")},watch:{},methods:{getLangText:function(t,e,n){for(var r=0;r<e.length;++r)if(e[r].lang===n)return e[r].text;return"Språköversättning saknas: "+t}}}),ut=lt,mt=(n("30ff"),Object(v["a"])(ut,ot,ct,!1,null,"088ed539",null)),pt=mt.exports,dt={name:"requirements-settings",components:{RequirementRow:pt},props:["company"],computed:Object(s["a"])({},Object(l["b"])(["currentCompanyId","currentPeriodId"])),mounted:function(){this.loadData()},data:function(){return{form:{company_id:"",constreq:[]},requirements:[]}},watch:{currentCompanyId:function(t,e){t&&this.loadData()}},methods:{loadData:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.currentCompanyId){e.next=2;break}return e.abrupt("return");case 2:c.a.get("/company/constreq").then((function(e){var n=e.data.requirements;t.requirements=[],console.log(n);for(var r=0;r<n.length;++r){for(var a={checked:!1,lang_text:n[r].lang_record_descr.lang_text,id:n[r].id},i=0;i<t.company.constreq.length;++i)t.company.constreq[i]===a.id&&(a.checked=!0);t.requirements.push(a)}})).catch((function(e){console.error(e),t.toastr("danger","Server Fel","Kunde inte hämta medlemskrav")}));case 3:case"end":return e.stop()}}),e)})))()},getLangText:function(t,e){for(var n=0;n<t.length;++n)if(t[n].lang===e)return t[n].text;return"Språköversättning saknas"},saveData:function(t){var e=this;t.preventDefault(),this.form.company_id=this.currentCompanyId,this.form.constreq=[];for(var n=0;n<this.requirements.length;++n)this.requirements[n].checked&&this.form.constreq.push(this.requirements[n].id);c.a.put("/company",this.form).then((function(t){204===t.status&&e.toastr("success","OK","Inställningar uppdaterad")})).catch((function(t){console.error(t),e.toastr("danger","Server Fel","Kunde inte uppdatera inställningar")}))},toastr:function(t,e,n){this.$bvToast.toast(n,{title:e,autoHideDelay:2e3,appendToast:!0,variant:t})}}},ft=dt,ht=(n("0a1b"),Object(v["a"])(ft,it,st,!1,null,"4539ae8e",null)),gt=ht.exports,bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"px-5 mt-8",attrs:{id:"page-bank"}},[n("b-row",[n("b-col",{attrs:{lg:"2"}}),n("b-col",{attrs:{lg:"8"}},[n("b-card",{staticClass:"mb-2 mx-auto mt-8",attrs:{title:"","hide-footer":""}},[n("div",[n("b-form",{staticClass:"mt-8",on:{submit:t.saveData}},[n("b-form-group",{attrs:{id:"input-group-bg",label:"Bankgiro","label-for":"input-bg"}},[n("b-form-input",{attrs:{id:"input-bg",type:"text"},model:{value:t.form.bg,callback:function(e){t.$set(t.form,"bg",e)},expression:"form.bg"}})],1),n("b-form-group",{attrs:{id:"input-group-pg",label:"Plusgiro","label-for":"input-pg"}},[n("b-form-input",{attrs:{id:"input-pg",type:"text"},model:{value:t.form.pg,callback:function(e){t.$set(t.form,"pg",e)},expression:"form.pg"}})],1),n("b-form-group",{attrs:{id:"input-group-clearing_no",label:"Clearing","label-for":"input-clearing_no"}},[n("b-form-input",{attrs:{id:"input-clearing_no",type:"text"},model:{value:t.form.clearing_no,callback:function(e){t.$set(t.form,"clearing_no",e)},expression:"form.clearing_no"}})],1),n("b-form-group",{attrs:{id:"input-group-account_no",label:"Bankkonto nummer","label-for":"input-account_no"}},[n("b-form-input",{attrs:{id:"input-account_no",type:"text"},model:{value:t.form.account_no,callback:function(e){t.$set(t.form,"account_no",e)},expression:"form.account_no"}})],1),n("b-form-group",{attrs:{id:"input-group-bank_name",label:"Bank","label-for":"input-bank_name"}},[n("b-form-input",{attrs:{id:"input-bank_name",type:"text"},model:{value:t.form.bank_name,callback:function(e){t.$set(t.form,"bank_name",e)},expression:"form.bank_name"}})],1),n("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Spara")])],1)],1)])],1)],1)],1)},vt=[],_t={name:"bank-settings",components:{},props:["company"],computed:Object(s["a"])({},Object(l["b"])(["currentCompanyId","currentPeriodId"])),mounted:function(){this.loadData()},data:function(){return{form:{company_id:"",bg:"",pg:"",clearing_no:"",account_no:"",bank_name:""}}},watch:{currentCompanyId:function(t,e){t&&this.loadData()}},methods:{loadData:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.currentCompanyId){e.next=2;break}return e.abrupt("return");case 2:case"end":return e.stop()}}),e)})))()},getLangText:function(t,e){for(var n=0;n<t.length;++n)if(t[n].lang===e)return t[n].text;return"Språköversättning saknas"},saveData:function(t){var e=this;t.preventDefault(),this.form.company_id=this.currentCompanyId,c.a.put("/company",this.form).then((function(t){204===t.status&&(e.toastr("success","OK","Inställningar uppdaterad"),e.loadUsers())})).catch((function(t){console.error(t),e.toastr("danger","Server Fel","Kunde inte uppdatera inställningar")}))},toastr:function(t,e,n){this.$bvToast.toast(n,{title:e,autoHideDelay:2e3,appendToast:!0,variant:t})}}},yt=_t,xt=(n("10a0"),Object(v["a"])(yt,bt,vt,!1,null,"2e39c7c3",null)),kt=xt.exports,Ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"px-5 mt-8",attrs:{id:"page-titles"}},[n("b-row",[n("b-col",{attrs:{lg:"2"}}),n("b-col",{attrs:{lg:"8"}},[n("TitleTable",{attrs:{titles:t.titles},on:{setIncludeTitle:t.setIncludeTitle}})],1)],1),n("b-row",[n("b-col",{attrs:{lg:"2"}}),n("b-col",{attrs:{lg:"8"}},[t.creating||t.editing?n("b-card",{staticClass:"mb-2 mt-8 edit-title",attrs:{title:"Editera titel","hide-footer":""}},[n("div",[n("b-form",{staticClass:"mt-8",on:{submit:t.saveData}},[n("b-form-group",{attrs:{id:"input-group-name",label:"Namn","label-for":"input-name"}},[n("b-form-input",{attrs:{id:"input-name",type:"text",required:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),n("b-form-group",{attrs:{id:"input-group-level",label:"Nivå","label-for":"input-level"}},[n("b-form-select",{attrs:{id:"level",options:t.levelOptions},model:{value:t.form.level,callback:function(e){t.$set(t.form,"level",e)},expression:"form.level"}})],1),n("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Spara")])],1)],1)]):t._e()],1)],1)],1)},wt=[],Ot=n("b85c"),$t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card card-custom card-stretch gutter-b"},[t._m(0),n("div",{staticClass:"card-body pt-0 pb-3"},[n("div",{staticClass:"table-responsive"},[n("table",{staticClass:"table table-head-custom table-vertical-center table-head-bg table-borderless"},[t._m(1),n("tbody",[t._l(t.titles,(function(e,r){return[n("TitleTableRow",{key:r,attrs:{title:e,currentCompanyId:t.currentCompanyId},on:{setIncludeTitle:t.setIncludeTitle,toastr:t.toastr}})]}))],2)])])])])},Dt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card-header border-0 py-5"},[n("h3",{staticClass:"card-title align-items-start flex-column"},[n("span",{staticClass:"card-label font-weight-bolder text-dark"})])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",{staticClass:"text-left"},[n("th",[t._v("Titel")]),n("th")])])}],It=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("td",[t._v(" "+t._s(t.title.name)+" ")]),n("td",{staticClass:"text-right pr-0"},[n("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-outline-2x checkbox-primary text-right pr-0"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.title.include,expression:"title.include"}],attrs:{type:"checkbox",name:""},domProps:{checked:Array.isArray(t.title.include)?t._i(t.title.include,null)>-1:t.title.include},on:{click:t.toggle,change:function(e){var n=t.title.include,r=e.target,a=!!r.checked;if(Array.isArray(n)){var i=null,s=t._i(n,i);r.checked?s<0&&t.$set(t.title,"include",n.concat([i])):s>-1&&t.$set(t.title,"include",n.slice(0,s).concat(n.slice(s+1)))}else t.$set(t.title,"include",a)}}}),n("span")]),n("span",{staticClass:"ml-3 cursor-pointer"})])])},jt=[],St={name:"title-table-row",props:["title"],computed:Object(s["a"])({},Object(l["b"])(["currentCompanyId"])),data:function(){return{include:!1}},mounted:function(){},watch:{},methods:{toggle:function(){this.$emit("setIncludeTitle",this.title.id,!this.title.include)}}},Rt=St,Et=(n("e9e7"),Object(v["a"])(Rt,It,jt,!1,null,"dab9538e",null)),At=Et.exports,Tt={name:"title-table",props:["titles","currentCompanyId"],components:{TitleTableRow:At},methods:{setIncludeTitle:function(t,e){this.$emit("setIncludeTitle",t,e)},toastr:function(t,e,n){this.$emit("toastr",t,e,n)}},data:function(){return{}}},Pt=Tt,Lt=(n("f448"),Object(v["a"])(Pt,$t,Dt,!1,null,"8837b9dc",null)),Ft=Lt.exports,Kt={name:"titles-settings",components:{TitleTable:Ft},props:["settings"],computed:Object(s["a"])({},Object(l["b"])(["currentCompanyId","currentPeriodId"])),mounted:function(){this.loadData()},data:function(){return{levelOptions:[{value:0,text:"0 - Lägsta rangordning"},{value:1,text:"1"},{value:2,text:"2"},{value:3,text:"3"},{value:4,text:"4"},{value:5,text:"5"},{value:6,text:"6"},{value:7,text:"7"},{value:8,text:"8"},{value:9,text:"9"},{value:10,text:"10 - Högsta rangordning"}],form:{name:"",level:0},editing:!1,creating:!1,titles:[]}},watch:{currentCompanyId:function(t,e){t&&this.loadData()},settings:function(t,e){t&&(this.titles=t.titles)}},methods:{setIncludeTitle:function(t,e){var n=this;c.a.put("/company/settingtitle",{company_id:this.currentCompanyId,id:t,include:e}).then((function(r){var a,i=Object(Ot["a"])(n.titles);try{for(i.s();!(a=i.n()).done;){var s=a.value;if(s.id===t){s.include=e;break}}}catch(o){i.e(o)}finally{i.f()}n.toastr("success","OK","Titel uppdaterad")})).catch((function(t){console.error(t),n.toastr("danger","Fel","Kunde inte sätta titel")}))},loadData:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.currentCompanyId){e.next=2;break}return e.abrupt("return");case 2:if(t.settings){e.next=4;break}return e.abrupt("return");case 4:c.a.get("/system/titles").then((function(e){var n,r=e.data.titles,a=t.settings.titles,i=Object(Ot["a"])(r);try{for(i.s();!(n=i.n()).done;){var s=n.value;s.include=!1;var o,c=Object(Ot["a"])(a);try{for(c.s();!(o=c.n()).done;){var l=o.value;if(l===s.id){s.include=!0;break}}}catch(u){c.e(u)}finally{c.f()}}}catch(u){i.e(u)}finally{i.f()}t.titles=r})).catch((function(e){console.error(e),t.toastr("danger","Fel","Kunde inte lista titlar")}));case 5:case"end":return e.stop()}}),e)})))()},getLangText:function(t,e){for(var n=0;n<t.length;++n)if(t[n].lang===e)return t[n].text;return"Språköversättning saknas"},createTitle:function(){this.creating=!0,this.form.name="",this.form.level=0,this.scrollToEditTitle()},selectTitle:function(t){this.form=t,this.editing=!0,this.scrollToEditTitle()},deleteTitle:function(t){this.titles=this.titles.filter((function(e){return e.id!==t.id})),this.$emit("updateSettings",this.titles)},randomstr:function(t){for(var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=n.length,a=0;a<t;a++)e+=n.charAt(Math.floor(Math.random()*r));return e},saveData:function(t){if(t.preventDefault(),this.creating)this.form.id=this.randomstr(8),null!==this.titles&&void 0!==this.titles||(this.titles=[]),this.titles.push(this.form),this.creating=!1;else{for(var e=0;e<this.titles.length;++e)if(this.titles[e].id===this.form.id){this.titles[e]=this.form;break}this.editing=!1}this.$emit("updateSettings",this.titles)},scrollToEditTitle:function(){var t=this;setTimeout((function(){var e=t.$el.getElementsByClassName("edit-title")[0];if(e){var n=-70,r=e.getBoundingClientRect().top+window.pageYOffset+n;window.scrollTo({top:r,behavior:"smooth"})}}),100)},toastr:function(t,e,n){this.$bvToast.toast(n,{title:e,autoHideDelay:2e3,appendToast:!0,variant:t})}}},qt=Kt,Nt=(n("71a2"),Object(v["a"])(qt,Ct,wt,!1,null,"08408e52",null)),Mt=Nt.exports,Bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"px-5 mt-8",attrs:{id:"page-registration"}},[n("b-row",[n("b-col",{attrs:{lg:"2"}}),n("b-col",{attrs:{lg:"8"}},[n("b-form",{staticClass:"mt-8",on:{submit:t.saveData}},[n("b-card",{staticClass:"mb-8"},[n("h4",{staticClass:"mb-8"},[t._v("Registreringsregler")]),n("div",{staticClass:"radio-list"},[n("label",{staticClass:"radio radio-outline radio-success mr-5"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedRegistrationOption,expression:"selectedRegistrationOption"}],attrs:{type:"radio",value:"mapped",name:"selectedRegistrationOption"},domProps:{checked:t._q(t.selectedRegistrationOption,"mapped")},on:{change:function(e){t.selectedRegistrationOption="mapped"}}}),n("span",{staticClass:"mr-2"}),t._v("Områdestilldela relevant förening ")]),n("label",{staticClass:"radio radio-outline radio-success mr-5"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedRegistrationOption,expression:"selectedRegistrationOption"}],attrs:{type:"radio",value:"multiple",name:"selectedRegistrationOption"},domProps:{checked:t._q(t.selectedRegistrationOption,"multiple")},on:{change:function(e){t.selectedRegistrationOption="multiple"}}}),n("span",{staticClass:"mr-2"}),t._v("Flerstegsregistreringsfunktion ")]),n("label",{staticClass:"radio radio-outline radio-success mr-5"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedRegistrationOption,expression:"selectedRegistrationOption"}],attrs:{type:"radio",value:"simple",name:"selectedRegistrationOption",checked:"checked"},domProps:{checked:t._q(t.selectedRegistrationOption,"simple")},on:{change:function(e){t.selectedRegistrationOption="simple"}}}),n("span",{staticClass:"mr-2"}),t._v("Medlemmar kan endast registrera sig i denna förening ")])])]),n("b-card",{staticClass:"mb-2 mx-auto mt-8",attrs:{title:"","hide-footer":""}},[n("h4",{staticClass:"mb-8"},[t._v("Målsman och familjemedlemmar")]),n("b-alert",{attrs:{show:"",variant:"light"}},[t._v(" Enligt huvudregel, 9 kap. 1 § Föräldrabalken skall föreningar som ställer ekonomiska krav på en medlem (t.ex. medlemsavgift), kräva målsmans godkännande ifall person är över "+t._s(t.registration.age_max_parent)+" år. ")]),n("div",{staticClass:"d-flex align-items-center mb-6"},[n("b-input-group",{staticClass:"mb-2"},[n("b-input-group-prepend",{attrs:{"is-text":""}},[t._v("Max ålder med krav på målsman")]),n("b-form-input",{attrs:{type:"number",min:"1",max:"200",required:""},model:{value:t.registration.age_max_parent,callback:function(e){t.$set(t.registration,"age_max_parent",e)},expression:"registration.age_max_parent"}})],1)],1),n("div",{staticClass:"d-flex align-items-center mb-6"},[n("b-input-group",{staticClass:"mb-2"},[n("b-input-group-prepend",{attrs:{"is-text":""}},[n("div",{staticClass:"d-flex align-items-center"},[n("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.check_join[0],expression:"check_join[0]"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.check_join[0])?t._i(t.check_join[0],null)>-1:t.check_join[0]},on:{change:function(e){var n=t.check_join[0],r=e.target,a=!!r.checked;if(Array.isArray(n)){var i=null,s=t._i(n,i);r.checked?s<0&&t.$set(t.check_join,0,n.concat([i])):s>-1&&t.$set(t.check_join,0,n.slice(0,s).concat(n.slice(s+1)))}else t.$set(t.check_join,0,a)}}}),n("span")]),n("span",{staticClass:"ml-3 cursor-pointer"})])]),n("b-input-group-prepend",{attrs:{"is-text":""}},[t._v("Person måste vara minst ålder")]),n("b-form-input",{staticStyle:{"min-height":"50px"},attrs:{type:"number",max:"200",disabled:!t.check_join[0]},model:{value:t.registration.age_req_all[0],callback:function(e){t.$set(t.registration.age_req_all,0,e)},expression:"registration.age_req_all[0]"}})],1)],1),n("div",{staticClass:"d-flex align-items-center mb-6"},[n("b-input-group",{staticClass:"mb-2"},[n("b-input-group-prepend",{attrs:{"is-text":""}},[n("div",{staticClass:"d-flex align-items-center"},[n("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.check_join[1],expression:"check_join[1]"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.check_join[1])?t._i(t.check_join[1],null)>-1:t.check_join[1]},on:{change:function(e){var n=t.check_join[1],r=e.target,a=!!r.checked;if(Array.isArray(n)){var i=null,s=t._i(n,i);r.checked?s<0&&t.$set(t.check_join,1,n.concat([i])):s>-1&&t.$set(t.check_join,1,n.slice(0,s).concat(n.slice(s+1)))}else t.$set(t.check_join,1,a)}}}),n("span")]),n("span",{staticClass:"ml-3 cursor-pointer"})])]),n("b-input-group-prepend",{attrs:{"is-text":""}},[t._v("Person måste vara högst ålder")]),n("b-form-input",{staticStyle:{"min-height":"50px"},attrs:{type:"number",min:"18",max:"200",disabled:!t.check_join[1]},model:{value:t.registration.age_req_all[1],callback:function(e){t.$set(t.registration.age_req_all,1,e)},expression:"registration.age_req_all[1]"}})],1)],1),n("div",{staticClass:"d-flex align-items-center mb-6"},[n("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.registration.family,expression:"registration.family"}],attrs:{type:"checkbox",name:""},domProps:{checked:Array.isArray(t.registration.family)?t._i(t.registration.family,null)>-1:t.registration.family},on:{click:function(e){t.registration.family=!t.registration.family},change:function(e){var n=t.registration.family,r=e.target,a=!!r.checked;if(Array.isArray(n)){var i=null,s=t._i(n,i);r.checked?s<0&&t.$set(t.registration,"family",n.concat([i])):s>-1&&t.$set(t.registration,"family",n.slice(0,s).concat(n.slice(s+1)))}else t.$set(t.registration,"family",a)}}}),n("span")]),n("span",{staticClass:"ml-3 cursor-pointer"},[t._v("Tillåt familjeregistrering")])]),n("b-alert",{attrs:{show:"",variant:"light"}},[t._v("Vad ska hända med målsmandata vid registrering? Ifall nedanstående checkbox är förkryssad så kommer målsman som fylls i vid registrering att skapas och läggas till som äkta medlemmar, med egna konton. Ifall checkboxen EJ är förkryssad så kommer målsman endast att ligga sparade på medlemmen och ej vara sökbara.")]),n("div",{staticClass:"d-flex align-items-center mb-6"},[n("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.registration.create_parent_members,expression:"registration.create_parent_members"}],attrs:{type:"checkbox",name:""},domProps:{checked:Array.isArray(t.registration.create_parent_members)?t._i(t.registration.create_parent_members,null)>-1:t.registration.create_parent_members},on:{click:function(e){t.registration.create_parent_members=!t.registration.create_parent_members},change:function(e){var n=t.registration.create_parent_members,r=e.target,a=!!r.checked;if(Array.isArray(n)){var i=null,s=t._i(n,i);r.checked?s<0&&t.$set(t.registration,"create_parent_members",n.concat([i])):s>-1&&t.$set(t.registration,"create_parent_members",n.slice(0,s).concat(n.slice(s+1)))}else t.$set(t.registration,"create_parent_members",a)}}}),n("span")]),n("span",{staticClass:"ml-3 cursor-pointer"},[t._v("Skapa äkta medlemmar av målsman och familjemedlemmar")])])],1),n("b-card",{staticClass:"mb-8"},[n("h4",{staticClass:"mb-8"},[t._v("Valbar vid medlemsregistrering")]),n("b-alert",{attrs:{show:"",variant:"light"}},[t._v(" När en medlem registrerar sig på registreringssidan så kommer denna förening att listas som alternativ ifall checkboxen är markerad. Observera att åldersintervallet också bestämmer ifall man kan registrera sig i denna förening. ")]),n("div",{staticClass:"d-flex align-items-center mb-6"},[n("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.registration.allow_reg,expression:"registration.allow_reg"}],attrs:{type:"checkbox",name:""},domProps:{checked:Array.isArray(t.registration.allow_reg)?t._i(t.registration.allow_reg,null)>-1:t.registration.allow_reg},on:{click:function(e){t.registration.allow_reg=!t.registration.allow_reg},change:function(e){var n=t.registration.allow_reg,r=e.target,a=!!r.checked;if(Array.isArray(n)){var i=null,s=t._i(n,i);r.checked?s<0&&t.$set(t.registration,"allow_reg",n.concat([i])):s>-1&&t.$set(t.registration,"allow_reg",n.slice(0,s).concat(n.slice(s+1)))}else t.$set(t.registration,"allow_reg",a)}}}),n("span")]),n("span",{staticClass:"ml-3 cursor-pointer"},[t._v("Visa som val vid registrering")])])],1),n("b-card",{staticClass:"mb-8"},[n("h4",{staticClass:"mb-8"},[t._v("Flerstegsregistreringsfunktionen")]),n("b-alert",{attrs:{show:"",variant:"light"}},[t._v(" Flerstegsmedlemskap innebär att man kan bli medlem i regionsföreningen och sedan visas lokalföreningarna som alternativ vid registrering, samt att det finns en lista på kompletterande föreningar att bli medlem i vid sidan av. ")]),n("b-alert",{attrs:{show:"",variant:"light"}},[t._v(" När en medlem registrerar sig på registreringssidan och moderföreningen har valts att medlemmen vill registrera sig i, då kommer denna förening att visas som valbar att kunna registrera sig i tillsammans med moderföreningen. ")]),n("div",{staticClass:"d-flex align-items-center mb-6"},[n("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.if_pcomp_reg_allow_reg,expression:"if_pcomp_reg_allow_reg"}],attrs:{type:"checkbox",name:""},domProps:{checked:Array.isArray(t.if_pcomp_reg_allow_reg)?t._i(t.if_pcomp_reg_allow_reg,null)>-1:t.if_pcomp_reg_allow_reg},on:{click:function(e){t.if_pcomp_reg_allow_reg=!t.if_pcomp_reg_allow_reg},change:function(e){var n=t.if_pcomp_reg_allow_reg,r=e.target,a=!!r.checked;if(Array.isArray(n)){var i=null,s=t._i(n,i);r.checked?s<0&&(t.if_pcomp_reg_allow_reg=n.concat([i])):s>-1&&(t.if_pcomp_reg_allow_reg=n.slice(0,s).concat(n.slice(s+1)))}else t.if_pcomp_reg_allow_reg=a}}}),n("span")]),n("span",{staticClass:"ml-3 cursor-pointer"},[t._v("Visa endast ifall region/moderföreningen har valts vid registrering")])]),n("b-alert",{attrs:{show:"",variant:"light"}},[t._v(' Ifall detta är en regionsförening som har ett antal lokala föreningar under sig bör detta markeras i checkboxen nedan, detta är då det utökade "Flerstegsmedlemskapfunktionen" ska fungera ')]),n("div",{staticClass:"d-flex align-items-center mb-6"},[n("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.is_region,expression:"is_region"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.is_region)?t._i(t.is_region,null)>-1:t.is_region},on:{click:function(e){t.is_region=!t.is_region},change:function(e){var n=t.is_region,r=e.target,a=!!r.checked;if(Array.isArray(n)){var i=null,s=t._i(n,i);r.checked?s<0&&(t.is_region=n.concat([i])):s>-1&&(t.is_region=n.slice(0,s).concat(n.slice(s+1)))}else t.is_region=a}}}),n("span")]),n("span",{staticClass:"ml-3 cursor-pointer"},[t._v("Detta är en regionsförening")])]),t.is_region?n("b-alert",{attrs:{show:"",variant:"warning"}},[t._v(" Observera! Du MÅSTE välja minst en region i områdesfördelningen för att regionsföreningar ska kunna mappas korrekt för medlemmar under registrering ")]):t._e()],1),n("AreaAllocSettings",{attrs:{regions:t.regions},on:{mapByRegionUpdate:t.mapByRegionUpdate}}),n("b-card",{staticClass:"mb-2 mx-auto mt-8",attrs:{title:"","hide-footer":""}},[t.map_by_region&&t.allow_multiple?n("b-alert",{attrs:{show:"",variant:"danger"}},[t._v(' Systemet klarar inte av "Automatisk områdestilldelning" och "Flerstegsmedlemskap" eftersom den ena kräver att medlemmar endast väljer en förening vid registrering, medan den andre öppnar upp möjligheten att registrera sig på flera föreningar ')]):t._e(),n("div",{staticClass:"mt-4"},[n("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Spara")])],1)],1)],1)],1)],1)],1)},zt=[],Ht=(n("a434"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"component-area-alloc-settings"}},[n("b-card",{staticClass:"mb-2 mx-auto mt-8",attrs:{title:"","hide-footer":""}},[n("h4",{staticClass:"mb-8"},[t._v("Områdesfördelning")]),n("b-alert",{attrs:{show:"",variant:"light"}},[t._v("Områdesfördelning innebär att när en medlem försöker registrera sig på riksförbundet/moderföreningen så kommer medlemmen istället att bli medlem för denna förening, förutsatt att medlemmens område stämmer överrens med nedan anvgina kommuner.")]),n("div",{staticClass:"mt-4"},[n("DualListBox",{attrs:{source:t.sourceRegions,destination:t.destRegions,label:"name"},on:{onChangeList:t.onChangeRegion}})],1),n("div",{staticClass:"mt-4"},[n("DualListBox",{attrs:{source:t.sourceCommunes,destination:t.destCommunes,label:"name"},on:{onChangeList:t.onChangeCommune}})],1)],1)],1)}),Vt=[],Gt=n("7eac"),Ut=n.n(Gt),Jt=(n("a968"),{name:"area-alloc-settings",props:["regions"],components:{DualListBox:Ut.a},computed:Object(s["a"])({},Object(l["b"])(["currentCompanyId","currentPeriodId"])),watch:{map_by_region:function(t,e){this.$emit("mapByRegionUpdate",t)}},mounted:function(){for(var t in this.sourceRegions=[],this.communeList={},this.regions){console.log(this.regions[t]),this.sourceRegions.push({code:t,name:this.regions[t].region});var e=this.regions[t].communes;for(var n in e)this.communeList[n]={rc:t,cc:n}}this.sourceRegions.sort((function(t,e){return t.name<e.name?-1:t.name>e.name?1:0})),this.onChangeRegion({source:this.sourceRegions,destination:this.destRegions}),this.loadAreaAlloc()},data:function(){return{destCommuneList:{},communeList:{},map_by_region:!1,sourceRegions:[],destRegions:[],sourceCommunes:[],destCommunes:[],initialized:!1}},methods:{loadAreaAlloc:function(){var t=this;console.log("---- loading area alloc ----"),c.a.get("/area_alloc/list?company_id=".concat(this.currentCompanyId)).then((function(e){var n=e.data.area_alloc;console.log("area alloc"),console.log(n);var r,a={},i=Object(Ot["a"])(n);try{for(i.s();!(r=i.n()).done;){var s=r.value;if(!(s.rc in a)){t.sourceRegions=t.sourceRegions.filter((function(t){return t.code!==s.rc}));var o={code:s.rc,name:t.regions[s.rc].region};t.destRegions.push(o),a[s.rc]=!0}}}catch(u){i.e(u)}finally{i.f()}t.onChangeRegion({source:t.sourceRegions,destination:t.destRegions}),a={};var c,l=Object(Ot["a"])(n);try{for(l.s();!(c=l.n()).done;){s=c.value;if(!(s.cc in a)){if(t.sourceCommunes=t.sourceCommunes.filter((function(t){return t.code+""!==s.cc+""})),void 0===t.regions[s.rc].communes||void 0===t.regions[s.rc].communes[s.cc])continue;o={code:s.cc,name:t.regions[s.rc].communes[s.cc].commune,region_code:s.rc};t.destCommunes.push(o),a[s.cc]=!0}}}catch(u){l.e(u)}finally{l.f()}t.initialized=!0})).catch((function(e){console.error(e),t.toastr("danger","Fel","Kunde inte hämta områdesfördelning")}))},postCommunes:function(){var t,e=this,n=[],r=Object(Ot["a"])(this.destRegions);try{for(r.s();!(t=r.n()).done;){var a=t.value;n.push(a.code)}}catch(s){r.e(s)}finally{r.f()}var i=[];for(var a in this.destCommuneList)i.push(this.destCommuneList[a]);c.a.post("/area_alloc",{company_id:this.currentCompanyId,communes:i,regions:n}).then((function(t){t.status})).catch((function(t){console.error(t),e.toastr("danger","Fel","Kunde inte skapa områdesfördelning")}))},onChangeRegion:function(t,e){var n=t.source,r=t.destination;this.sourceRegions=n,this.destRegions=r,this.sourceCommunes=[];for(var a=0;a<this.destRegions.length;++a){var i=this.regions[this.destRegions[a].code];for(var s in i.communes)this.sourceCommunes.push({code:s,name:i.communes[s].commune,region_code:i.region_code})}for(a=0;a<this.destCommunes.length;++a)for(var o=0;o<this.sourceCommunes.length;++o)if(this.destCommunes[a].code===this.sourceCommunes[o].code){this.sourceCommunes.splice(o,1);break}this.sourceCommunes.sort((function(t,e){return t.name<e.name?-1:t.name>e.name?1:0})),this.destCommunes.sort((function(t,e){return t.name<e.name?-1:t.name>e.name?1:0})),this.initialized&&this.postCommunes()},onChangeCommune:function(t){var e=t.source,n=t.destination;this.sourceCommunes=e,this.destCommunes=n,this.destCommuneList={};var r,a=Object(Ot["a"])(this.destCommunes);try{for(a.s();!(r=a.n()).done;){var i=r.value,s=this.communeList[i.code];this.destCommuneList[s.cc]={rc:s.rc,cc:s.cc}}}catch(o){a.e(o)}finally{a.f()}this.postCommunes()},toastr:function(t,e,n){this.$bvToast.toast(n,{title:e,autoHideDelay:2e3,appendToast:!0,variant:t})}}}),Yt=Jt,Xt=(n("19e8"),Object(v["a"])(Yt,Ht,Vt,!1,null,"633ef9f0",null)),Wt=Xt.exports,Qt={name:"registration",props:["company","regions"],components:{AreaAllocSettings:Wt},computed:Object(s["a"])({},Object(l["b"])(["currentCompanyId"])),watch:{allow_multiple:function(t,e){this.registration.allow_multiple=t},is_region:function(t,e){this.registration.is_region=t,t&&(this.if_pcomp_reg_allow_reg=!1)},if_pcomp_reg_allow_reg:function(t,e){this.registration.if_pcomp_reg_allow_reg=t,t&&(this.is_region=!1)},company:function(t,e){if(t)for(var n in this.registration)t.registration.hasOwnProperty(n)&&void 0!=t.registration[n]&&(this.registration[n]=t.registration[n])},check_join:function(t,e){var n=this;t.filter((function(t,e){t||n.registration.age_req_all.splice(e,1,null)}))}},mounted:function(){for(var t in this.regions)this.sourceRegions.push({code:t,name:this.regions[t].region});this.sourceRegions.sort((function(t,e){return t.name<e.name?-1:t.name>e.name?1:0})),this.registration=this.company.registration,this.selectedRegistrationOption=this.registration.option,null!==this.selectedRegistrationOption&&void 0!==this.selectedRegistrationOption&&""!==this.selectedRegistrationOption||(this.selectedRegistrationOption="simple"),this.registration.hasOwnProperty("is_region")&&(this.is_region=this.registration.is_region),this.registration.hasOwnProperty("if_pcomp_reg_allow_reg")&&(this.if_pcomp_reg_allow_reg=this.registration.if_pcomp_reg_allow_reg)},data:function(){return{selectedRegistrationOption:"simple",sourceRegions:[],destRegions:[],sourceCommunes:[],destCommunes:[],is_region:!1,if_pcomp_reg_allow_reg:!1,map_by_region:!1,allow_multiple:!1,registration:{is_region:!1,if_pcomp_reg_allow_reg:!1,map_by_region:!1,allow_multiple:!1,create_parent_members:!1,demand_parents:!1,show_from_pc:!1,join_cond:[{type:"max",val:"60"},{type:"min",val:"18"}],pages:[],age_req_all:[18,20],family:!1,age_max_parent:0},check_join:[!0,!0]}},methods:{mapByRegionUpdate:function(t){this.map_by_region=t,this.registration.map_by_region=t},saveData:function(t){var e=this;t.preventDefault(),this.registration.option=this.selectedRegistrationOption,c.a.put("/company",{company_id:this.currentCompanyId,registration:this.registration}).then((function(t){e.toastr("success","OK","Registreringen uppdaterades")})).catch((function(t){console.error(t),e.toastr("danger","Fel","Kunde inte uppdatera registrering")}))},onChangeRegion:function(t){var e=t.source,n=t.destination;this.sourceRegions=e,this.destRegions=n,this.sourceCommunes=[];for(var r=0;r<this.destRegions.length;++r){var a=this.regions[this.destRegions[r].code];for(var i in a.communes)this.sourceCommunes.push({code:i,name:a.communes[i].commune,region_code:a.region_code})}for(r=0;r<this.destCommunes.length;++r)for(var s=0;s<this.sourceCommunes.length;++s)if(this.destCommunes[r].code===this.sourceCommunes[s].code){this.sourceCommunes.splice(s,1);break}this.sourceCommunes.sort((function(t,e){return t.name<e.name?-1:t.name>e.name?1:0})),this.destCommunes.sort((function(t,e){return t.name<e.name?-1:t.name>e.name?1:0}))},onChangeCommune:function(t){var e=t.source,n=t.destination;this.sourceCommunes=e,this.destCommunes=n},toastr:function(t,e,n){this.$bvToast.toast(n,{title:e,autoHideDelay:2e3,appendToast:!0,variant:t})}}},Zt=Qt,te=(n("697a"),Object(v["a"])(Zt,Bt,zt,!1,null,"0a5f28a2",null)),ee=te.exports,ne=n("1ab5"),re=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"px-5 mt-8",attrs:{id:"page-titles"}},[n("b-row",[n("b-col",{attrs:{lg:"2"}}),n("b-col",{attrs:{lg:"8"}},[n("ExtraDataTable",{attrs:{extras:t.extras},on:{deleteExtra:t.deleteExtra,selectExtra:t.selectExtra,createExtra:t.createExtra}})],1)],1),n("b-row",[n("b-col",{attrs:{lg:"2"}}),n("b-col",{attrs:{lg:"8"}},[t.creating||t.editing?n("b-card",{staticClass:"mb-2 mt-8 edit-extradata",attrs:{title:"Editera extradata","hide-footer":""}},[n("div",[n("b-form",{staticClass:"mt-8",on:{submit:t.saveData}},[n("b-form-group",{attrs:{id:"input-group-name",label:"Namn","label-for":"input-name"}},[n("b-form-input",{attrs:{id:"input-name",type:"text",required:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),n("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Spara")])],1)],1)]):t._e()],1)],1)],1)},ae=[],ie=(n("7db0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card card-custom card-stretch gutter-b"},[n("div",{staticClass:"card-header border-0 py-5"},[t._m(0),n("div",{staticClass:"card-toolbar"},[n("a",{staticClass:"btn btn-primary font-weight-bolder font-size-sm",attrs:{href:"#"},on:{click:t.createExtra}},[n("i",{staticClass:"menu-icon flaticon2-plus",staticStyle:{"font-size":"1.0em"}}),t._v("Ny Extradata")])])]),n("div",{staticClass:"card-body pt-0 pb-3"},[n("div",{staticClass:"table-responsive"},[n("table",{staticClass:"table table-head-custom table-vertical-center table-head-bg table-borderless"},[t._m(1),n("tbody",[t._l(t.extras,(function(e,r){return[n("ExtraDataTableRow",{key:r,attrs:{extra:e,currentCompanyId:t.currentCompanyId},on:{deleteExtra:t.deleteExtra,selectExtra:t.selectExtra,toastr:t.toastr}})]}))],2)])])])])}),se=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h3",{staticClass:"card-title align-items-start flex-column"},[n("span",{staticClass:"card-label font-weight-bolder text-dark"},[t._v("Extradata")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",{staticClass:"text-left"},[n("th",[t._v("ID")]),n("th",[t._v("Namn")]),n("th")])])}],oe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("td",[t._v(" "+t._s(t.extra.id)+" ")]),n("td",[t._v(" "+t._s(t.extra.name)+" ")]),n("td",{staticClass:"text-right pr-0"},[n("a",{staticClass:"btn btn-icon btn-light btn-sm mx-3",attrs:{href:"#"},on:{click:t.selectExtra}},[n("span",{staticClass:"svg-icon svg-icon-md svg-icon-primary"},[n("inline-svg",{attrs:{src:"/assets/svg/Write.svg"}})],1)]),n("a",{staticClass:"btn btn-icon btn-light btn-sm mx-3",attrs:{href:"#"},on:{click:t.deleteExtra}},[n("span",{staticClass:"svg-icon svg-icon-md svg-icon-primary"},[n("inline-svg",{attrs:{src:"/assets/svg/Trash.svg"}})],1)])])])},ce=[],le={name:"extra-table-row",props:["extra"],computed:Object(s["a"])({},Object(l["b"])(["currentCompanyId"])),data:function(){return{}},mounted:function(){},watch:{},methods:{deleteExtra:function(){this.$emit("deleteExtra",this.extra.id)},selectExtra:function(){this.$emit("selectExtra",this.extra.id)}}},ue=le,me=(n("cac8"),Object(v["a"])(ue,oe,ce,!1,null,"1cb65fb0",null)),pe=me.exports,de={name:"extras-table",props:["extras","currentCompanyId"],components:{ExtraDataTableRow:pe},methods:{toastr:function(t,e,n){this.$emit("toastr",t,e,n)},selectExtra:function(t){this.$emit("selectExtra",t)},deleteExtra:function(t){this.$emit("deleteExtra",t)},createExtra:function(){this.$emit("createExtra")}},data:function(){return{}}},fe=de,he=(n("a4af"),Object(v["a"])(fe,ie,se,!1,null,"3880f354",null)),ge=he.exports,be={name:"extra-settings",components:{ExtraDataTable:ge},computed:Object(s["a"])({},Object(l["b"])(["currentCompanyId","currentPeriodId"])),mounted:function(){this.loadData()},data:function(){return{form:null,creating:!1,editing:!1,extras:[]}},watch:{currentCompanyId:function(t,e){t&&this.loadData()}},methods:{loadData:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.currentCompanyId){e.next=2;break}return e.abrupt("return");case 2:c.a.get("/company?company_id=".concat(t.currentCompanyId)).then((function(e){t.extras=e.data.extras})).catch((function(e){console.error(e),t.toastr("danger","Fel","Kunde inte lista extradata")}));case 3:case"end":return e.stop()}}),e)})))()},createExtra:function(){this.creating=!0,this.form={name:""},this.scrollToEditExtra()},selectExtra:function(t){this.form=this.extras.find((function(e){return e.id===t})),this.editing=!0,this.scrollToEditExtra()},deleteExtra:function(t){var e=this;c.a.delete("/extra_data?id=".concat(t,"&company_id=").concat(this.currentCompanyId)).then((function(n){e.extras=e.extras.filter((function(e){return e.id!==t}))})).catch((function(t){e.toastr("danger","Fel","Kunde inte ta bort extradata")}))},saveData:function(t){var e=this;t.preventDefault(),this.creating?(this.creating=!1,this.form.company_id=this.currentCompanyId,c.a.post("/extra_data",this.form).then((function(t){e.toastr("success","OK","Extradata har skapats"),e.extras.push(t.data.extra)})).catch((function(t){console.error(t),e.toastr("danger","Fel","Kunde inte skapa extradata")}))):(this.form.company_id=this.currentCompanyId,c.a.put("/extra_data",this.form).then((function(t){e.toastr("success","OK","Extradata har uppdaterats")})).catch((function(t){console.error(t),e.toastr("danger","Fel","Kunde inte uppdatera extradata")})))},scrollToEditExtra:function(){var t=this;setTimeout((function(){var e=t.$el.getElementsByClassName("edit-title")[0];if(e){var n=-70,r=e.getBoundingClientRect().top+window.pageYOffset+n;window.scrollTo({top:r,behavior:"smooth"})}}),100)},toastr:function(t,e,n){this.$bvToast.toast(n,{title:e,autoHideDelay:2e3,appendToast:!0,variant:t})}}},ve=be,_e=(n("eb57"),Object(v["a"])(ve,re,ae,!1,null,"8c71b086",null)),ye=_e.exports,xe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"px-5 mt-8",attrs:{id:"page-links"}},[n("b-row",[n("b-col",{attrs:{lg:"12"}},[n("v-list",t._l(t.links,(function(e){return n("v-list-item",{key:e.title},[n("v-list-item-content",[n("a",{attrs:{href:e.url}},[n("v-list-item-title",{domProps:{textContent:t._s(e.title)}})],1)])],1)})),1)],1)],1)],1)},ke=[],Ce={name:"links-settings",components:{},computed:Object(s["a"])({},Object(l["b"])(["currentPeriodId","currentCompanyId"])),mounted:function(){this.loadData()},data:function(){return{top:{},links:[]}},watch:{currentCompanyId:function(t,e){t&&this.loadData()}},methods:{loadData:function(){var t=this;c.a.get("/company/top?company_id=".concat(this.currentCompanyId)).then((function(e){t.top=e.data.company,t.links=[{title:"Registreringssidan för medlemmar",url:"/register/"+t.currentCompanyId},{title:"Registreringssidan för underföreningar",url:"/signup/"+t.currentCompanyId},{title:"Loginsida för medlemmar",url:"/login/"+t.currentCompanyId},{title:"Loginsida för användare",url:"/ml-login"},{title:"Publik evenemangslista",url:"/events/"+t.currentCompanyId},{title:"Loginsida medlemmar samtliga org.",url:"/login/"+t.top.company_id}]})).catch((function(e){console.error(e),t.toastr("danger","Serverfel","Kunde inte hitta moderförening")}))},toastr:function(t,e,n){this.$bvToast.toast(n,{title:e,autoHideDelay:2e3,appendToast:!0,variant:t})}}},we=Ce,Oe=(n("828f"),n("6544")),$e=n.n(Oe),De=n("8860"),Ie=n("da13"),je=n("5d23"),Se=Object(v["a"])(we,xe,ke,!1,null,"5c9571c4",null),Re=Se.exports;$e()(Se,{VList:De["a"],VListItem:Ie["a"],VListItemContent:je["a"],VListItemTitle:je["b"]});var Ee=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"px-5 mt-8",attrs:{id:"page-basic0"}},[n("b-row",[n("b-col",{attrs:{lg:"2"}}),n("b-col",{attrs:{lg:"8"}},[n("b-alert",{attrs:{show:"",variant:"light"}},[t._v("Markerade datafält nedan kommer att visas på medlemmens profilsida och kan uppdateras av medlemmen.")]),n("b-card",{staticClass:"mb-2 mt-8",attrs:{title:"","hide-footer":""}},[n("div",[n("b-form",{on:{submit:t.saveData}},[t._l(t.profilearr,(function(e,r){return[n("ProfileRow",{key:r,attrs:{profilerow:e},on:{toastr:t.toastr}})]})),n("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Spara")])],2)],1)])],1)],1)],1)},Ae=[],Te=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex align-items-center mb-4"},[n("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.profilerow.checked,expression:"profilerow.checked"}],attrs:{type:"checkbox",name:""},domProps:{checked:Array.isArray(t.profilerow.checked)?t._i(t.profilerow.checked,null)>-1:t.profilerow.checked},on:{click:function(e){t.profilerow.checked=!t.profilerow.checked},change:function(e){var n=t.profilerow.checked,r=e.target,a=!!r.checked;if(Array.isArray(n)){var i=null,s=t._i(n,i);r.checked?s<0&&t.$set(t.profilerow,"checked",n.concat([i])):s>-1&&t.$set(t.profilerow,"checked",n.slice(0,s).concat(n.slice(s+1)))}else t.$set(t.profilerow,"checked",a)}}}),n("span")]),n("span",{staticClass:"ml-3 cursor-pointer"},[t._v(t._s(t.profilerow.name))])])},Pe=[],Le={name:"profile-row",props:["profilerow"],computed:Object(s["a"])({},Object(l["b"])(["currentCompanyId"])),data:function(){return{}},mounted:function(){},watch:{},methods:{getLangText:function(t,e,n){for(var r=0;r<e.length;++r)if(e[r].lang===n)return e[r].text;return"Språköversättning saknas: "+t}}},Fe=Le,Ke=(n("5036"),Object(v["a"])(Fe,Te,Pe,!1,null,"514a64e1",null)),qe=Ke.exports,Ne={name:"memberprofile-settings",components:{ProfileRow:qe},props:["company"],computed:Object(s["a"])({},Object(l["b"])(["currentCompanyId","currentPeriodId"])),mounted:function(){this.loadData()},data:function(){return{form:{company_id:""},profilearr:[],profile:{}}},watch:{currentCompanyId:function(t,e){t&&this.loadData()}},methods:{loadData:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.currentCompanyId){e.next=2;break}return e.abrupt("return");case 2:for(n in t.profilearr=[],t.company.profile)t.profilearr.push({name:t.getText(n),id:n,checked:1===t.company.profile[n]});case 4:case"end":return e.stop()}}),e)})))()},getText:function(t){switch(t){case"pn":return"Personnummer";case"na":return"Namn";case"em":return"E-post";case"ph":return"Telefon";case"st":return"Gatudress";case"co":return"C/O";case"zi":return"Postkod";case"pa":return"Postort";case"rc":return"Region";case"cc":return"Kommun"}return"Okänt: "+t},getLangText:function(t,e){for(var n=0;n<t.length;++n)if(t[n].lang===e)return t[n].text;return"Språköversättning saknas"},saveData:function(t){var e=this;t.preventDefault();for(var n={profile:{},company_id:this.currentCompanyId},r=0;r<this.profilearr.length;++r)n.profile[this.profilearr[r].id]=this.profilearr[r].checked?1:0;c.a.put("/company",n).then((function(t){204===t.status&&e.toastr("success","OK","Inställningar uppdaterad")})).catch((function(t){console.error(t),e.toastr("danger","Server Fel","Kunde inte uppdatera inställningar")}))},toastr:function(t,e,n){this.$bvToast.toast(n,{title:e,autoHideDelay:2e3,appendToast:!0,variant:t})}}},Me=Ne,Be=(n("6874"),Object(v["a"])(Me,Ee,Ae,!1,null,"421c5122",null)),ze=Be.exports,He=(n("767c"),{name:"periods",components:{Evenemang:T,APIConnection:I,Fortnox:N,CreditCard:G,Swish:Q,Email:at,Requirements:gt,Bank:kt,Titles:Mt,Registration:ee,Basic:ne["a"],Links:Re,MemberProfile:ze,ExtraData:ye},computed:Object(s["a"])({},Object(l["b"])(["currentCompanyId","currentPeriodId"])),mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.company_id=t.$route.params.id,t.loadData();case 2:case"end":return e.stop()}}),e)})))()},data:function(){return{extras:[],regions:{},regionOptions:[],sourceRegions:[],cmmuneOptions:[],communeOptions1:[],communeOptions2:[],company_id:null,company:{origins:"",smtp:{use_custom:!1,memlist_prefix:"",from:"",password:"",server:"",port:0,security:""},settings:{}}}},watch:{currentCompanyId:function(t,e){t&&this.loadData()},currentPeriodId:function(t,e){this.currentCompanyId&&this.loadData()}},methods:{updateTitleSettings:function(t){this.company.settings.titles=t,this.updateSettings(this.company.settings)},updateEmailSettings:function(t){this.company.smtp=t,this.postCompany({company_id:this.currentCompanyId,smtp:t})},putCompany:function(t){var e=this;c.a.put("/company",t).then((function(t){204===t.status&&(e.toastr("success","OK","Inställningar uppdaterad"),e.loadData())})).catch((function(t){console.error(t),e.toastr("danger","Server Fel","Kunde inte uppdatera inställningar")}))},updateRegistration:function(t){this.putCompany({company_id:this.currentCompanyId,registration:t})},updateSettings:function(t){this.putCompany({company_id:this.currentCompanyId,settings:t})},loadRegions:function(){var t=this;c.a.get("/location/regions").then((function(e){for(var n in t.regions=e.data.regions,t.regionOptions=[],t.regions)t.regionOptions.push({value:n,text:t.regions[n].region});t.regionOptions.sort((function(t,e){return t.text<e.text?-1:t.text>e.text?1:0}))})).catch((function(e){console.error(e),t.toastr("danger","Server Fel","Kunde inte hämta regioner")}))},selectRegion1:function(t){this.loadCommunes(t,1)},selectRegion2:function(t){this.communeOptions2=[];for(var e=0;e<t.length;++e)for(var n=this.getCommunes(t[e].code),r=0;r<n.length;++r)this.communeOptions2.push({code:n[r].value,text:n[r].text})},getCommunes:function(t){var e=[],n=this.regions[t].communes;for(var r in n)e.push({value:r,text:n[r].commune});return e.sort((function(t,e){return t.text<e.text?-1:t.text>e.text?1:0})),e},loadCommunes:function(t,e){console.log("selected region: "+t),this.communeOptions=[];var n=this.regions[t].communes;for(var r in n)this.communeOptions.push({value:r,text:n[r].commune});this.communeOptions.sort((function(t,e){return t.text<e.text?-1:t.text>e.text?1:0})),1==e?this.communeOptions1=this.communeOptions:this.communeOptions2=this.communeOptions},loadData:function(){var t=this;this.loadRegions();var e=this.currentCompanyId;""!==this.company_id&&null!==this.company_id&&void 0!==this.company_id&&(e=this.company_id),c.a.get("/company?company_id=".concat(e)).then((function(e){200===e.status&&(t.company=e.data.company,t.extras=e.data.extras)})).catch((function(e){console.error(e),t.toastr("danger","Server Fel","Kunde inte hämta föreningsinställningar")}))},toastr:function(t,e,n){this.$bvToast.toast(n,{title:e,autoHideDelay:2e3,appendToast:!0,variant:t})}}}),Ve=He,Ge=(n("e191"),n("71a3")),Ue=n("c671"),Je=n("fe57"),Ye=Object(v["a"])(Ve,r,a,!1,null,"779fd108",null);e["default"]=Ye.exports;$e()(Ye,{VTab:Ge["a"],VTabItem:Ue["a"],VTabs:Je["a"]})},e191:function(t,e,n){"use strict";n("6708")},e52c:function(t,e,n){},e9e7:function(t,e,n){"use strict";n("908f")},eb57:function(t,e,n){"use strict";n("263a")},f448:function(t,e,n){"use strict";n("bfb6")},f5f2:function(t,e,n){}}]);
//# sourceMappingURL=chunk-1934d6dd.eab07c16.js.map