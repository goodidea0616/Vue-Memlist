(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0cf8b2"],{"63ba":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-card",[e.showError?r("b-alert",{attrs:{show:"",variant:"danger"}},[e._v("Betalningen misslyckades")]):e._e(),e.showSuccess?r("b-alert",{attrs:{show:"",variant:"success"}},[e._v("Betalningen lyckades")]):e._e()],1)},o=[],s=(r("99af"),{name:"payment-accept",data:function(){return{showError:!1,showSuccess:!1,merchant_reference:null,shop_order_id:null}},mounted:function(){console.log("PaymentAccept");var e=this.$route.query.error,t=this.$route.query.merchant_reference;console.log("merchant_reference: "+t),console.log("error: "+e);var r=t.substr("order-".length);e?this.paymentError(r,t,e):this.paymentAccepted(r,t)},methods:{paymentAccepted:function(e,t){this.shop_order_id=e,this.merchant_reference=t,this.checkPayment(this.shop_order_id,this.merchant_reference,(function(e){e?this.showSuccess=!0:this.showError=!0}))},paymentError:function(e,t,r){this.shop_order_id=e,this.merchant_reference=t,this.showError=!0},checkPayment:function(e,t,r){var n=this;axios.get("/shop_order/status?shop_order_id=".concat(e,"&merchant_reference=").concat(t)).then((function(e){r("AUTHORIZED"===e.data.status)})).catch((function(e){console.error(e),n.toastr("danger","Fel","Kunde inte bekräfta betalning"),r(!1)}))},getOrder:function(e){var t=this;axios.get("/shop_order?shop_order_id=".concat(e)).then((function(e){})).catch((function(e){console.error(e),t.toastr("danger","Fel","Kunde inte hämta order")}))},toastr:function(e,t,r){this.$bvToast.toast(r,{title:t,autoHideDelay:2e3,appendToast:!0,variant:e})}},computed:{}}),c=s,a=r("2877"),i=Object(a["a"])(c,n,o,!1,null,"4195eef2",null);t["default"]=i.exports}}]);
//# sourceMappingURL=chunk-2d0cf8b2.cb04f437.js.map