(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-667b796e"],{"1da1":function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));s("d3b7");function a(e,t,s,a,n,i,r){try{var c=e[i](r),o=c.value}catch(l){return void s(l)}c.done?t(o):Promise.resolve(o).then(a,n)}function n(e){return function(){var t=this,s=arguments;return new Promise((function(n,i){var r=e.apply(t,s);function c(e){a(r,n,i,c,o,"next",e)}function o(e){a(r,n,i,c,o,"throw",e)}c(void 0)}))}}},"27dc":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"px-5",attrs:{id:"page-registrationsetup"}},[s("h5",{staticClass:"mb-6 ml-2"},[e._v("Registeringswizard")]),s("PagesTable",{attrs:{items:e.pages,types:e.types},on:{moveUpClicked:e.moveUp,moveDownClicked:e.moveDown,createPageClicked:e.createPage,selectPageClicked:e.selectPage,deletePageClicked:e.deletePage,toastr:e.toastr}}),s("div",{staticClass:"scroll-to-container"}),e.creating||e.editing?s("b-card",{ref:"edit-reg",staticClass:"mb-2 edit-reg-container",attrs:{title:"",id:"edit-reg","hide-footer":""}},[s("div",[s("b-form",{staticClass:"mt-8",on:{submit:e.savePage}},[s("b-form-group",{attrs:{id:"input-group-id",label:"ID","label-for":"input-id"}},[s("b-form-input",{attrs:{id:"input-id",type:"text",disabled:""},model:{value:e.page.id,callback:function(t){e.$set(e.page,"id",t)},expression:"page.id"}})],1),s("b-form-group",{attrs:{id:"input-group-name",label:"Namn","label-for":"input-name"}},[s("b-form-input",{attrs:{id:"input-name",type:"text"},model:{value:e.page.name,callback:function(t){e.$set(e.page,"name",t)},expression:"page.name"}})],1),"confirm"!==e.page.type?s("b-form-group",{attrs:{id:"input-group-type",label:"Typ","label-for":"input-type"}},[s("b-form-select",{attrs:{options:e.typeOptions},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}})],1):e._e(),"personnr"===e.page.type?s("div",[s("b-form-group",[s("div",{staticClass:"d-flex align-items-center"},[s("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.page.settings.is_mandatory,expression:"page.settings.is_mandatory"}],attrs:{type:"checkbox",name:""},domProps:{checked:Array.isArray(e.page.settings.is_mandatory)?e._i(e.page.settings.is_mandatory,null)>-1:e.page.settings.is_mandatory},on:{click:function(t){e.page.settings.is_mandatory=!e.page.settings.is_mandatory},change:function(t){var s=e.page.settings.is_mandatory,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=null,r=e._i(s,i);a.checked?r<0&&e.$set(e.page.settings,"is_mandatory",s.concat([i])):r>-1&&e.$set(e.page.settings,"is_mandatory",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.page.settings,"is_mandatory",n)}}}),s("span")]),s("span",{staticClass:"ml-3 cursor-pointer"},[e._v("Medlemmen måste fylla i fullständigt personnummer")])])]),s("b-form-group",[s("div",{staticClass:"d-flex align-items-center"},[s("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.page.settings.spar,expression:"page.settings.spar"}],attrs:{type:"checkbox",name:""},domProps:{checked:Array.isArray(e.page.settings.spar)?e._i(e.page.settings.spar,null)>-1:e.page.settings.spar},on:{click:function(t){e.page.settings.spar=!e.page.settings.spar},change:function(t){var s=e.page.settings.spar,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=null,r=e._i(s,i);a.checked?r<0&&e.$set(e.page.settings,"spar",s.concat([i])):r>-1&&e.$set(e.page.settings,"spar",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.page.settings,"spar",n)}}}),s("span")]),s("span",{staticClass:"ml-3 cursor-pointer"},[e._v("Gör SPAR uppslag för underlätta registreringen (Kostnad tillkommer)")])])])],1):e._e(),"parents"===e.page.type?s("div",[e.page.settings.from_age?s("div",{staticClass:"d-flex align-items-center mb-6 w-50"},[s("b-input-group",{staticClass:"mb-2 md-8"},[s("b-input-group-prepend",{attrs:{"is-text":""}},[e._v("Målsman måste vara minst ålder")]),s("b-form-input",{attrs:{type:"number",disabled:""},model:{value:e.page.settings.from_age,callback:function(t){e.$set(e.page.settings,"from_age",t)},expression:"page.settings.from_age"}})],1)],1):e._e(),s("p",{staticClass:"mt-4 mb-8"},[e._v("Obligatoriska uppgifter")]),s("b-form-group",[s("div",{staticClass:"d-flex align-items-center"},[s("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.page.settings.name,expression:"page.settings.name"}],attrs:{type:"checkbox",name:"",disabled:"",checked:"checked"},domProps:{checked:Array.isArray(e.page.settings.name)?e._i(e.page.settings.name,null)>-1:e.page.settings.name},on:{click:function(t){e.page.settings.name=!e.page.settings.name},change:function(t){var s=e.page.settings.name,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=null,r=e._i(s,i);a.checked?r<0&&e.$set(e.page.settings,"name",s.concat([i])):r>-1&&e.$set(e.page.settings,"name",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.page.settings,"name",n)}}}),s("span")]),s("span",{staticClass:"ml-3 cursor-pointer"},[e._v("Namn")])])]),s("b-form-group",[s("div",{staticClass:"d-flex align-items-center"},[s("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.page.settings.email,expression:"page.settings.email"}],attrs:{type:"checkbox",name:"",disabled:"",checked:"checked"},domProps:{checked:Array.isArray(e.page.settings.email)?e._i(e.page.settings.email,null)>-1:e.page.settings.email},on:{click:function(t){e.page.settings.email=!e.page.settings.email},change:function(t){var s=e.page.settings.email,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=null,r=e._i(s,i);a.checked?r<0&&e.$set(e.page.settings,"email",s.concat([i])):r>-1&&e.$set(e.page.settings,"email",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.page.settings,"email",n)}}}),s("span")]),s("span",{staticClass:"ml-3 cursor-pointer"},[e._v("E-post")])])]),s("b-form-group",[s("div",{staticClass:"d-flex align-items-center"},[s("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.page.settings.personnr,expression:"page.settings.personnr"}],attrs:{type:"checkbox",name:"",checked:"checked"},domProps:{checked:Array.isArray(e.page.settings.personnr)?e._i(e.page.settings.personnr,null)>-1:e.page.settings.personnr},on:{click:function(t){e.page.settings.personnr=!e.page.settings.personnr},change:function(t){var s=e.page.settings.personnr,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=null,r=e._i(s,i);a.checked?r<0&&e.$set(e.page.settings,"personnr",s.concat([i])):r>-1&&e.$set(e.page.settings,"personnr",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.page.settings,"personnr",n)}}}),s("span")]),s("span",{staticClass:"ml-3 cursor-pointer"},[e._v("Personnummer")])])]),s("b-form-group",[s("div",{staticClass:"d-flex align-items-center"},[s("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.page.settings.phone,expression:"page.settings.phone"}],attrs:{type:"checkbox",name:"",checked:"checked"},domProps:{checked:Array.isArray(e.page.settings.phone)?e._i(e.page.settings.phone,null)>-1:e.page.settings.phone},on:{click:function(t){e.page.settings.phone=!e.page.settings.phone},change:function(t){var s=e.page.settings.phone,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=null,r=e._i(s,i);a.checked?r<0&&e.$set(e.page.settings,"phone",s.concat([i])):r>-1&&e.$set(e.page.settings,"phone",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.page.settings,"phone",n)}}}),s("span")]),s("span",{staticClass:"ml-3 cursor-pointer"},[e._v("Telefon")])])]),s("b-form-group",[s("div",{staticClass:"d-flex align-items-center"},[s("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.page.settings.address,expression:"page.settings.address"}],attrs:{type:"checkbox",name:"",checked:"checked"},domProps:{checked:Array.isArray(e.page.settings.address)?e._i(e.page.settings.address,null)>-1:e.page.settings.address},on:{click:function(t){e.page.settings.address=!e.page.settings.address},change:function(t){var s=e.page.settings.address,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=null,r=e._i(s,i);a.checked?r<0&&e.$set(e.page.settings,"address",s.concat([i])):r>-1&&e.$set(e.page.settings,"address",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.page.settings,"address",n)}}}),s("span")]),s("span",{staticClass:"ml-3 cursor-pointer"},[e._v("Gatuadress")])])]),s("b-form-group",[s("div",{staticClass:"d-flex align-items-center"},[s("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.page.settings.zipcode,expression:"page.settings.zipcode"}],attrs:{type:"checkbox",name:"",checked:"checked"},domProps:{checked:Array.isArray(e.page.settings.zipcode)?e._i(e.page.settings.zipcode,null)>-1:e.page.settings.zipcode},on:{click:function(t){e.page.settings.zipcode=!e.page.settings.zipcode},change:function(t){var s=e.page.settings.zipcode,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=null,r=e._i(s,i);a.checked?r<0&&e.$set(e.page.settings,"zipcode",s.concat([i])):r>-1&&e.$set(e.page.settings,"zipcode",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.page.settings,"zipcode",n)}}}),s("span")]),s("span",{staticClass:"ml-3 cursor-pointer"},[e._v("Postkod")])])]),s("b-form-group",[s("div",{staticClass:"d-flex align-items-center"},[s("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.page.settings.region,expression:"page.settings.region"}],attrs:{type:"checkbox",name:"",checked:"checked"},domProps:{checked:Array.isArray(e.page.settings.region)?e._i(e.page.settings.region,null)>-1:e.page.settings.region},on:{click:function(t){e.page.settings.region=!e.page.settings.region},change:function(t){var s=e.page.settings.region,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=null,r=e._i(s,i);a.checked?r<0&&e.$set(e.page.settings,"region",s.concat([i])):r>-1&&e.$set(e.page.settings,"region",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.page.settings,"region",n)}}}),s("span")]),s("span",{staticClass:"ml-3 cursor-pointer"},[e._v("Region")])])]),s("b-form-group",[s("div",{staticClass:"d-flex align-items-center"},[s("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.page.settings.commune,expression:"page.settings.commune"}],attrs:{type:"checkbox",name:"",checked:"checked"},domProps:{checked:Array.isArray(e.page.settings.commune)?e._i(e.page.settings.commune,null)>-1:e.page.settings.commune},on:{click:function(t){e.page.settings.commune=!e.page.settings.commune},change:function(t){var s=e.page.settings.commune,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=null,r=e._i(s,i);a.checked?r<0&&e.$set(e.page.settings,"commune",s.concat([i])):r>-1&&e.$set(e.page.settings,"commune",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.page.settings,"commune",n)}}}),s("span")]),s("span",{staticClass:"ml-3 cursor-pointer"},[e._v("Kommun")])])])],1):e._e(),"details"===e.page.type?s("div",[s("p",{staticClass:"mt-4 mb-8"},[e._v("Obligatoriska uppgifter")]),s("b-form-group",[s("div",{staticClass:"d-flex align-items-center"},[s("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.page.settings.name,expression:"page.settings.name"}],attrs:{type:"checkbox",name:"",disabled:"",checked:"checked"},domProps:{checked:Array.isArray(e.page.settings.name)?e._i(e.page.settings.name,null)>-1:e.page.settings.name},on:{click:function(t){e.page.settings.name=!e.page.settings.name},change:function(t){var s=e.page.settings.name,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=null,r=e._i(s,i);a.checked?r<0&&e.$set(e.page.settings,"name",s.concat([i])):r>-1&&e.$set(e.page.settings,"name",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.page.settings,"name",n)}}}),s("span")]),s("span",{staticClass:"ml-3 cursor-pointer"},[e._v("Namn")])])]),s("b-form-group",[s("div",{staticClass:"d-flex align-items-center"},[s("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.page.settings.email,expression:"page.settings.email"}],attrs:{type:"checkbox",name:"",disabled:"",checked:"checked"},domProps:{checked:Array.isArray(e.page.settings.email)?e._i(e.page.settings.email,null)>-1:e.page.settings.email},on:{click:function(t){e.page.settings.email=!e.page.settings.email},change:function(t){var s=e.page.settings.email,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=null,r=e._i(s,i);a.checked?r<0&&e.$set(e.page.settings,"email",s.concat([i])):r>-1&&e.$set(e.page.settings,"email",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.page.settings,"email",n)}}}),s("span")]),s("span",{staticClass:"ml-3 cursor-pointer"},[e._v("E-post")])])]),s("b-form-group",[s("div",{staticClass:"d-flex align-items-center"},[s("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.page.settings.password,expression:"page.settings.password"}],attrs:{type:"checkbox",name:"",checked:"checked"},domProps:{checked:Array.isArray(e.page.settings.password)?e._i(e.page.settings.password,null)>-1:e.page.settings.password},on:{click:function(t){e.page.settings.password=!e.page.settings.password},change:function(t){var s=e.page.settings.password,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=null,r=e._i(s,i);a.checked?r<0&&e.$set(e.page.settings,"password",s.concat([i])):r>-1&&e.$set(e.page.settings,"password",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.page.settings,"password",n)}}}),s("span")]),s("span",{staticClass:"ml-3 cursor-pointer"},[e._v("Lösenord")])])]),s("b-form-group",[s("div",{staticClass:"d-flex align-items-center"},[s("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.page.settings.company_name,expression:"page.settings.company_name"}],attrs:{type:"checkbox",name:""},domProps:{checked:Array.isArray(e.page.settings.company_name)?e._i(e.page.settings.company_name,null)>-1:e.page.settings.company_name},on:{click:function(t){e.page.settings.company_name=!e.page.settings.company_name},change:function(t){var s=e.page.settings.company_name,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=null,r=e._i(s,i);a.checked?r<0&&e.$set(e.page.settings,"company_name",s.concat([i])):r>-1&&e.$set(e.page.settings,"company_name",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.page.settings,"company_name",n)}}}),s("span")]),s("span",{staticClass:"ml-3 cursor-pointer"},[e._v("Eventuellt företagsnamn")])])]),s("b-form-group",[s("div",{staticClass:"d-flex align-items-center"},[s("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.page.settings.birthdate,expression:"page.settings.birthdate"}],attrs:{type:"checkbox",name:""},domProps:{checked:Array.isArray(e.page.settings.birthdate)?e._i(e.page.settings.birthdate,null)>-1:e.page.settings.birthdate},on:{click:function(t){e.page.settings.birthdate=!e.page.settings.birthdate},change:function(t){var s=e.page.settings.birthdate,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=null,r=e._i(s,i);a.checked?r<0&&e.$set(e.page.settings,"birthdate",s.concat([i])):r>-1&&e.$set(e.page.settings,"birthdate",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.page.settings,"birthdate",n)}}}),s("span")]),s("span",{staticClass:"ml-3 cursor-pointer"},[e._v("Födelsedata")])])]),s("b-form-group",[s("div",{staticClass:"d-flex align-items-center"},[s("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.page.settings.phone,expression:"page.settings.phone"}],attrs:{type:"checkbox",name:""},domProps:{checked:Array.isArray(e.page.settings.phone)?e._i(e.page.settings.phone,null)>-1:e.page.settings.phone},on:{click:function(t){e.page.settings.phone=!e.page.settings.phone},change:function(t){var s=e.page.settings.phone,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=null,r=e._i(s,i);a.checked?r<0&&e.$set(e.page.settings,"phone",s.concat([i])):r>-1&&e.$set(e.page.settings,"phone",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.page.settings,"phone",n)}}}),s("span")]),s("span",{staticClass:"ml-3 cursor-pointer"},[e._v("Telefonnummer")])])]),s("b-form-group",[s("div",{staticClass:"d-flex align-items-center"},[s("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.page.settings.address,expression:"page.settings.address"}],attrs:{type:"checkbox",name:""},domProps:{checked:Array.isArray(e.page.settings.address)?e._i(e.page.settings.address,null)>-1:e.page.settings.address},on:{click:function(t){e.page.settings.address=!e.page.settings.address},change:function(t){var s=e.page.settings.address,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=null,r=e._i(s,i);a.checked?r<0&&e.$set(e.page.settings,"address",s.concat([i])):r>-1&&e.$set(e.page.settings,"address",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.page.settings,"address",n)}}}),s("span")]),s("span",{staticClass:"ml-3 cursor-pointer"},[e._v("Gatuadress")])])]),s("b-form-group",[s("div",{staticClass:"d-flex align-items-center"},[s("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.page.settings.co,expression:"page.settings.co"}],attrs:{type:"checkbox",name:""},domProps:{checked:Array.isArray(e.page.settings.co)?e._i(e.page.settings.co,null)>-1:e.page.settings.co},on:{click:function(t){e.page.settings.co=!e.page.settings.co},change:function(t){var s=e.page.settings.co,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=null,r=e._i(s,i);a.checked?r<0&&e.$set(e.page.settings,"co",s.concat([i])):r>-1&&e.$set(e.page.settings,"co",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.page.settings,"co",n)}}}),s("span")]),s("span",{staticClass:"ml-3 cursor-pointer"},[e._v("C/O")])])]),s("b-form-group",[s("div",{staticClass:"d-flex align-items-center"},[s("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.page.settings.zipcode,expression:"page.settings.zipcode"}],attrs:{type:"checkbox",name:""},domProps:{checked:Array.isArray(e.page.settings.zipcode)?e._i(e.page.settings.zipcode,null)>-1:e.page.settings.zipcode},on:{click:function(t){e.page.settings.zipcode=!e.page.settings.zipcode},change:function(t){var s=e.page.settings.zipcode,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=null,r=e._i(s,i);a.checked?r<0&&e.$set(e.page.settings,"zipcode",s.concat([i])):r>-1&&e.$set(e.page.settings,"zipcode",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.page.settings,"zipcode",n)}}}),s("span")]),s("span",{staticClass:"ml-3 cursor-pointer"},[e._v("Postkod")])])]),s("b-form-group",[s("div",{staticClass:"d-flex align-items-center"},[s("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.page.settings.region,expression:"page.settings.region"}],attrs:{type:"checkbox",name:""},domProps:{checked:Array.isArray(e.page.settings.region)?e._i(e.page.settings.region,null)>-1:e.page.settings.region},on:{click:function(t){e.page.settings.region=!e.page.settings.region},change:function(t){var s=e.page.settings.region,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=null,r=e._i(s,i);a.checked?r<0&&e.$set(e.page.settings,"region",s.concat([i])):r>-1&&e.$set(e.page.settings,"region",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.page.settings,"region",n)}}}),s("span")]),s("span",{staticClass:"ml-3 cursor-pointer"},[e._v("Region")])])]),s("b-form-group",[s("div",{staticClass:"d-flex align-items-center"},[s("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.page.settings.commune,expression:"page.settings.commune"}],attrs:{type:"checkbox",name:""},domProps:{checked:Array.isArray(e.page.settings.commune)?e._i(e.page.settings.commune,null)>-1:e.page.settings.commune},on:{click:function(t){e.page.settings.commune=!e.page.settings.commune},change:function(t){var s=e.page.settings.commune,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=null,r=e._i(s,i);a.checked?r<0&&e.$set(e.page.settings,"commune",s.concat([i])):r>-1&&e.$set(e.page.settings,"commune",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.page.settings,"commune",n)}}}),s("span")]),s("span",{staticClass:"ml-3 cursor-pointer"},[e._v("Kommun")])])]),s("b-form-group",[s("div",{staticClass:"d-flex align-items-center"},[s("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.page.settings.billing,expression:"page.settings.billing"}],attrs:{type:"checkbox",name:""},domProps:{checked:Array.isArray(e.page.settings.billing)?e._i(e.page.settings.billing,null)>-1:e.page.settings.billing},on:{click:function(t){e.page.settings.billing=!e.page.settings.billing},change:function(t){var s=e.page.settings.billing,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=null,r=e._i(s,i);a.checked?r<0&&e.$set(e.page.settings,"billing",s.concat([i])):r>-1&&e.$set(e.page.settings,"billing",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.page.settings,"billing",n)}}}),s("span")]),s("span",{staticClass:"ml-3 cursor-pointer"},[e._v("Fakturaadress")])])])],1):e._e(),"shop"===e.page.type?s("div",[s("p",{staticClass:"mt-4 mb-8"},[e._v("Visning")]),s("b-form-group",[s("div",{staticClass:"d-flex align-items-center"},[s("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.page.settings.memberships,expression:"page.settings.memberships"}],attrs:{type:"checkbox",name:"",checked:"checked"},domProps:{checked:Array.isArray(e.page.settings.memberships)?e._i(e.page.settings.memberships,null)>-1:e.page.settings.memberships},on:{click:function(t){e.page.settings.memberships=!e.page.settings.memberships},change:function(t){var s=e.page.settings.memberships,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=null,r=e._i(s,i);a.checked?r<0&&e.$set(e.page.settings,"memberships",s.concat([i])):r>-1&&e.$set(e.page.settings,"memberships",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.page.settings,"memberships",n)}}}),s("span")]),s("span",{staticClass:"ml-3 cursor-pointer"},[e._v("Visa medlemskap")])])]),s("b-form-group",[s("div",{staticClass:"d-flex align-items-center"},[s("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.page.settings.extras,expression:"page.settings.extras"}],attrs:{type:"checkbox",name:"",checked:"checked"},domProps:{checked:Array.isArray(e.page.settings.extras)?e._i(e.page.settings.extras,null)>-1:e.page.settings.extras},on:{click:function(t){e.page.settings.extras=!e.page.settings.extras},change:function(t){var s=e.page.settings.extras,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=null,r=e._i(s,i);a.checked?r<0&&e.$set(e.page.settings,"extras",s.concat([i])):r>-1&&e.$set(e.page.settings,"extras",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.page.settings,"extras",n)}}}),s("span")]),s("span",{staticClass:"ml-3 cursor-pointer"},[e._v("Visa merförsäljning")])])])],1):e._e(),"area_alloc"===e.page.type?s("div",[s("p",{staticClass:"mt-4 mb-8"},[e._v("Visning")]),s("b-form-group",[s("div",{staticClass:"d-flex align-items-center"},[s("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.page.settings.memberships,expression:"page.settings.memberships"}],attrs:{type:"checkbox",name:"",checked:"checked"},domProps:{checked:Array.isArray(e.page.settings.memberships)?e._i(e.page.settings.memberships,null)>-1:e.page.settings.memberships},on:{click:function(t){e.page.settings.memberships=!e.page.settings.memberships},change:function(t){var s=e.page.settings.memberships,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=null,r=e._i(s,i);a.checked?r<0&&e.$set(e.page.settings,"memberships",s.concat([i])):r>-1&&e.$set(e.page.settings,"memberships",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.page.settings,"memberships",n)}}}),s("span")]),s("span",{staticClass:"ml-3 cursor-pointer"},[e._v("Visa medlemskap")])])])],1):e._e(),"confirm"===e.page.type?s("div",[s("b-form-group",[s("div",[s("ConfirmTable",{attrs:{page:this.page},on:{toastr:e.toastr}})],1)])],1):e._e(),"confirm"!==e.page.type?s("b-form-group",{attrs:{id:"html-group",label:"Text","label-for":"html"}},[s("editor",{attrs:{"api-key":"qjaly68mahdluhx0rongdllvelixwgn18730f5z7fdzq6hq2",init:{height:500,menubar:!1,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"undo redo | formatselect | bold italic backcolor |                   alignleft aligncenter alignright alignjustify |                   bullist numlist outdent indent | removeformat"}},model:{value:e.page.html,callback:function(t){e.$set(e.page,"html",t)},expression:"page.html"}})],1):e._e(),"confirm"!==e.page.type?s("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Spara")]):e._e()],1)],1)]):e._e()],1)},n=[],i=(s("99af"),s("4de4"),s("96cf"),s("1da1")),r=s("5530"),c=s("ca72"),o=s("bc3a"),l=s.n(o),g=s("2f62"),p=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"card card-custom card-stretch gutter-b"},[s("div",{staticClass:"card-header border-0 py-5"},[e._m(0),s("div",{staticClass:"card-toolbar"},[s("a",{staticClass:"btn btn-primary font-weight-bolder font-size-sm",attrs:{href:"#"},on:{click:e.createPageClicked}},[s("i",{staticClass:"menu-icon flaticon2-plus",staticStyle:{"font-size":"1.0em"}}),e._v("Ny Sida")])])]),s("div",{staticClass:"card-body pt-0 table-responsive"},[s("b-table",{staticClass:"mh-100",attrs:{id:"template-table",fields:e.headers,items:e.items,"head-variant":"light","sticky-header":""},scopedSlots:e._u([{key:"cell(type)",fn:function(t){return[s("span",{staticClass:"d-block font-size-lg"},[e._v(e._s(e.getTypeString(t.item.type)))])]}},{key:"cell(id)",fn:function(t){return[s("div",{staticClass:"justify-content-end d-flex"},[s("a",{staticClass:"btn btn-icon btn-light btn-sm mr-3",attrs:{href:"#"},on:{click:function(s){return e.moveUpClicked(t.item.id)}}},[s("fa-icon",{attrs:{icon:["fas","arrow-up"],size:"lg"}})],1),s("a",{staticClass:"btn btn-icon btn-light btn-sm mr-3",attrs:{href:"#"},on:{click:function(s){return e.moveDownClicked(t.item.id)}}},[s("fa-icon",{attrs:{icon:["fas","arrow-down"],size:"lg"}})],1),s("a",{staticClass:"btn btn-icon btn-light btn-sm mr-3",attrs:{href:"#"},on:{click:function(s){return e.selectPageClicked(t.item.id)}}},[s("span",{staticClass:"svg-icon svg-icon-md svg-icon-primary"},[s("inline-svg",{attrs:{src:"/assets/svg/Write.svg"}})],1)]),"confirm"!=t.item.type?s("a",{staticClass:"btn btn-icon btn-light btn-sm mr-3",attrs:{href:"#"},on:{click:function(s){return e.deletePageClicked(t.item.id)}}},[s("span",{staticClass:"svg-icon svg-icon-md svg-icon-primary"},[s("inline-svg",{attrs:{src:"/assets/svg/Trash.svg"}})],1)]):e._e(),"confirm"===t.item.type?s("a",{staticClass:"btn btn-icon btn-light btn-sm mr-3",attrs:{href:"#"}},[s("span",{staticClass:"svg-icon svg-icon-md svg-icon-primary"})]):e._e()])]}}])})],1),s("div",{staticClass:"card-body pt-0 pb-3"})])},d=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("h3",{staticClass:"card-title align-items-start flex-column"},[s("span",{staticClass:"card-label font-weight-bolder text-dark"})])}],m=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("tr",[s("td",[s("span",{staticClass:"d-block font-size-lg"},[e._v(e._s(e.page.name))])]),s("td",[s("span",{staticClass:"d-block font-size-lg"},[e._v(e._s(e.getTypeString(e.page.type)))])]),s("td",{staticClass:"text-right pr-0"},[s("a",{staticClass:"btn btn-icon btn-light btn-sm mx-3",attrs:{href:"#"},on:{click:function(t){return e.moveUpClicked(e.page.id)}}},[s("fa-icon",{attrs:{icon:["fas","arrow-up"],size:"lg"}})],1),s("a",{staticClass:"btn btn-icon btn-light btn-sm mx-3",attrs:{href:"#"},on:{click:function(t){return e.moveDownClicked(e.page.id)}}},[s("fa-icon",{attrs:{icon:["fas","arrow-down"],size:"lg"}})],1),s("a",{staticClass:"btn btn-icon btn-light btn-sm mx-3",attrs:{href:"#"},on:{click:function(t){return e.selectPageClicked(e.page.id)}}},[s("span",{staticClass:"svg-icon svg-icon-md svg-icon-primary"},[s("inline-svg",{attrs:{src:"/assets/svg/Write.svg"}})],1)]),"confirm"!=e.page.type?s("a",{staticClass:"btn btn-icon btn-light btn-sm mx-3",attrs:{href:"#"},on:{click:function(t){return e.deletePageClicked(e.page.id)}}},[s("span",{staticClass:"svg-icon svg-icon-md svg-icon-primary"},[s("inline-svg",{attrs:{src:"/assets/svg/Trash.svg"}})],1)]):e._e(),"confirm"===e.page.type?s("a",{staticClass:"btn btn-icon btn-light btn-sm mx-3",attrs:{href:"#"}},[s("span",{staticClass:"svg-icon svg-icon-md svg-icon-primary"})]):e._e()])])},u=[],h={name:"page-table-row",props:["page","types"],computed:Object(r["a"])({},Object(g["b"])(["currentCompanyId"])),data:function(){return{}},mounted:function(){},watch:{},methods:{getTypeString:function(e){return this.types[e]},moveDownClicked:function(e){this.$emit("moveDownClicked",e)},moveUpClicked:function(e){this.$emit("moveUpClicked",e)},selectPageClicked:function(e){this.$emit("selectPageClicked",e)},deletePageClicked:function(e){this.$emit("deletePageClicked",e)}}},f=h,b=(s("f924"),s("2877")),v=Object(b["a"])(f,m,u,!1,null,"744f277a",null),y=v.exports,k={name:"pages-table",props:["items","currentCompanyId","types"],components:{PagesTableRow:y},watch:{show_history:function(e,t){this.$emit("showHistoryToggled",e)}},methods:{createPageClicked:function(){this.$emit("createPageClicked")},selectPageClicked:function(e){this.$emit("selectPageClicked",e)},deletePageClicked:function(e){this.$emit("deletePageClicked",e)},moveUpClicked:function(e){this.$emit("moveUpClicked",e)},moveDownClicked:function(e){this.$emit("moveDownClicked",e)},getTypeString:function(e){return console.log(e,":Type"),this.types[e]},toastr:function(e,t,s){this.$emit("toastr",e,t,s)}},data:function(){return{show_history:!1,headers:[{key:"name",label:"Namn",sortable:!0,thClass:"pl-7",tdClass:"pl-7"},{key:"type",label:"Typ",thClass:"w-165px",tdClass:"w-165px",sortable:!0},{key:"id",label:"",thClass:"w-110px text-right pr-6 "}],list:[]}}},x=k,C=(s("3afd"),Object(b["a"])(x,p,d,!1,null,"7b88bdd9",null)),_=C.exports,w=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"card card-custom card-stretch gutter-b"},[s("div",{staticClass:"card-header border-0 py-5"},[e._m(0),s("div",{staticClass:"card-toolbar"},[e.editing?e._e():s("a",{staticClass:"btn btn-primary font-weight-bolder font-size-sm mb-8",attrs:{href:"#"},on:{click:e.createTermClicked}},[s("i",{staticClass:"menu-icon flaticon2-plus",staticStyle:{"font-size":"1em"}}),e._v("Nytt villkor")])])]),s("div",{staticClass:"card-body pt-0 pb-3"},[s("div",{staticClass:"table-responsive"},[s("table",{staticClass:"table table-head-custom table-vertical-center table-head-bg table-borderless"},[e._m(1),s("tbody",[e._l(e.terms,(function(t,a){return[s("ConfirmTableRow",{key:a,attrs:{term:t,currentCompanyId:e.currentCompanyId},on:{selectTermClicked:e.selectTermClicked,deleteTermClicked:e.deleteTermClicked,toastr:e.toastr}})]}))],2)])]),e.editing?s("div",{staticClass:"scroll-to-container"},[s("b-form-group",{attrs:{id:"input-group-id",label:"ID","label-for":"input-id"}},[s("b-form-input",{attrs:{id:"input-id",type:"text",required:"",disabled:""},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1),s("div",{staticClass:"d-flex align-items-center mb-8"},[s("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.mandatory,expression:"form.mandatory"}],attrs:{type:"checkbox",name:""},domProps:{checked:Array.isArray(e.form.mandatory)?e._i(e.form.mandatory,null)>-1:e.form.mandatory},on:{click:function(t){e.form.mandatory=!e.form.mandatory},change:function(t){var s=e.form.mandatory,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=null,r=e._i(s,i);a.checked?r<0&&e.$set(e.form,"mandatory",s.concat([i])):r>-1&&e.$set(e.form,"mandatory",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.form,"mandatory",n)}}}),s("span")]),s("span",{staticClass:"ml-3 cursor-pointer"},[e._v("Obligatorisk")])]),s("b-form-group",{attrs:{id:"input-group-name",label:"Namn","label-for":"input-name"}},[s("b-form-input",{attrs:{id:"input-name",type:"text"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),s("b-alert",{attrs:{show:"",variant:"warning"}},[e._v("Denna text kommer att stå bredvid checkboxen. Texten för villkor/policy kommer visas i en popup när man klickar på texten mellan % taggarna. Exempel: Klicka %här% för att visa användarvillkoren.")]),s("b-form-group",{attrs:{id:"input-group-descr",label:"Checkbox text","label-for":"input-descr"}},[s("b-form-input",{attrs:{id:"input-descr",type:"text"},model:{value:e.form.descr,callback:function(t){e.$set(e.form,"descr",t)},expression:"form.descr"}})],1),s("b-form-group",{attrs:{id:"html-group",label:"Text för villkor/policy","label-for":"html"}},[s("editor",{attrs:{"api-key":"qjaly68mahdluhx0rongdllvelixwgn18730f5z7fdzq6hq2",init:{height:500,menubar:!1,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"undo redo | formatselect | bold italic backcolor |                 alignleft aligncenter alignright alignjustify |                 bullist numlist outdent indent | removeformat"}},model:{value:e.form.template,callback:function(t){e.$set(e.form,"template",t)},expression:"form.template"}})],1),s("div",{staticClass:"d-flex justify-content-end"},[s("b-button",{attrs:{type:"button",variant:"primary"},on:{click:e.saveTermClicked}},[e._v("Spara")])],1)],1):e._e()])])},$=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("h3",{staticClass:"card-title align-items-start flex-column"},[s("span",{staticClass:"card-label font-weight-bolder text-dark"})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("thead",[s("tr",{staticClass:"text-left"},[s("th",[e._v("Namn")]),s("th",[e._v("Typ")]),s("th")])])}],A=(s("b0c0"),s("b85c")),P=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("tr",[s("td",[s("span",{staticClass:"d-block font-size-lg"},[e._v(e._s(e.term.name))])]),s("td",{staticClass:"text-right pr-0"},[s("a",{staticClass:"btn btn-icon btn-light btn-sm mx-3",attrs:{href:"#"},on:{click:e.selectTermClicked}},[s("span",{staticClass:"svg-icon svg-icon-md svg-icon-primary"},[s("inline-svg",{attrs:{src:"/assets/svg/Write.svg"}})],1)]),s("a",{staticClass:"btn btn-icon btn-light btn-sm mx-3",attrs:{href:"#"},on:{click:e.deleteTermClicked}},[s("span",{staticClass:"svg-icon svg-icon-md svg-icon-primary"},[s("inline-svg",{attrs:{src:"/assets/svg/Trash.svg"}})],1)])])])},T=[],N={name:"confirm-term-table-row",props:["term"],computed:Object(r["a"])({},Object(g["b"])(["currentCompanyId"])),data:function(){return{}},mounted:function(){},watch:{},methods:{getTypeString:function(e){return this.types[e]},selectTermClicked:function(){console.log(this.term),console.log(this.term.id+": term_id"),this.$emit("selectTermClicked",this.term.id)},deleteTermClicked:function(){console.log(this.term),console.log("deleting "+this.term.id),this.$emit("deleteTermClicked",this.term.id)}}},O=N,E=(s("4a87"),Object(b["a"])(O,P,T,!1,null,"0e66d223",null)),z=E.exports,j={name:"confirm-terms-table",props:["page"],components:{ConfirmTableRow:z,editor:c["a"]},computed:Object(r["a"])({},Object(g["b"])(["currentCompanyId"])),watch:{show_history:function(e,t){this.$emit("showHistoryToggled",e)}},mounted:function(){this.loadTerms()},methods:{loadTerms:function(){var e=this;l.a.get("/company/terms?company_id=".concat(this.currentCompanyId)).then((function(t){e.terms=t.data.terms,console.log(e.terms)})).catch((function(t){console.error(t),e.toastr("danger","Fel","Kunde inte hämta alla villkor")}))},createTermClicked:function(){this.form={name:"Nytt villkor",descr:"Fyll i text att stå vid checkbox",mandatory:!1,company_id:this.currentCompanyId},this.creating=!0,this.editing=!0,this.scrollToEdit()},saveTermClicked:function(){if(this.creating)this.postTerm();else{this.putTerm();var e,t=Object(A["a"])(this.terms);try{for(t.s();!(e=t.n()).done;){var s=e.value;s.id===this.form.id&&(s.name=this.form.name,s.mandatory=this.form.mandatory,s.descr=this.form.descr,s.template=this.form.template)}}catch(a){t.e(a)}finally{t.f()}}},selectTermClicked:function(e){this.editing=!0,console.log("selected term: "+e);var t,s=Object(A["a"])(this.terms);try{for(s.s();!(t=s.n()).done;){var a=t.value;if(a.id===e)return this.form=a,void this.scrollToEdit()}}catch(n){s.e(n)}finally{s.f()}},deleteTermClicked:function(e){var t=this;console.log("deleted term: "+e),l.a.delete("/company/term?term_id=".concat(e,"&company_id=").concat(this.currentCompanyId)).then((function(s){t.terms=t.terms.filter((function(t){return t.id!==e})),t.toastr("success","OK","Villkoret togs bort")})).catch((function(e){console.error(e),t.toastr("danger","Fel","Kunde inte radera villkor")}))},scrollToEdit:function(){var e=this;setTimeout((function(){var t=e.$el.getElementsByClassName("scroll-to-container")[0];if(t){var s=-70,a=t.getBoundingClientRect().top+window.pageYOffset+s;window.scrollTo({top:a,behavior:"smooth"})}}),100)},postTerm:function(){var e=this;this.form.company_id=this.currentCompanyId,void 0===this.form.template&&(this.form.template=""),l.a.post("/company/term",this.form).then((function(t){e.creating=!1,e.terms.push(t.data.term),console.log(e.terms),e.toastr("success","OK","Villkor skapat")})).catch((function(t){console.error(t),e.toastr("danger","Fel","Kunde inte skapa villkor")}))},putTerm:function(){var e=this;this.form.company_id=this.currentCompanyId,l.a.put("/company/term",this.form).then((function(t){e.toastr("success","OK","Villkor uppdaterat")})).catch((function(t){console.error(t),e.toastr("danger","Fel","Kunde inte skapa villkor")}))},toastr:function(e,t,s){this.$emit("toastr",e,t,s)}},data:function(){return{creating:!1,editing:!1,terms:[],form:{id:"",tid:"",name:"",descr:"",template:"",mandatory:!1}}}},I=j,L=(s("9cedc"),Object(b["a"])(I,w,$,!1,null,"7f1d1fce",null)),S=L.exports,F={name:"registrationsetup",components:{PagesTable:_,ConfirmTable:S,editor:c["a"]},computed:Object(r["a"])({},Object(g["b"])(["currentCompanyId","currentPeriodId","periods"])),mounted:function(){this.loadPages()},data:function(){return{page:{name:"test",active:!1,html:"content",index:0,type:"personnr",id:"aaa",settings:{}},settings:{personnr:{is_mandatory:!1,spar:!1},details:{address:!1,birthdate:!1,phone:!1,company_name:!1},shop:{memberships:!1,extras:!1},parents:{address:!1,personnr:!1,phone:!1,from_age:18}},typeOptions:[{value:"personnr",text:"Personnummer"},{value:"details",text:"Personuppgifter"},{value:"reg_family",text:"Familjemedlemskap"},{value:"properties",text:"Attribut/Utbildning"},{value:"parents",text:"Målsman"},{value:"shop",text:"Butik/Medlemskap"},{value:"area_alloc",text:"Områdesfördelning"}],types:{personnr:"Personnummer",details:"Personuppgifter",properties:"Attribut/Utbildning",parents:"Målsman",shop:"Butik",area_alloc:"Områdesfördelning",confirm:"Bekräftelse",reg_family:"Familjemedlemskap"},creating:!1,editing:!1,pages:[{name:"test",active:!1,html:"content",index:0,type:"personnr",id:"aaa",settings:{}}],type:"",confirmPageId:"",age_req_parent:[null,null]}},watch:{type:function(e,t){this.page.type=e,"parents"===e&&(this.page.settings.from_age=18),"confirm"===e&&(this.page.settings.accept_terms=!0)},currentCompanyId:function(e,t){e&&this.loadPages()}},methods:{handleFileUpload:function(){this.file=this.$refs.file.files[0],this.uploadFile()},selectFile:function(){this.$refs.file.click()},uploadFile:function(){var e=this,t=new FormData;t.append("file",this.file),t.append("company_id",this.currentCompanyId),l.a.post("/fileupload",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){})).catch((function(t){e.toastr("danger","Server Fel","Kunde inte ladda upp fil"),console.log(t)}))},loadData:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.currentCompanyId){t.next=2;break}return t.abrupt("return");case 2:e.loadPages();case 3:case"end":return t.stop()}}),t)})))()},moveUp:function(e){this.movePage(e,"up")},moveDown:function(e){this.movePage(e,"down")},movePage:function(e,t){var s=this;l.a.put("/company/regpagemove",{id:e,dir:t,company_id:this.currentCompanyId}).then((function(e){s.loadPages()})).catch((function(e){console.error(e),s.toastr("danger","Server Fel","Kunde inte skapa sida")}))},createPage:function(){console.log("Creating a page"),this.creating=!0,this.editing=!0,this.page={settings:{}},this.scrollToEditPage()},savePage:function(e){e.preventDefault(),this.creating?this.postPage():this.putPage()},putPage:function(){var e=this;this.page.company_id=this.currentCompanyId,l.a.put("/company/regpage",this.page).then((function(t){204===t.status&&(e.creating=!1,e.toastr("success","OK","Sidan uppdaterades"),"confirm"!=e.page.type&&(e.editing=!1,e.page=t.data.page,e.loadPages()))})).catch((function(t){console.error(t),e.toastr("danger","Server Fel","Kunde inte skapa sida")}))},postPage:function(){var e=this;this.page.company_id=this.currentCompanyId,console.log(this.page,": PageData"),l.a.post("/company/regpage",this.page).then((function(t){201===t.status&&(e.creating=!1,e.page=t.data.page,e.toastr("success","OK","Sidan skapades"),"confirm"!=e.page.type&&(e.editing=!1,e.page=t.data.page,e.loadPages()))})).catch((function(t){console.error(t),e.toastr("danger","Server Fel","Kunde inte skapa sida")}))},deletePage:function(e){var t=this;l.a.delete("/company/regpage?id=".concat(e,"&company_id=").concat(this.currentCompanyId)).then((function(s){t.pages=t.pages.filter((function(t){return t.id!==e})),t.creating=!1,t.editing=!1,t.toastr("success","OK","Sidan togs bort")})).catch((function(e){console.error(e),t.toastr("danger","Server Fel","Kunde inte ta bort sidan")}))},selectPage:function(e){for(var t=0;t<this.pages.length;++t)if(this.pages[t].id===e){this.page=this.pages[t],void 0!==this.page.settings&&null!==this.page.settings||(this.page.settings={}),this.creating=!1,this.editing=!0,this.type=this.page.type,this.scrollToEditPage();break}},createConfirmPage:function(){var e=this;this.page.company_id=this.currentCompanyId,console.log(this.page,": PageData");var t={type:"confirm",company_id:this.currentCompanyId,name:"Confirm",settings:{terms:[]}};l.a.post("/company/regpage",t).then((function(t){201===t.status&&(e.creating=!1,e.editing=!1,e.loadPages(),e.confirmPageId=t.data.page.id)})).catch((function(t){console.error(t),e.toastr("danger","Server Fel","Kunde inte skapa sida")}))},getLangText:function(e,t){for(var s=0;s<e.length;++s)if(e[s].lang===t)return e[s].text;return"Språköversättning saknas"},loadPages:function(){var e=this;this.pages=[],console.log(this.currentCompanyId,": company id"),l.a.get("/company?company_id=".concat(this.currentCompanyId)).then((function(t){if(200===t.status){e.pages=t.data.company.registration.pages,e.age_req_parent=t.data.company.registration.age_req_parent,void 0==e.pages&&(e.pages=[]);var s=e.pages.filter((function(e){return"confirm"==e.type}));s.length>1&&e.deletePage(s[0].id),0===s.length&&e.createConfirmPage(),e.pages=e.pages.sort((function(e,t){return e.index<t.index?-1:1})),console.log("pages sort"),console.log(e.pages)}})).catch((function(t){console.error(t),e.toastr("danger","Server Fel","Kunde inte lista sidor")}))},scrollToEditPage:function(){var e=this;setTimeout((function(){var t=e.$el.getElementsByClassName("scroll-to-container")[0];if(t){var s=-70,a=t.getBoundingClientRect().top+window.pageYOffset+s;window.scrollTo({top:a,behavior:"smooth"})}}),100)},toastr:function(e,t,s){this.$bvToast.toast(s,{title:t,autoHideDelay:2e3,appendToast:!0,variant:e})}}},K=F,D=(s("d103"),Object(b["a"])(K,a,n,!1,null,"40634c34",null));t["default"]=D.exports},"3afd":function(e,t,s){"use strict";s("a965")},"3c0f":function(e,t,s){},"4a87":function(e,t,s){"use strict";s("a00b")},"96cf":function(e,t,s){var a=function(e){"use strict";var t,s=Object.prototype,a=s.hasOwnProperty,n="function"===typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",r=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function o(e,t,s){return Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(z){o=function(e,t,s){return e[t]=s}}function l(e,t,s,a){var n=t&&t.prototype instanceof f?t:f,i=Object.create(n.prototype),r=new N(a||[]);return i._invoke=$(e,s,r),i}function g(e,t,s){try{return{type:"normal",arg:e.call(t,s)}}catch(z){return{type:"throw",arg:z}}}e.wrap=l;var p="suspendedStart",d="suspendedYield",m="executing",u="completed",h={};function f(){}function b(){}function v(){}var y={};y[i]=function(){return this};var k=Object.getPrototypeOf,x=k&&k(k(O([])));x&&x!==s&&a.call(x,i)&&(y=x);var C=v.prototype=f.prototype=Object.create(y);function _(e){["next","throw","return"].forEach((function(t){o(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function s(n,i,r,c){var o=g(e[n],e,i);if("throw"!==o.type){var l=o.arg,p=l.value;return p&&"object"===typeof p&&a.call(p,"__await")?t.resolve(p.__await).then((function(e){s("next",e,r,c)}),(function(e){s("throw",e,r,c)})):t.resolve(p).then((function(e){l.value=e,r(l)}),(function(e){return s("throw",e,r,c)}))}c(o.arg)}var n;function i(e,a){function i(){return new t((function(t,n){s(e,a,t,n)}))}return n=n?n.then(i,i):i()}this._invoke=i}function $(e,t,s){var a=p;return function(n,i){if(a===m)throw new Error("Generator is already running");if(a===u){if("throw"===n)throw i;return E()}s.method=n,s.arg=i;while(1){var r=s.delegate;if(r){var c=A(r,s);if(c){if(c===h)continue;return c}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(a===p)throw a=u,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);a=m;var o=g(e,t,s);if("normal"===o.type){if(a=s.done?u:d,o.arg===h)continue;return{value:o.arg,done:s.done}}"throw"===o.type&&(a=u,s.method="throw",s.arg=o.arg)}}}function A(e,s){var a=e.iterator[s.method];if(a===t){if(s.delegate=null,"throw"===s.method){if(e.iterator["return"]&&(s.method="return",s.arg=t,A(e,s),"throw"===s.method))return h;s.method="throw",s.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var n=g(a,e.iterator,s.arg);if("throw"===n.type)return s.method="throw",s.arg=n.arg,s.delegate=null,h;var i=n.arg;return i?i.done?(s[e.resultName]=i.value,s.next=e.nextLoc,"return"!==s.method&&(s.method="next",s.arg=t),s.delegate=null,h):i:(s.method="throw",s.arg=new TypeError("iterator result is not an object"),s.delegate=null,h)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function O(e){if(e){var s=e[i];if(s)return s.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function s(){while(++n<e.length)if(a.call(e,n))return s.value=e[n],s.done=!1,s;return s.value=t,s.done=!0,s};return r.next=r}}return{next:E}}function E(){return{value:t,done:!0}}return b.prototype=C.constructor=v,v.constructor=b,b.displayName=o(v,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,o(e,c,"GeneratorFunction")),e.prototype=Object.create(C),e},e.awrap=function(e){return{__await:e}},_(w.prototype),w.prototype[r]=function(){return this},e.AsyncIterator=w,e.async=function(t,s,a,n,i){void 0===i&&(i=Promise);var r=new w(l(t,s,a,n),i);return e.isGeneratorFunction(s)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},_(C),o(C,c,"Generator"),C[i]=function(){return this},C.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var s in e)t.push(s);return t.reverse(),function s(){while(t.length){var a=t.pop();if(a in e)return s.value=a,s.done=!1,s}return s.done=!0,s}},e.values=O,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var s in this)"t"===s.charAt(0)&&a.call(this,s)&&!isNaN(+s.slice(1))&&(this[s]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var s=this;function n(a,n){return c.type="throw",c.arg=e,s.next=a,n&&(s.method="next",s.arg=t),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],c=r.completion;if("root"===r.tryLoc)return n("end");if(r.tryLoc<=this.prev){var o=a.call(r,"catchLoc"),l=a.call(r,"finallyLoc");if(o&&l){if(this.prev<r.catchLoc)return n(r.catchLoc,!0);if(this.prev<r.finallyLoc)return n(r.finallyLoc)}else if(o){if(this.prev<r.catchLoc)return n(r.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return n(r.finallyLoc)}}}},abrupt:function(e,t){for(var s=this.tryEntries.length-1;s>=0;--s){var n=this.tryEntries[s];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var r=i?i.completion:{};return r.type=e,r.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var s=this.tryEntries[t];if(s.finallyLoc===e)return this.complete(s.completion,s.afterLoc),T(s),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var s=this.tryEntries[t];if(s.tryLoc===e){var a=s.completion;if("throw"===a.type){var n=a.arg;T(s)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,s,a){return this.delegate={iterator:O(e),resultName:s,nextLoc:a},"next"===this.method&&(this.arg=t),h}},e}(e.exports);try{regeneratorRuntime=a}catch(n){Function("r","regeneratorRuntime = r")(a)}},9892:function(e,t,s){},"9cedc":function(e,t,s){"use strict";s("3c0f")},a00b:function(e,t,s){},a965:function(e,t,s){},be90:function(e,t,s){},d103:function(e,t,s){"use strict";s("be90")},f924:function(e,t,s){"use strict";s("9892")}}]);
//# sourceMappingURL=chunk-667b796e.f24bb6ac.js.map