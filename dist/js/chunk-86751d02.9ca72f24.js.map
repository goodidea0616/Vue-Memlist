{"version":3,"sources":["webpack:///./src/view/pages/ml/AdminSupport.vue?bc86","webpack:///./src/view/pages/ml/support/Chatbox.vue?fef8","webpack:///src/view/pages/ml/support/Chatbox.vue","webpack:///./src/view/pages/ml/support/Chatbox.vue?75ca","webpack:///./src/view/pages/ml/support/Chatbox.vue","webpack:///./src/view/components/Confirm.vue?3598","webpack:///src/view/components/Confirm.vue","webpack:///./src/view/components/Confirm.vue?c838","webpack:///./src/view/components/Confirm.vue","webpack:///./src/view/pages/ml/support/Chatbox.vue?63f4","webpack:///./src/view/pages/ml/support/AdminTodoEdit.vue?2179","webpack:///./src/view/pages/ml/support/AdminSupportTable.vue?49e7","webpack:///./src/view/pages/ml/AdminSupport.vue?d0ec","webpack:///./src/view/pages/ml/support/AdminSupportTable.vue?f4c2","webpack:///src/view/pages/ml/support/AdminSupportTable.vue","webpack:///./src/view/pages/ml/support/AdminSupportTable.vue?649e","webpack:///./src/view/pages/ml/support/AdminSupportTable.vue","webpack:///./src/view/pages/ml/support/AdminTodoEdit.vue?3af6","webpack:///src/view/pages/ml/support/AdminTodoEdit.vue","webpack:///./src/view/pages/ml/support/AdminTodoEdit.vue?9b9e","webpack:///./src/view/pages/ml/support/AdminTodoEdit.vue","webpack:///src/view/pages/ml/AdminSupport.vue","webpack:///./src/view/pages/ml/AdminSupport.vue?1a99","webpack:///./src/view/pages/ml/AdminSupport.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","_m","_v","_s","todo","name","category","type2","supportOptions","severity","isCompleted","status","_e","on","onClose","ref","attrs","closeTodo","editing","editComment","model","value","callback","$$v","username","expression","useremail","height","menubar","plugins","toolbar","form","$set","sendComment","$event","files","selectFile","downloadFileClicked","deleteFileClicked","extensions","handleFileUpload","_l","conversations","item","idx","key","type","class","user_id","userid","user_name","created_at","text","file_id","domProps","staticRenderFns","props","components","editor","Confirm","FileTable","computed","watch","console","log","newValue","tasks","length","methods","concat","map","sort","b","localeCompare","a","comments","createTask","$refs","show","file","click","uploadFile","downloadFile","deleteFile","formData","append","currentCompanyId","todo_id","todo_task_id","toastr","$emit","title","message","data","comment","N","B","F","I","S","WAIT","DRAFT","NOT","DONE","CN","DEL","ACC","REJ","BAC","FUT","UNREAD","READ","DOC","component","confirmColor","onConfirm","confirm","onCancel","cancel","String","default","hide","todos","selectTodo","todo_selected","options","perPage","currentPage","headers","items","scopedSlots","_u","fn","row","Array","mounted","companies","filterValue","that","company","companyName","updated_at","last_updated_at","$bvToast","toast","autoHideDelay","appendToast","variant","AdminSupportTable","AdminTodoEdit","Chatbox","loadData","loadTodos","loadUser","currentUser","email","saveTodo","undefined","index","splice","scrollToEditTodo","setTimeout","el","window","scrollTo"],"mappings":"yIAAA,W,oCCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,0CAA0C,CAACF,EAAG,QAAQ,CAACE,YAAY,8DAA8D,CAACF,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACG,YAAY,CAAC,MAAQ,UAAU,CAACH,EAAG,MAAM,CAACE,YAAY,kDAAkD,CAACN,EAAIQ,GAAG,GAAGJ,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACN,EAAIS,GAAG,IAAIT,EAAIU,GAAGV,EAAIW,KAAKC,MAAM,WAAWR,EAAG,KAAK,CAACA,EAAG,MAAM,CAACE,YAAY,kDAAkD,CAACN,EAAIQ,GAAG,GAAGJ,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACN,EAAIS,GAAG,IAAIT,EAAIU,GAAGV,EAAIa,SAASb,EAAIW,KAAKG,QAAQ,WAAWV,EAAG,KAAK,CAACA,EAAG,MAAM,CAACE,YAAY,kDAAkD,CAACN,EAAIQ,GAAG,GAAGJ,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACN,EAAIS,GAAG,IAAIT,EAAIU,GAAGV,EAAIe,eAAef,EAAIW,KAAKK,SAAW,IAAI,WAAWZ,EAAG,KAAK,CAACA,EAAG,MAAM,CAACE,YAAY,kDAAkD,CAAGN,EAAIiB,YAAYjB,EAAIW,KAAKO,QAAgGlB,EAAImB,KAA3Ff,EAAG,OAAO,CAACE,YAAY,QAAQ,CAACF,EAAG,IAAI,CAACE,YAAY,mCAA6CN,EAAIiB,YAAYjB,EAAIW,KAAKO,QAASd,EAAG,OAAO,CAACE,YAAY,QAAQ,CAACF,EAAG,IAAI,CAACE,YAAY,8BAA8BN,EAAImB,KAAKf,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACN,EAAIS,GAAG,IAAIT,EAAIU,GAAGV,EAAIkB,OAAOlB,EAAIW,KAAKO,SAAS,WAAWd,EAAG,KAAK,CAACA,EAAG,MAAM,CAACE,YAAY,gDAAgD,CAAGN,EAAIiB,YAAYjB,EAAIW,KAAKO,QAA0JlB,EAAImB,KAArJf,EAAG,IAAI,CAACE,YAAY,gFAAgFc,GAAG,CAAC,MAAQpB,EAAIqB,UAAU,CAACrB,EAAIS,GAAG,WAAoBL,EAAG,UAAU,CAACkB,IAAI,aAAaC,MAAM,CAAC,MAAQ,SAAS,QAAU,kDAAkD,KAAO,UAAU,QAAU,KAAK,OAAS,OAAOH,GAAG,CAAC,QAAUpB,EAAIwB,cAAc,WAAWpB,EAAG,eAAe,CAACE,YAAY,mCAAmC,CAAGN,EAAIiB,YAAYjB,EAAIW,KAAKO,SAAYlB,EAAIyB,QAAuIzB,EAAImB,KAAlIf,EAAG,WAAW,CAACE,YAAY,OAAOiB,MAAM,CAAC,KAAO,SAAS,QAAU,WAAWH,GAAG,CAAC,MAAQpB,EAAI0B,cAAc,CAAC1B,EAAIS,GAAG,WAAoB,GAAIT,EAAW,QAAEI,EAAG,SAAS,CAACE,YAAY,sBAAsB,CAACF,EAAG,MAAM,CAACE,YAAY,8CAA8C,CAACF,EAAG,eAAe,CAACE,YAAY,oBAAoBiB,MAAM,CAAC,GAAK,wBAAwB,MAAQ,OAAO,YAAY,oBAAoB,CAACnB,EAAG,eAAe,CAACmB,MAAM,CAAC,GAAK,kBAAkB,KAAO,OAAO,SAAW,IAAII,MAAM,CAACC,MAAO5B,EAAY,SAAE6B,SAAS,SAAUC,GAAM9B,EAAI+B,SAASD,GAAKE,WAAW,aAAa,CAAChC,EAAIS,GAAGT,EAAIU,GAAGT,KAAK8B,cAAc,GAAG3B,EAAG,eAAe,CAACE,YAAY,YAAYiB,MAAM,CAAC,GAAK,yBAAyB,MAAQ,eAAe,YAAY,qBAAqB,CAACnB,EAAG,eAAe,CAACmB,MAAM,CAAC,GAAK,mBAAmB,KAAO,OAAO,SAAW,IAAII,MAAM,CAACC,MAAO5B,EAAa,UAAE6B,SAAS,SAAUC,GAAM9B,EAAIiC,UAAUH,GAAKE,WAAW,gBAAgB,IAAI,GAAG5B,EAAG,eAAe,CAACmB,MAAM,CAAC,GAAK,mBAAmB,MAAQ,aAAa,YAAY,eAAe,CAACnB,EAAG,SAAS,CAACmB,MAAM,CAAC,GAAK,aAAa,UAAU,mDAAmD,KAAO,CAC5+FW,OAAQ,IACRC,SAAS,EACTC,QAAS,CACP,iEACA,6CACA,wDAEFC,QACE,qLAGDV,MAAM,CAACC,MAAO5B,EAAIsC,KAAY,QAAET,SAAS,SAAUC,GAAM9B,EAAIuC,KAAKvC,EAAIsC,KAAM,UAAWR,IAAME,WAAW,mBAAmB,GAAG5B,EAAG,eAAe,CAACE,YAAY,8BAA8B,CAACF,EAAG,WAAW,CAACE,YAAY,OAAOiB,MAAM,CAAC,KAAO,SAAS,QAAU,WAAWH,GAAG,CAAC,MAAQpB,EAAIwC,cAAc,CAACxC,EAAIS,GAAG,YAAYL,EAAG,WAAW,CAACmB,MAAM,CAAC,KAAO,SAAS,QAAU,WAAWH,GAAG,CAAC,MAAQ,SAASqB,GAAQzC,EAAIyB,SAAQ,KAAS,CAACzB,EAAIS,GAAG,aAAa,GAAGL,EAAG,YAAY,CAACmB,MAAM,CAAC,MAAQvB,EAAI0C,OAAOtB,GAAG,CAAC,oBAAsBpB,EAAI2C,WAAW,oBAAsB3C,EAAI4C,oBAAoB,kBAAoB5C,EAAI6C,qBAAqBzC,EAAG,QAAQ,CAACkB,IAAI,OAAOC,MAAM,CAAC,OAAS,GAAG,KAAO,OAAO,GAAK,OAAO,OAASvB,EAAI8C,YAAY1B,GAAG,CAAC,OAAS,SAASqB,GAAQ,OAAOzC,EAAI+C,wBAAwB,GAAG/C,EAAImB,KAAKnB,EAAIgD,GAAIhD,EAAIiD,iBAAiB,SAASC,EAAKC,GAAK,OAAO/C,EAAG,QAAQ,CAACgD,IAAID,EAAI7C,YAAY,gDAAgD,CAACF,EAAG,QAAQ,CAACE,YAAY,aAAa,CAAe,WAAb4C,EAAKG,KAAmBjD,EAAG,KAAK,CAACkD,MAAMJ,EAAKK,SAAWvD,EAAIwD,OAAS,wBAA0B,uBAAuB,CAACpD,EAAG,KAAK,CAACG,YAAY,CAAC,MAAQ,UAAU,CAACH,EAAG,MAAM,CAACE,YAAY,kDAAkD,CAACN,EAAIQ,GAAG,GAAE,GAAMJ,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACN,EAAIS,GAAG,IAAIT,EAAIU,GAAoB,IAAjBwC,EAAKnB,SAAiB/B,EAAIyD,UAAYP,EAAKnB,iBAAiB3B,EAAG,KAAK,CAACA,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACN,EAAIS,GAAG,IAAIT,EAAIU,GAAsB,IAAnBwC,EAAKQ,WAAmB,eAAiBR,EAAKQ,YAAY,SAAStD,EAAG,KAAK,CAACE,YAAY,sBAAsBF,EAAG,KAAK,CAACE,YAAY,wBAAwBN,EAAImB,KAAmB,QAAb+B,EAAKG,KAAgBjD,EAAG,KAAK,CAACkD,MAAMJ,EAAKK,SAAWvD,EAAIwD,OAAS,wBAA0B,uBAAuB,CAACpD,EAAG,KAAK,CAACG,YAAY,CAAC,MAAQ,UAAU,CAACH,EAAG,MAAM,CAACE,YAAY,kDAAkD,CAACN,EAAIQ,GAAG,GAAE,GAAMJ,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACN,EAAIS,GAAG,IAAIT,EAAIU,GAAoB,IAAjBwC,EAAKnB,SAAiB/B,EAAIyD,UAAYP,EAAKnB,iBAAiB3B,EAAG,KAAK,CAACE,YAAY,qBAAqB,CAACN,EAAIS,GAAG,IAAIT,EAAIU,GAAsB,IAAnBwC,EAAKQ,WAAmB,eAAiBR,EAAKQ,YAAY,OAAOtD,EAAG,KAAK,CAACE,YAAY,sBAAsBF,EAAG,KAAK,CAACE,YAAY,qBAAqB,CAACN,EAAIS,GAAG,IAAIT,EAAIU,GAAGwC,EAAKS,MAAM,OAAOvD,EAAG,KAAK,CAACE,YAAY,kCAAkC,CAACF,EAAG,IAAI,CAACE,YAAY,gEAAgEiB,MAAM,CAAC,KAAO,KAAKH,GAAG,CAAC,MAAQ,SAASqB,GAAQ,OAAOzC,EAAI4C,oBAAoBM,EAAKU,YAAY,CAAC5D,EAAIQ,GAAG,GAAE,SAAYR,EAAImB,OAAqB,WAAb+B,EAAKG,KAAmBjD,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACmB,MAAM,CAAC,QAAU,MAAM,CAACnB,EAAG,IAAI,CAACE,YAAY,WAAWiB,MAAM,CAAC,KAAO2B,EAAKS,MAAME,SAAS,CAAC,UAAY7D,EAAIU,GAAGwC,EAAKS,aAAa3D,EAAImB,WAAU,IAC5lF2C,EAAkB,CAAC,WAAa,IAAI9D,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACE,YAAY,aAAa,CAACF,EAAG,IAAI,CAACE,YAAY,yCAAyC,WAAa,IAAIN,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACE,YAAY,QAAQ,CAACF,EAAG,IAAI,CAACE,YAAY,0CAA0C,WAAa,IAAIN,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACE,YAAY,QAAQ,CAACF,EAAG,IAAI,CAACE,YAAY,gCAAgC,WAAa,IAAIN,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACE,YAAY,aAAa,CAACF,EAAG,IAAI,CAACE,YAAY,qBAAqBC,YAAY,CAAC,YAAY,aAAa,WAAa,IAAIP,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACE,YAAY,aAAa,CAACF,EAAG,IAAI,CAACE,YAAY,cAAcC,YAAY,CAAC,YAAY,aAAa,WAAa,IAAIP,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACA,EAAG,IAAI,CAACE,YAAY,iBAAiBC,YAAY,CAAC,YAAY,OAAO,MAAQ,WAAWgB,MAAM,CAAC,cAAc,c,2JCuMtnC,GACEX,KAAM,mBACNmD,MAAO,CAAC,OAAQ,WAAY,YAAa,UACzCC,WAAY,CACVC,OAAQ,EAAZ,KACIC,QAAJ,OACIC,UAAJ,QAEEC,SAAU,OAAZ,OAAY,CAAZ,GACA,sFAEEC,MAAO,CACL1D,KADJ,SACA,KACM2D,QAAQC,IAAIC,EAAU,aACQ,IAA1BA,EAASC,MAAMC,QACzB,2CAGEC,QAAS,CACP1B,cADJ,WAEM,IAAN,8BACA,2BACA,qBACQ,MAAO,CAAf,uGASM,OAPAA,EAAgBA,EAAc2B,OAAOlC,EAAMmC,KAAI,SAAU3B,GACvD,MAAO,CAAf,6GAGMD,EAAc6B,MAAK,SAAzB,KACQ,OAAOC,EAAErB,WAAWsB,cAAcC,EAAEvB,eAE/BT,GAETiC,SAhBJ,WAiBM,IAAN,8BACA,4BAEIC,WApBJ,SAoBA,cACM,EAAN,EACA,mBAAQ,QAAR,IACA,kBAEQ,OADA,EAAR,6CACA,eAEA,mBACQ,QAAR,SACQ,EAAR,6DAGI3C,YAhCJ,WAgCA,WACMvC,KAAKwB,SAAU,EACf,IAAN,qBAGA,QACA,oBACA,iBACM,EAAN,EACA,2BAAQ,KAAR,EAAQ,QAAR,EAAQ,aAAR,IACA,kBACQ,EAAR,gBACQ,IAAR,iBACA,0BACQ,EAAR,+BACQ,EAAR,+BACQ,EAAR,iBACQ,EAAR,mBAEA,mBACQ,QAAR,SACQ,EAAR,gEAGIC,YAxDJ,WAyDMzB,KAAKwB,SAAU,EACfxB,KAAKyC,MAAQ,IAEfrB,QA5DJ,WA6DMpB,KAAKmF,MAAM,cAAcC,QAE3B7D,UA/DJ,WA+DA,WACA,YACMb,EAAKO,OAAS,MACd,EAAN,EACA,eACA,kBACQ,EAAR,wBAEA,mBACQ,QAAR,SACQ,EAAR,6DAII0B,oBA7EJ,SA6EA,cACM,EAAN,EACA,IADA,wBACA,IACA,kBACQ,OAAR,0CAEA,mBACQ,QAAR,SACQ,EAAR,2DAIIC,kBAzFJ,SAyFA,cACM,EAAN,EACA,OADA,wBACA,EADA,uBACA,sBADA,yBACA,kCACA,kBACA,gBACU,EAAV,kCAAY,OAAZ,gBACU,EAAV,8DAAY,OAAZ,oBAGA,mBACQ,QAAR,SACQ,EAAR,2DAIIF,WAxGJ,WAyGM1C,KAAKmF,MAAME,KAAKC,SAElBxC,iBA3GJ,WA4GM9C,KAAKqF,KAAOrF,KAAKmF,MAAME,KAAK5C,MAAM,GAClCzC,KAAKuF,cAEPC,aA/GJ,aAmHIC,WAnHJ,aAuHIF,WAvHJ,WAuHA,WACA,eACMG,EAASC,OAAO,OAAQ3F,KAAKqF,MAC7BK,EAASC,OAAO,cAAe,QAC/BD,EAASC,OAAO,YAAa,IAC7BD,EAASC,OAAO,aAAc3F,KAAK4F,kBACnCF,EAASC,OAAO,UAAW3F,KAAKU,KAAKmF,SACrCH,EAASC,OAAO,eAAgB3F,KAAKU,KAAK8D,MAAM,GAAGsB,cAEnD,EAAN,EACA,KADA,wCACA,kBADA,yBACA,oCACQ,QAAR,CACU,eAAV,yBAGA,kBACQ,EAAR,4CACQ,EAAR,wCACQ,EAAR,8CACQ,EAAR,sBACQ,EAAR,0BAEQ,EAAR,6BAEQ,EAAR,mBACQ,EAAR,oCAEA,mBACQ,QAAR,SACQ,EAAR,6DAIIC,OAxJJ,SAwJA,OACM/F,KAAKgG,MAAM,SAAU5C,EAAM6C,EAAOC,KAGtCC,KA9KF,WA+KI,MAAO,CACL3E,SAAS,EACTa,KAAM,CACJP,SAAU,GACVsE,QAAS,IAEX3D,MAAO,GACPzB,YAPN,SAOA,GACQ,MAAiB,QAAVC,GAA8B,MAAVA,GAA4B,OAAVA,GAA6B,OAAVA,GAA6B,OAAVA,GAErFL,SAAU,CAERyF,EAAG,SACHC,EAAG,MACHC,EAAG,UACHC,EAAG,OACHC,EAAG,WAELxF,OAAQ,CACNyF,KAAR,SACQC,MAAO,SACPC,IAAR,UACQC,KAAR,QACQC,GAAR,YACQC,IAAR,YACQC,IAAR,aACQC,IAAR,UACQC,IAAR,UACQC,IAAR,UACQC,OAAR,QACQC,KAAR,OACQC,IAAR,UAEMxG,eAAgB,CAEhB,MACN,MACA,MACA,MACA,QACA,QACA,QACA,MACA,MACA,OAEM+B,WAAY,CAClB,MACA,OACA,OACA,QACA,OACA,OACA,OACA,MACA,QACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,QACA,WCtc8X,I,wBCQ1X0E,EAAY,eACd,EACAzH,EACA+D,GACA,EACA,KACA,WACA,MAIa,OAAA0D,E,oECnBf,IAAIzH,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,UAAU,CAACkB,IAAI,eAAeC,MAAM,CAAC,cAAc,GAAG,MAAQvB,EAAIkG,QAAQ,CAAC9F,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACmB,MAAM,CAAC,GAAK,OAAO,CAACnB,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACF,EAAG,KAAK,CAACJ,EAAIS,GAAGT,EAAIU,GAAGV,EAAImG,iBAAiB,GAAG/F,EAAG,QAAQ,CAACE,YAAY,aAAa,CAACF,EAAG,QAAQ,CAACmB,MAAM,CAAC,GAAK,MAAM,CAACnB,EAAG,WAAW,CAACmB,MAAM,CAAC,QAAUvB,EAAIyH,aAAa,MAAQ,IAAIrG,GAAG,CAAC,MAAQpB,EAAI0H,YAAY,CAAC1H,EAAIS,GAAGT,EAAIU,GAAGV,EAAI2H,aAAa,GAAGvH,EAAG,QAAQ,CAACmB,MAAM,CAAC,GAAK,MAAM,CAACnB,EAAG,WAAW,CAACmB,MAAM,CAAC,QAAU,oBAAoB,MAAQ,IAAIH,GAAG,CAAC,MAAQpB,EAAI4H,WAAW,CAAC5H,EAAIS,GAAGT,EAAIU,GAAGV,EAAI6H,YAAY,IAAI,IAAI,IACrpB/D,EAAkB,G,wBCwBtB,GACElD,KAAM,gBACNwF,KAFF,WAGI,MAAO,IAETrC,MAAO,CACLV,KAAM,CACJA,KAAMyE,OACNC,QAAS,UAEX7B,MAAO4B,OACP3B,QAAS2B,OACTH,QAAS,CAAb,gCACIE,OAAQ,CAAZ,+BAEE,QAfF,WAeA,oLACElD,QAAS,CACPU,KADJ,WAEMpF,KAAKmF,MAAM,gBAAgBC,QAE7BqC,UAJJ,WAKMzH,KAAKmF,MAAM,gBAAgB4C,OAE3B/H,KAAKgG,MAAM,YAEb2B,SATJ,WAUM3H,KAAKmF,MAAM,gBAAgB4C,OAE3B/H,KAAKgG,MAAM,YAGf7B,SAAU,CACRqD,aADJ,WAEM,OAAQxH,KAAKoD,MACX,IAAK,SACH,MAAO,iBACT,IAAK,UACH,MAAO,kBACT,IAAK,OACH,MAAO,eACT,IAAK,UACH,MAAO,kBACT,IAAK,UACH,MAAO,sBCpE+U,I,YCO5VmE,EAAY,eACd,EACAzH,EACA+D,GACA,EACA,KACA,WACA,MAIa,OAAA0D,E,oEClBf,W,oCCAA,W,2DCAA,W,yCCAA,IAAIzH,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,OAAOiB,MAAM,CAAC,GAAK,kBAAkB,CAACnB,EAAG,KAAK,CAACE,YAAY,aAAa,CAACN,EAAIS,GAAG,mBAAoBT,EAAiB,cAAEI,EAAG,oBAAoB,CAACmB,MAAM,CAAC,MAAQvB,EAAIiI,OAAO7G,GAAG,CAAC,WAAapB,EAAIkI,cAAclI,EAAImB,KAAMnB,EAAW,QAAEI,EAAG,SAAS,CAACA,EAAG,UAAU,CAACmB,MAAM,CAAC,KAAOvB,EAAImI,cAAc,OAASnI,EAAIwD,OAAO,SAAWxD,EAAI+B,SAAS,UAAY/B,EAAIiC,UAAU,GAAK,wBAAwBb,GAAG,CAAC,UAAYpB,EAAIwB,cAAc,GAAGxB,EAAImB,MAAM,IACliB2C,EAAkB,G,mGCDlB,G,UAAS,WAAa,IAAI9D,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,0CAA0C,CAACF,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAACF,EAAG,MAAM,CAACE,YAAY,gCAAgC,CAACF,EAAG,MAAM,CAACA,EAAG,WAAW,CAACmB,MAAM,CAAC,QAAUvB,EAAIoI,SAASzG,MAAM,CAACC,MAAO5B,EAAW,QAAE6B,SAAS,SAAUC,GAAM9B,EAAIqI,QAAQvG,GAAKE,WAAW,cAAc,GAAG5B,EAAG,eAAe,CAACE,YAAY,UAAUiB,MAAM,CAAC,aAAavB,EAAIiI,MAAMvD,OAAO,WAAW1E,EAAIqI,QAAQ,gBAAgB,sBAAsB,eAAe,GAAG,cAAc,IAAI1G,MAAM,CAACC,MAAO5B,EAAe,YAAE6B,SAAS,SAAUC,GAAM9B,EAAIsI,YAAYxG,GAAKE,WAAW,kBAAkB,GAAG5B,EAAG,UAAU,CAACmB,MAAM,CAAC,GAAK,sBAAsB,OAASvB,EAAIuI,QAAQ,MAAQvI,EAAIwI,MAAM,WAAWxI,EAAIqI,QAAQ,eAAerI,EAAIsI,YAAY,eAAe,SAASG,YAAYzI,EAAI0I,GAAG,CAAC,CAACtF,IAAI,gBAAgBuF,GAAG,SAASC,GAAK,MAAO,CAACxI,EAAG,IAAI,CAACE,YAAY,SAASiB,MAAM,CAAC,KAAO,KAAKH,GAAG,CAAC,MAAQ,SAASqB,GAAQ,OAAOzC,EAAIkI,WAAWU,EAAI1F,KAAK4C,YAAY,CAAC9F,EAAIS,GAAG,yBAAyB,OACvjC,EAAkB,GCwDtB,G,8BAAA,CACEG,KAAM,sBACNoD,WAAY,GAEZD,MAAO,CACLkE,MAAO,CACL5E,KAAMwF,MACNd,QAAS,WACP,MAAO,MAIb3D,SAAU,OAAZ,OAAY,CAAZ,GACA,oEAEE0E,QAfF,aAiBE1C,KAjBF,WAkBI,MAAO,CACLiC,QAAS,GACTC,YAAa,EACbE,MAAO,GACPD,QAAS,CACf,CACQ,IAAR,WACQ,MAAR,WACQ,UAAR,EACQ,QAAR,OACQ,QAAR,QAEA,CACQ,IAAR,UACQ,MAAR,eACQ,UAAR,EACQ,QAAR,WAEA,CACQ,IAAR,OACQ,MAAR,OACQ,UAAR,GAEA,CACQ,IAAR,WACQ,MAAR,OACQ,UAAR,GAEA,CACQ,IAAR,SACQ,MAAR,SACQ,UAAR,GAEA,CACQ,IAAR,aACQ,MAAR,oBACQ,UAAR,GAEA,CACQ,IAAR,UACQ,MAAR,YAGMH,QAAS,CACf,CAAQ,MAAR,GAAQ,KAAR,MACA,CAAQ,MAAR,GAAQ,KAAR,MACA,CAAQ,MAAR,IAAQ,KAAR,QAEMvH,SAAU,CAERyF,EAAG,SACHG,EAAG,kBACHD,EAAG,kBACHD,EAAG,cACHG,EAAG,WAELxF,OAAQ,CACNyF,KAAR,SACQC,MAAO,SACPC,IAAR,UACQC,KAAR,QACQC,GAAR,YACQC,IAAR,YACQC,IAAR,aACQC,IAAR,UACQC,IAAR,UACQC,IAAR,UACQC,OAAR,QACQC,KAAR,OACQC,IAAR,UAEMxG,eAAgB,CAEhB,MACN,MACA,MACA,MACA,QACA,QACA,QACA,MACA,MACA,SAIEsD,MAAO,CACL0E,UADJ,SACA,KACM9I,KAAK+I,YAAY/I,KAAKgI,QAExBA,MAJJ,SAIA,KACMhI,KAAK+I,YAAYxE,KAGrBG,QAAS,CACPqE,YADJ,SACA,GACM,IAAN,OACM/I,KAAKuI,MAAQA,EAAM3D,KAAI,SAA7B,GACQ,IAAR,iHACA,qBACQ,MAAO,CACLiB,QAAS5C,EAAK4C,QACdjF,SAAUoI,EAAKpI,SAASqC,EAAKpC,OAC7BoI,QAASC,EACTvI,KAAMsC,EAAKtC,KACXI,SAAUiI,EAAKlI,eAAemC,EAAKlC,SAAW,GAC9CE,OAAQ+H,EAAK/H,OAAOgC,EAAKhC,QACzBkI,WAAYlG,EAAKmG,oBAGrBpJ,KAAKuI,MAAM1D,MAAK,SAAtB,KACQ,OAAOC,EAAEqE,WAAWpE,cAAcC,EAAEmE,gBAGxClB,WApBJ,SAoBA,GACM5D,QAAQC,IAAIuB,EAAS,WACrB7F,KAAKgG,MAAM,aAAcH,IAE3BE,OAxBJ,SAwBA,OACM/F,KAAKqJ,SAASC,MAAMpD,EAAS,CAC3BD,MAAOA,EACPsD,cAAe,IACfC,aAAa,EACbC,QAASrG,QCtMuX,I,wBCQpYmE,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,QCnBX,EAAS,WAAa,IAAIxH,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,0CAA0C,CAACF,EAAG,QAAQ,CAACE,YAAY,gFAAgF,CAACF,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACG,YAAY,CAAC,mBAAmB,UAAU,aAAa,mCAAmC,qBAAqB,mCAAmC,kBAAkB,qCAAqC,CAACH,EAAG,KAAK,CAACJ,EAAIQ,GAAG,GAAGR,EAAIS,GAAG,IAAIT,EAAIU,GAAGV,EAAIW,KAAKC,MAAM,OAAOR,EAAG,KAAK,CAACJ,EAAIQ,GAAG,GAAGR,EAAIS,GAAG,IAAIT,EAAIU,GAAGV,EAAIa,SAASb,EAAIW,KAAKG,QAAQ,OAAOV,EAAG,KAAK,CAACJ,EAAIQ,GAAG,GAAGR,EAAIS,GAAG,IAAIT,EAAIU,GAAGV,EAAIe,eAAef,EAAIW,KAAKK,SAAW,IAAI,OAAOZ,EAAG,KAAK,CAAGJ,EAAIiB,YAAYjB,EAAIW,KAAKO,QAAuFlB,EAAImB,KAAlFf,EAAG,OAAO,CAACE,YAAY,WAAW,CAACF,EAAG,IAAI,CAACE,YAAY,uBAAiCN,EAAIiB,YAAYjB,EAAIW,KAAKO,QAASd,EAAG,OAAO,CAACE,YAAY,WAAW,CAACF,EAAG,IAAI,CAACE,YAAY,kBAAkBN,EAAImB,KAAKnB,EAAIS,GAAG,IAAIT,EAAIU,GAAGV,EAAIkB,OAAOlB,EAAIW,KAAKO,SAAS,OAAOd,EAAG,KAAK,CAAGJ,EAAIiB,YAAYjB,EAAIW,KAAKO,QAAmHlB,EAAImB,KAA9Gf,EAAG,WAAW,CAACmB,MAAM,CAAC,KAAO,SAAS,QAAU,WAAWH,GAAG,CAAC,MAAQpB,EAAIwB,YAAY,CAACxB,EAAIS,GAAG,YAAqB,GAAGL,EAAG,KAAK,CAACJ,EAAIS,GAAGT,EAAIU,GAAGV,EAAIW,KAAK+C,iBAAiBtD,EAAG,eAAe,CAACE,YAAY,qCAAqC,CAAGN,EAAIiB,YAAYjB,EAAIW,KAAKO,QAAoHlB,EAAImB,KAA/Gf,EAAG,WAAW,CAACmB,MAAM,CAAC,KAAO,SAAS,QAAU,WAAWH,GAAG,CAAC,MAAQpB,EAAI0B,cAAc,CAAC1B,EAAIS,GAAG,WAAoB,IAAI,KAAMT,EAAW,QAAEI,EAAG,SAAS,CAACE,YAAY,sBAAsB,CAACF,EAAG,MAAM,CAACE,YAAY,8CAA8C,CAACF,EAAG,eAAe,CAACE,YAAY,oBAAoBiB,MAAM,CAAC,GAAK,wBAAwB,MAAQ,OAAO,YAAY,oBAAoB,CAACnB,EAAG,eAAe,CAACmB,MAAM,CAAC,GAAK,kBAAkB,KAAO,OAAO,SAAW,IAAII,MAAM,CAACC,MAAO5B,EAAY,SAAE6B,SAAS,SAAUC,GAAM9B,EAAI+B,SAASD,GAAKE,WAAW,aAAa,CAAChC,EAAIS,GAAGT,EAAIU,GAAGT,KAAK8B,cAAc,GAAG3B,EAAG,eAAe,CAACE,YAAY,YAAYiB,MAAM,CAAC,GAAK,yBAAyB,MAAQ,eAAe,YAAY,qBAAqB,CAACnB,EAAG,eAAe,CAACmB,MAAM,CAAC,GAAK,mBAAmB,KAAO,OAAO,SAAW,IAAII,MAAM,CAACC,MAAO5B,EAAa,UAAE6B,SAAS,SAAUC,GAAM9B,EAAIiC,UAAUH,GAAKE,WAAW,gBAAgB,IAAI,GAAG5B,EAAG,eAAe,CAACmB,MAAM,CAAC,GAAK,mBAAmB,MAAQ,aAAa,YAAY,eAAe,CAACnB,EAAG,SAAS,CAACmB,MAAM,CAAC,GAAK,aAAa,UAAU,mDAAmD,KAAO,CAC/4EW,OAAQ,IACRC,SAAS,EACTC,QAAS,CACP,iEACA,6CACA,wDAEFC,QACE,uLAGDV,MAAM,CAACC,MAAO5B,EAAIsC,KAAY,QAAET,SAAS,SAAUC,GAAM9B,EAAIuC,KAAKvC,EAAIsC,KAAM,UAAWR,IAAME,WAAW,mBAAmB,GAAG5B,EAAG,eAAe,CAACE,YAAY,8BAA8B,CAACF,EAAG,WAAW,CAACmB,MAAM,CAAC,KAAO,SAAS,QAAU,WAAWH,GAAG,CAAC,MAAQpB,EAAIwC,cAAc,CAACxC,EAAIS,GAAG,aAAa,IAAI,GAAGT,EAAImB,KAAKf,EAAG,MAAM,CAACJ,EAAIgD,GAAIhD,EAAIkF,YAAY,SAAShC,EAAKC,GAAK,OAAO/C,EAAG,MAAM,CAACgD,IAAID,EAAI7C,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACkD,MAAMJ,EAAKK,SAAWvD,EAAIwD,OAAS,wBAA0B,uBAAuB,CAACpD,EAAG,MAAM,CAACE,YAAY,8DAA8D,CAACF,EAAG,MAAM,CAACE,YAAY,kDAAkD,CAACN,EAAIQ,GAAG,GAAE,GAAMJ,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACN,EAAIS,GAAG,IAAIT,EAAIU,GAAqB,IAAlBwC,EAAKO,UAAkB,UAAYP,EAAKO,gBAAgBrD,EAAG,MAAM,CAACE,YAAY,6BAA6B,CAACN,EAAIS,GAAG,IAAIT,EAAIU,GAAsB,IAAnBwC,EAAKQ,WAAmB,eAAiBR,EAAKQ,YAAY,WAAWtD,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,IAAI,CAACE,YAAY,OAAOiB,MAAM,CAAC,KAAO2B,EAAKS,MAAME,SAAS,CAAC,UAAY7D,EAAIU,GAAGwC,EAAKS,gBAAe3D,EAAIQ,GAAG,IAAI,IAAI,IACjlC,EAAkB,CAAC,WAAa,IAAIR,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACE,YAAY,WAAW,CAACF,EAAG,IAAI,CAACE,YAAY,6BAA6B,WAAa,IAAIN,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACE,YAAY,WAAW,CAACF,EAAG,IAAI,CAACE,YAAY,8BAA8B,WAAa,IAAIN,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACE,YAAY,WAAW,CAACF,EAAG,IAAI,CAACE,YAAY,oBAAoB,WAAa,IAAIN,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACE,YAAY,WAAW,CAACF,EAAG,IAAI,CAACE,YAAY,qBAAqBC,YAAY,CAAC,YAAY,aAAa,WAAa,IAAIP,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,kFAAkF,CAACF,EAAG,MAAM,CAACE,YAAY,kDAAkD,CAACF,EAAG,OAAO,CAACE,YAAY,WAAW,CAACF,EAAG,IAAI,CAACE,YAAY,qBAAqBC,YAAY,CAAC,YAAY,YAAYH,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACN,EAAIS,GAAG,wBAAwBL,EAAG,MAAM,CAACE,YAAY,6BAA6B,CAACN,EAAIS,GAAG,qBAAqBL,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,IAAI,CAACE,YAAY,QAAQ,CAACN,EAAIS,GAAG,qG,kCCmJt0C,GACEG,KAAM,mBACNmD,MAAO,CAAC,OAAQ,WAAY,YAAa,UACzCC,WAAY,CACVC,OAAQ,EAAZ,MAEEI,MAAO,CACL1D,KADJ,SACA,KACM2D,QAAQC,IAAIC,EAAU,aACQ,IAA1BA,EAASC,MAAMC,QACzB,2CAGEC,QAAS,CACPO,SADJ,WAEM,IAAN,8BACA,4BAEIC,WALJ,SAKA,cACM,EAAN,EACA,mBAAQ,QAAR,IACA,kBAEQ,OADA,EAAR,6CACA,eAEA,mBACQ,QAAR,SACQ,EAAR,6DAGI3C,YAjBJ,WAiBA,WACMvC,KAAKwB,SAAU,EACf,IAAN,qBAGA,QACA,oBACA,iBACM,EAAN,EACA,2BAAQ,KAAR,EAAQ,QAAR,EAAQ,aAAR,IACA,kBACQ,EAAR,gBACQ,IAAR,iBACA,0BACQ,EAAR,gCACQ,EAAR,+BACQ,EAAR,iBACQ,EAAR,gBACQ,QAAR,uBAEA,mBACQ,QAAR,SACQ,EAAR,gEAGIC,YA1CJ,WA2CMzB,KAAKwB,SAAU,GAEjBD,UA7CJ,WA6CA,WACA,YACMb,EAAKO,OAAS,MACd,EAAN,EACA,eACA,kBACQ,QAAR,oBAEA,mBACQ,QAAR,SACQ,EAAR,6DAGI8E,OA1DJ,SA0DA,OACM/F,KAAKgG,MAAM,SAAU5C,EAAM6C,EAAOC,KAGtCC,KA3EF,WA4EI,MAAO,CACL3E,SAAS,EACTa,KAAM,CACJP,SAAU,GACVsE,QAAS,IAEXpF,YANN,SAMA,GACQ,MAAiB,QAAVC,GAA8B,MAAVA,GAA4B,OAAVA,GAA6B,OAAVA,GAElEL,SAAU,CAERyF,EAAG,SACHC,EAAG,MACHC,EAAG,UACHC,EAAG,OACHC,EAAG,WAEL3F,eAAgB,CAEhB,MACN,MACA,MACA,MACA,QACA,QACA,QACA,MACA,MACA,OAEMG,OAAQ,CACNyF,KAAR,SACQC,MAAO,SACPC,IAAR,UACQC,KAAR,QACQC,GAAR,YACQC,IAAR,YACQC,IAAR,aACQC,IAAR,UACQC,IAAR,UACQC,IAAR,UACQC,OAAR,QACQC,KAAR,OACQC,IAAR,aCvRoY,ICQhY,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,I,oBCmBf,GACE3G,KAAM,gBACNoD,WAAY,CACV2F,kBAAJ,EACIC,cAAJ,EACIC,QAAJ,QAEEzF,SAAU,OAAZ,OAAY,CAAZ,GACA,sGAEE0E,QAVF,WAWI7I,KAAK6J,YAEP1D,KAbF,WAcI,MAAO,CACL6B,MAAO,GACPE,cAAe,EACfpG,SAAU,GACVyB,OAAQ,GACRvB,UAAW,GACXR,SAAS,IAGb4C,MAAO,CACLwB,iBADJ,SACA,KACUrB,GACFvE,KAAK6J,aAIXnF,QAAS,CACP,SADJ,WACA,wJACA,aACA,cAFA,8CAIIoF,UALJ,WAKA,WAEM9J,KAAKgI,MAAQ,GACb,EAAN,EACA,IADA,eAEA,kBACA,iBACU,EAAV,uBAGA,mBACQ,QAAR,SACQ,EAAR,6DAGI+B,SApBJ,WAoBA,WACM/J,KAAKuD,OAASvD,KAAKgK,YAAY1G,QAC/BtD,KAAKgC,UAAYhC,KAAKgK,YAAYC,MAClC,EAAN,EACA,IADA,wBACA,qBACA,kBACQ,EAAR,2DAEA,mBACQ,QAAR,SACQ,EAAR,+DAGIhC,WAjCJ,SAiCA,cACM,EAAN,EACA,IADA,wBACA,EADA,uBACA,wBACA,kBACQ,EAAR,0BACQ,EAAR,WACQ,EAAR,wBAEA,mBACQ,QAAR,SACQ,EAAR,6DAGIiC,SA9CJ,aAkDI3I,UAlDJ,SAkDA,GACM,IAAN,wEACmB4I,GAATC,IACF1J,EAAOV,KAAKgI,MAAMoC,GAClB1J,EAAKO,OAAS,MACdjB,KAAKgI,MAAMqC,OAAOD,EAAO,EAAG1J,KAIhC4J,iBA3DJ,WA6DMC,YAAW,WACT,IAAR,kDAEQ,GAAIC,EAAI,CACN,IAAV,MACA,qDAEUC,OAAOC,SAAS,CAA1B,6BAEA,MAEI3E,OAxEJ,SAwEA,OACM/F,KAAKqJ,SAASC,MAAMpD,EAAS,CAC3BD,MAAOA,EACPsD,cAAe,IACfC,aAAa,EACbC,QAASrG,OCjJmW,ICQhX,G,UAAY,eACd,EACAtD,EACA+D,GACA,EACA,KACA,WACA,OAIa,e","file":"js/chunk-86751d02.9ca72f24.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminSupport.vue?vue&type=style&index=0&id=019e9ce4&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card card-custom card-stretch gutter-b\"},[_c('table',{staticClass:\"table table-vertical-center table-head-bg table-borderless\"},[_c('thead',[_c('tr',[_c('td',{staticStyle:{\"width\":\"300px\"}},[_c('div',{staticClass:\"d-flex justify-content-start align-self-center\"},[_vm._m(0),_c('div',{staticClass:\"align-self-center\"},[_vm._v(\" \"+_vm._s(_vm.todo.name)+\" \")])])]),_c('td',[_c('div',{staticClass:\"d-flex justify-content-start align-self-center\"},[_vm._m(1),_c('div',{staticClass:\"align-self-center\"},[_vm._v(\" \"+_vm._s(_vm.category[_vm.todo.type2])+\" \")])])]),_c('td',[_c('div',{staticClass:\"d-flex justify-content-start align-self-center\"},[_vm._m(2),_c('div',{staticClass:\"align-self-center\"},[_vm._v(\" \"+_vm._s(_vm.supportOptions[_vm.todo.severity - 1])+\" \")])])]),_c('td',[_c('div',{staticClass:\"d-flex justify-content-start align-self-center\"},[(!_vm.isCompleted(_vm.todo.status))?_c('span',{staticClass:\"mr-3\"},[_c('i',{staticClass:\"fas fa-lock-open header-icon\"})]):_vm._e(),(_vm.isCompleted(_vm.todo.status))?_c('span',{staticClass:\"mr-3\"},[_c('i',{staticClass:\"fas fa-lock header-icon\"})]):_vm._e(),_c('div',{staticClass:\"align-self-center\"},[_vm._v(\" \"+_vm._s(_vm.status[_vm.todo.status])+\" \")])])]),_c('td',[_c('div',{staticClass:\"d-flex justify-content-end align-self-center\"},[(!_vm.isCompleted(_vm.todo.status))?_c('a',{staticClass:\"btn-text-primary btn-hover-light-primary font-weight-bold mr-3 cursor-pointer\",on:{\"click\":_vm.onClose}},[_vm._v(\"Stäng\")]):_vm._e(),_c('Confirm',{ref:\"close_todo\",attrs:{\"title\":\"Ticket\",\"message\":\"Är du säker på att du vill stänga detta ärende?\",\"type\":'success',\"confirm\":\"Ja\",\"cancel\":\"Nej\"},on:{\"confirm\":_vm.closeTodo}})],1)])])])]),_c('b-form-group',{staticClass:\"d-flex justify-content-end mt-3\"},[(!_vm.isCompleted(_vm.todo.status) && !_vm.editing)?_c('b-button',{staticClass:\"mr-6\",attrs:{\"type\":\"button\",\"variant\":\"primary\"},on:{\"click\":_vm.editComment}},[_vm._v(\"Svar\")]):_vm._e()],1),(_vm.editing)?_c('b-form',{staticClass:\"d-flex flex-column\"},[_c('div',{staticClass:\"d-sm-flex justify-content-between mb-sm-10\"},[_c('b-form-group',{staticClass:\"flex-fill mr-sm-6\",attrs:{\"id\":\"input-group-user-name\",\"label\":\"Namn\",\"label-for\":\"input-user-name\"}},[_c('b-form-input',{attrs:{\"id\":\"input-user-name\",\"type\":\"text\",\"disabled\":\"\"},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}},[_vm._v(_vm._s(this.username))])],1),_c('b-form-group',{staticClass:\"flex-fill\",attrs:{\"id\":\"input-group-user-email\",\"label\":\"E-postadress\",\"label-for\":\"input-user-email\"}},[_c('b-form-input',{attrs:{\"id\":\"input-user-email\",\"type\":\"text\",\"disabled\":\"\"},model:{value:(_vm.useremail),callback:function ($$v) {_vm.useremail=$$v},expression:\"useremail\"}})],1)],1),_c('b-form-group',{attrs:{\"id\":\"input-group-desc\",\"label\":\"Meddelande\",\"label-for\":\"input-desc\"}},[_c('editor',{attrs:{\"id\":\"input-desc\",\"api-key\":\"qjaly68mahdluhx0rongdllvelixwgn18730f5z7fdzq6hq2\",\"init\":{\n            height: 500,\n            menubar: false,\n            plugins: [\n              'advlist autolink lists link image charmap print preview anchor',\n              'searchreplace visualblocks code fullscreen',\n              'insertdatetime media table paste code help wordcount'\n            ],\n            toolbar:\n              'undo redo | formatselect | bold italic backcolor | \\\n                alignleft aligncenter alignright alignjustify | \\\n                bullist numlist outdent indent | removeformat'\n          }},model:{value:(_vm.form.comment),callback:function ($$v) {_vm.$set(_vm.form, \"comment\", $$v)},expression:\"form.comment\"}})],1),_c('b-form-group',{staticClass:\"d-flex justify-content-end\"},[_c('b-button',{staticClass:\"mr-2\",attrs:{\"type\":\"button\",\"variant\":\"primary\"},on:{\"click\":_vm.sendComment}},[_vm._v(\"Skicka\")]),_c('b-button',{attrs:{\"type\":\"button\",\"variant\":\"primary\"},on:{\"click\":function($event){_vm.editing=false}}},[_vm._v(\"Avbryt\")])],1),_c('FileTable',{attrs:{\"files\":_vm.files},on:{\"onUploadFileClicked\":_vm.selectFile,\"downloadFileClicked\":_vm.downloadFileClicked,\"deleteFileClicked\":_vm.deleteFileClicked}}),_c('input',{ref:\"file\",attrs:{\"hidden\":\"\",\"type\":\"file\",\"id\":\"file\",\"accept\":_vm.extensions},on:{\"change\":function($event){return _vm.handleFileUpload()}}})],1):_vm._e(),_vm._l((_vm.conversations()),function(item,idx){return _c('table',{key:idx,staticClass:\"table table-vertical-center table-borderless\"},[_c('thead',{staticClass:\"text-left\"},[(item.type == \"comment\")?_c('tr',{class:item.user_id == _vm.userid ? \"comment-default-title\" : \"comment-admin-title\"},[_c('td',{staticStyle:{\"width\":\"300px\"}},[_c('div',{staticClass:\"d-flex justify-content-start align-self-center\"},[_vm._m(3,true),_c('div',{staticClass:\"align-self-center\"},[_vm._v(\" \"+_vm._s(item.username == '' ? _vm.user_name : item.username))])])]),_c('td',[_c('div',{staticClass:\"align-self-center\"},[_vm._v(\" \"+_vm._s(item.created_at == '' ? \"Date Unknown\" : item.created_at)+\" \")])]),_c('td',{staticClass:\"align-self-center\"}),_c('td',{staticClass:\"align-self-center\"})]):_vm._e(),(item.type == \"file\")?_c('tr',{class:item.user_id == _vm.userid ? \"comment-default-title\" : \"comment-admin-title\"},[_c('td',{staticStyle:{\"width\":\"300px\"}},[_c('div',{staticClass:\"d-flex justify-content-start align-self-center\"},[_vm._m(4,true),_c('div',{staticClass:\"align-self-center\"},[_vm._v(\" \"+_vm._s(item.username == '' ? _vm.user_name : item.username))])])]),_c('td',{staticClass:\"align-self-center\"},[_vm._v(\" \"+_vm._s(item.created_at == '' ? \"Date Unknown\" : item.created_at)+\" \")]),_c('td',{staticClass:\"align-self-center\"}),_c('td',{staticClass:\"align-self-center\"},[_vm._v(\" \"+_vm._s(item.text)+\" \")]),_c('td',{staticClass:\"d-flex justify-content-end p-0\"},[_c('a',{staticClass:\"btn btn-icon btn-light btn-sm mx-6 mt-2 border border-primary\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){return _vm.downloadFileClicked(item.file_id)}}},[_vm._m(5,true)])])]):_vm._e()]),(item.type == \"comment\")?_c('tbody',[_c('td',{attrs:{\"colspan\":\"4\"}},[_c('p',{staticClass:\"m-2 pl-8\",attrs:{\"html\":item.text},domProps:{\"innerHTML\":_vm._s(item.text)}})])]):_vm._e()])})],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"ml-1 mr-3\"},[_c('i',{staticClass:\"fas fa-file-signature header-icon\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"mr-3\"},[_c('i',{staticClass:\"far fa-question-circle header-icon\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"mr-3\"},[_c('i',{staticClass:\"fas fa-clock header-icon\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"ml-1 mr-2\"},[_c('i',{staticClass:\"fas fa-user-circle\",staticStyle:{\"font-size\":\"16px\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"ml-1 mr-3\"},[_c('i',{staticClass:\"fas fa-file\",staticStyle:{\"font-size\":\"16px\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('i',{staticClass:\"fa fa-download\",staticStyle:{\"font-size\":\"16px\",\"color\":\"#3699FF\"},attrs:{\"aria-hidden\":\"true\"}})])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <!--begin::Advance Table Widget 9-->\r\n  <div class=\"card card-custom card-stretch gutter-b\">\r\n    <!--end::Body-->\r\n    <!-- Todo Header -->\r\n    <table\r\n      class=\"table table-vertical-center table-head-bg table-borderless\"\r\n    >\r\n      <thead>\r\n        <tr>\r\n          <td style='width: 300px'>\r\n            <div class='d-flex justify-content-start align-self-center'>\r\n              <span class='ml-1 mr-3'><i class=\"fas fa-file-signature header-icon\"></i></span>\r\n              <div class='align-self-center'> {{ todo.name }} </div>\r\n            </div>\r\n          </td>\r\n\r\n          <td>\r\n            <div class='d-flex justify-content-start align-self-center'>\r\n              <span class='mr-3'><i class='far fa-question-circle header-icon'></i></span>\r\n              <div class='align-self-center'> {{category[todo.type2]}} </div>\r\n            </div>\r\n          </td>\r\n\r\n          <td>\r\n            <div class='d-flex justify-content-start align-self-center'>\r\n              <span class='mr-3'><i class='fas fa-clock header-icon'></i></span>\r\n              <div class='align-self-center'> {{supportOptions[todo.severity - 1]}} </div>\r\n            </div>\r\n          </td>\r\n\r\n          <td>\r\n            <div class='d-flex justify-content-start align-self-center'>\r\n              <span v-if='!isCompleted(todo.status)' class='mr-3'><i class='fas fa-lock-open header-icon'></i></span>\r\n              <span v-if='isCompleted(todo.status)' class='mr-3'><i class='fas fa-lock header-icon'></i></span>\r\n              <div class='align-self-center'> {{status[todo.status]}} </div>\r\n            </div>\r\n          </td>\r\n\r\n          <td>\r\n            <div class='d-flex justify-content-end align-self-center'>\r\n              <a v-if='!isCompleted(todo.status)' class=\"btn-text-primary btn-hover-light-primary font-weight-bold mr-3 cursor-pointer\" @click=\"onClose\">Stäng</a>\r\n              <Confirm\r\n                title=\"Ticket\"\r\n                message=\"Är du säker på att du vill stänga detta ärende?\"\r\n                ref=\"close_todo\"\r\n                :type=\"'success'\"\r\n                confirm=\"Ja\"\r\n                cancel=\"Nej\"\r\n                @confirm=\"closeTodo\" />\r\n            </div>\r\n          </td>\r\n        </tr>\r\n      </thead>\r\n    </table>\r\n\r\n    <b-form-group class='d-flex justify-content-end mt-3'>\r\n      <b-button v-if='!isCompleted(todo.status) && !editing' class='mr-6' type=\"button\" variant=\"primary\" @click=\"editComment\">Svar</b-button>\r\n    </b-form-group>\r\n\r\n    <b-form class='d-flex flex-column' v-if='editing'>\r\n      <div class='d-sm-flex justify-content-between mb-sm-10'>\r\n        <b-form-group class='flex-fill mr-sm-6' id=\"input-group-user-name\" label=\"Namn\" label-for=\"input-user-name\">\r\n          <b-form-input\r\n            id=\"input-user-name\"\r\n            type=\"text\"\r\n            disabled\r\n            v-model=\"username\"\r\n          >{{this.username}}</b-form-input>\r\n        </b-form-group>\r\n        <b-form-group class='flex-fill' id=\"input-group-user-email\" label=\"E-postadress\" label-for=\"input-user-email\">\r\n          <b-form-input\r\n            id=\"input-user-email\"\r\n            type=\"text\"\r\n            v-model=\"useremail\"\r\n            disabled\r\n          ></b-form-input>\r\n        </b-form-group>\r\n      </div>\r\n\r\n      <b-form-group id=\"input-group-desc\" label=\"Meddelande\" label-for=\"input-desc\">\r\n          <editor\r\n            id='input-desc'\r\n            v-model=\"form.comment\"\r\n            api-key=\"qjaly68mahdluhx0rongdllvelixwgn18730f5z7fdzq6hq2\"\r\n            :init=\"{\r\n              height: 500,\r\n              menubar: false,\r\n              plugins: [\r\n                'advlist autolink lists link image charmap print preview anchor',\r\n                'searchreplace visualblocks code fullscreen',\r\n                'insertdatetime media table paste code help wordcount'\r\n              ],\r\n              toolbar:\r\n                'undo redo | formatselect | bold italic backcolor | \\\r\n                  alignleft aligncenter alignright alignjustify | \\\r\n                  bullist numlist outdent indent | removeformat'\r\n            }\"\r\n          />\r\n      </b-form-group>\r\n\r\n      <b-form-group class='d-flex justify-content-end'>\r\n        <b-button class='mr-2' type=\"button\" variant=\"primary\" @click=\"sendComment\">Skicka</b-button>\r\n        <b-button type=\"button\" variant=\"primary\" @click=\"editing=false\">Avbryt</b-button>\r\n      </b-form-group>\r\n\r\n      <FileTable\r\n        :files=\"files\"\r\n        @onUploadFileClicked=\"selectFile\"\r\n        @downloadFileClicked=\"downloadFileClicked\"\r\n        @deleteFileClicked=\"deleteFileClicked\"\r\n      />\r\n\r\n      <input hidden type=\"file\" id=\"file\" ref=\"file\" v-on:change=\"handleFileUpload()\" :accept=\"extensions\"/>\r\n\r\n    </b-form>\r\n\r\n    <table v-for=\"(item, idx) in conversations()\" :key=\"idx\" class=\"table table-vertical-center table-borderless\">\r\n      <thead class='text-left'>\r\n        <tr v-if='item.type == \"comment\"' :class='item.user_id == userid ? \"comment-default-title\" : \"comment-admin-title\"'>\r\n          <td style='width: 300px'>\r\n            <div class='d-flex justify-content-start align-self-center'>\r\n              <span class='ml-1 mr-2'><i class='fas fa-user-circle' style=\"font-size:16px\"></i></span>\r\n              <div class='align-self-center'> {{ item.username == '' ? user_name : item.username }}</div>\r\n            </div>\r\n          </td>\r\n\r\n          <td>\r\n            <div class='align-self-center'> {{ item.created_at == '' ? \"Date Unknown\" : item.created_at }} </div>\r\n          </td>\r\n          <td class='align-self-center'>\r\n          </td>\r\n          <td class='align-self-center'>\r\n          </td>\r\n        </tr>\r\n\r\n        <tr v-if='item.type == \"file\"' :class='item.user_id == userid ? \"comment-default-title\" : \"comment-admin-title\"'>\r\n          <td style='width: 300px'>\r\n            <div class='d-flex justify-content-start align-self-center'>\r\n              <span class='ml-1 mr-3'><i class=\"fas fa-file\" style=\"font-size:16px\"></i></span>\r\n              <div class='align-self-center'> {{ item.username == '' ? user_name : item.username }}</div>\r\n            </div>\r\n          </td>\r\n\r\n          <td class='align-self-center'> {{ item.created_at == '' ? \"Date Unknown\" : item.created_at }} </td>\r\n\r\n          <td class='align-self-center'>\r\n          </td>\r\n          <td class='align-self-center'>\r\n            {{item.text}}\r\n          </td>\r\n\r\n          <td class='d-flex justify-content-end p-0'>\r\n            <a\r\n              href=\"#\"\r\n              class=\"btn btn-icon btn-light btn-sm mx-6 mt-2 border border-primary\"\r\n\r\n              @click='downloadFileClicked(item.file_id)'\r\n            >\r\n              <span ><i class=\"fa fa-download\" aria-hidden=\"true\" style=\"font-size:16px; color: #3699FF\"></i></span>\r\n            </a>\r\n          </td>\r\n        </tr>\r\n      </thead>\r\n      <tbody v-if='item.type == \"comment\"'>\r\n        <td colspan=\"4\">\r\n          <p class=\"m-2 pl-8\" :html='item.text' v-html=\"item.text\">\r\n          </p>\r\n        </td>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n  <!--end::Advance Table Widget 9-->\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n.checkbox.checkbox-light-success > span {\r\n  background-color: white;\r\n  border: 1px solid #ddd;\r\n}\r\n.comment-default-title {\r\n  background-color: #f3f6f9;\r\n  -moz-box-shadow: 0px -1px 0px 1px #e2e2e2;\r\n  -webkit-box-shadow: 0px -1px 0px 1px #e2e2e2;\r\n  box-shadow: 0px -1px 0px 1px #e2e2e2;\r\n}\r\n.comment-admin-title {\r\n  background-color: #c0d9f1;\r\n  -moz-box-shadow: 0px -1px 0px 1px #c0d9f1;;\r\n  -webkit-box-shadow: 0px -1px 0px 1px #c0d9f1;\r\n  box-shadow: 0px -1px 0px 1px #c0d9f1;\r\n}\r\n.header-icon {\r\n  font-size:16px;\r\n}\r\n.comment-task {\r\n  border: 1px solid #e2e2e2;\r\n  min-height: 60px;\r\n}\r\n.chatbox-table{\r\n  text-align: center\r\n}\r\n</style>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport { mapGetters } from 'vuex';\r\nimport moment from 'moment';\r\nimport Editor from '@tinymce/tinymce-vue';\r\nimport Confirm from '@/view/components/Confirm.vue';\r\nimport FileTable from '@/view/pages/ml/todowizard/FileTable.vue';\r\n\r\nexport default {\r\n  name: 'support-chat-box',\r\n  props: ['todo', 'username', 'useremail', 'userid'],\r\n  components: {\r\n    editor: Editor,\r\n    Confirm,\r\n    FileTable\r\n  },\r\n  computed: {\r\n    ...mapGetters(['currentCompanyId', 'currentPeriodId', 'currentUserId', 'currentUser'])\r\n  },\r\n  watch: {\r\n    todo(newValue, oldValue) {\r\n      console.log(newValue, \"Todo Data\");\r\n      if (newValue.tasks.length === 0)\r\n        newValue.tasks.push(this.createTask(newValue.todo_id));\r\n    },\r\n  },\r\n  methods: {\r\n    conversations() {\r\n      const comments = this.todo.tasks[0].comments;\r\n      const files = this.todo.tasks[0].files;\r\n      let conversations = comments.map(function (item) {\r\n        return {user_id: item.user_id, text: item.text, created_at: item.created_at, type: 'comment', username: item.username, file_id: 0};\r\n      });\r\n      conversations = conversations.concat(files.map(function (item) {\r\n        return {user_id: item.user_id, text: item.name, created_at: item.created_at, type: 'file', username: item.username, file_id: item.file_id};\r\n      }));\r\n\r\n      conversations.sort(function(a, b) {\r\n        return b.created_at.localeCompare(a.created_at);\r\n      })\r\n      return conversations;\r\n    },\r\n    comments() {\r\n      const comments = this.todo.tasks[0].comments;\r\n    \treturn comments.slice().reverse();\r\n    },\r\n    createTask(todo_id) {\r\n      axios\r\n        .post('/todo_task', {todo_id: todo_id} )\r\n        .then(res => {\r\n          this.toastr('success', 'OK', 'Ärendet har skapats');\r\n          return res.data.task;\r\n        })\r\n        .catch(err => {\r\n          console.error(err);\r\n          this.toastr('danger', 'Server Fel', 'Kunde inte skapa ärendet');\r\n        });\r\n    },\r\n    sendComment() {\r\n      this.editing = false;\r\n      const taskTodo = this.todo.tasks[0];\r\n\r\n      // post('/todo_task/comment', { from: 'top', comment: this.comment, todo_task_id: this.todo_task_id })\r\n      const from = 'sub';\r\n      const comment = this.form.comment;\r\n      const todo_task_id = taskTodo.todo_task_id;\r\n      axios\r\n        .post('/todo_task/comment', { from, comment , todo_task_id })\r\n        .then(res => {\r\n          this.form.comment = '';\r\n          const newComment = res.data.comment;\r\n          let spaceIndex = newComment.from.lastIndexOf(' ');\r\n          newComment.username = newComment.from.substring(0, spaceIndex);\r\n          newComment.user_email = newComment.from.substring(spaceIndex);\r\n          taskTodo.comments.push(newComment);\r\n          this.todo.tasks[0] = taskTodo;\r\n        })\r\n        .catch(err => {\r\n          console.error(err);\r\n          this.toastr('danger', 'Server Fel', 'Kunde inte skicka kommentar');\r\n        });\r\n    },\r\n    editComment() {\r\n      this.editing = true;\r\n      this.files = [];\r\n    },\r\n    onClose () {\r\n      this.$refs['close_todo'].show();\r\n    },\r\n    closeTodo() {\r\n      let todo = this.todo;\r\n      todo.status = 'DOC';\r\n      axios\r\n        .put('/todo', todo)\r\n        .then(res => {\r\n          this.$emit('closeTodo', todo );\r\n        })\r\n        .catch(err => {\r\n          console.error(err);\r\n          this.toastr('danger', 'Server Fel', 'Kunde inte skapa ärendet');\r\n        });\r\n    },\r\n\r\n    downloadFileClicked(file_id) {\r\n      axios\r\n        .get(`/file?file_id=${file_id}`)\r\n        .then(res => {\r\n          window.open(res.data.file.public_path, \"_blank\");\r\n        })\r\n        .catch(err => {\r\n          console.error(err);\r\n          this.toastr('danger', 'Server Fel', 'Kunde inte hämta filen');\r\n        });\r\n    },\r\n\r\n    deleteFileClicked(file_id) {\r\n      axios\r\n        .delete(`/file?file_id=${file_id}&company_id=${this.currentCompanyId}&todo_task_id=${this.todo.tasks[0].todo_task_id}`)\r\n        .then(res => {\r\n          if (res.status == 200) {\r\n            this.files = this.files.filter(item => item.file_id != file_id);\r\n            this.todo.tasks[0].files = this.todo.tasks[0].files.filter(item => item.file_id != file_id);\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.error(err);\r\n          this.toastr('danger', 'Server Fel', 'Kunde inte hämta filen');\r\n        });\r\n    },\r\n\r\n    selectFile() {\r\n      this.$refs.file.click();\r\n    },\r\n    handleFileUpload() {\r\n      this.file = this.$refs.file.files[0];\r\n      this.uploadFile();\r\n    },\r\n    downloadFile() {\r\n\r\n    },\r\n\r\n    deleteFile() {\r\n\r\n    },\r\n\r\n    uploadFile() {\r\n      let formData = new FormData();\r\n      formData.append('file', this.file);\r\n      formData.append('file_source', 'todo');\r\n      formData.append('file_type', '');\r\n      formData.append('company_id', this.currentCompanyId);\r\n      formData.append('todo_id', this.todo.todo_id);\r\n      formData.append('todo_task_id', this.todo.tasks[0].todo_task_id);\r\n\r\n      axios\r\n        .post(`/fileupload?todo=true&todo_id=${this.todo.todo_id}&todo_task_id=${this.todo.tasks[0].todo_task_id}`, formData, {\r\n            headers: {\r\n            'Content-Type': 'multipart/form-data'\r\n          }\r\n        })\r\n        .then(res => {\r\n          this.toastr('success', 'OK', 'Filen laddades upp');\r\n          this.file.file_id = res.data.fileobjs[0].file_id;\r\n          this.file.created_at = res.data.fileobjs[0].created_at;\r\n          this.file.user_id = this.userid;\r\n          this.file.username = this.user_name;\r\n\r\n          this.$emit('fileUploaded', this.file );\r\n\r\n          this.files.push(this.file);\r\n          this.todo.tasks[0].files.push(this.file);\r\n        })\r\n        .catch(err => {\r\n          console.error(err);\r\n          this.toastr('danger', 'Server Fel', 'Kunde inte ladda upp fil');\r\n        });\r\n    },\r\n\r\n    toastr(type, title, message) {\r\n      this.$emit('toastr', type, title, message);\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      editing: false,\r\n      form: {\r\n        username: '',\r\n        comment: '',\r\n      },\r\n      files: [],\r\n      isCompleted(status) {\r\n        return status == 'DONE' || status == 'CN' || status == 'REJ' || status == 'DEL' || status == 'DOC';\r\n      },\r\n      category: {\r\n        //Teknisk\r\n        N: 'NOTSET',\r\n        B: 'BUG' ,\r\n        F: 'FEATURE',\r\n        I: 'INFO',\r\n        S: 'SUPPORT',\r\n      },\r\n      status: {\r\n        WAIT : 'VÄNTAR',\r\n        DRAFT: 'UTKAST',\r\n        NOT  : 'EJ KLAR',\r\n        DONE : 'KLART',\r\n        CN   : 'BEKRÄFTAD',\r\n        DEL  : 'BORTTAGEN',\r\n        ACC  : 'ACCEPTERAD',\r\n        REJ  : 'AVVISAD',\r\n        BAC  : 'BACKLOG',\r\n        FUT  : 'FRAMTID',\r\n        UNREAD : 'OLÄST',\r\n        READ : 'LÄST',\r\n        DOC  : 'STÄNGT'\r\n      },\r\n      supportOptions: [\r\n        // Allvarighetsgrad\r\n        'låg',\r\n        'låg',\r\n        'låg',\r\n        'låg',\r\n        'medel',\r\n        'medel',\r\n        'medel',\r\n        'hög',\r\n        'hög',\r\n        'hög',\r\n      ],\r\n      extensions: [\r\n        '.7z',\r\n        '.bz2',\r\n        '.csv',\r\n        '.docx',\r\n        '.doc',\r\n        '.eml',\r\n        '.gif',\r\n        '.gz',\r\n        '.jpeg',\r\n        '.jpg',\r\n        '.odt',\r\n        '.ods',\r\n        '.pdf',\r\n        '.php',\r\n        '.png',\r\n        '.rar',\r\n        '.sql',\r\n        '.txt',\r\n        '.xls',\r\n        '.xlsx',\r\n        '.wav'\r\n      ],\r\n    };\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chatbox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chatbox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Chatbox.vue?vue&type=template&id=04a6f038&scoped=true&\"\nimport script from \"./Chatbox.vue?vue&type=script&lang=js&\"\nexport * from \"./Chatbox.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Chatbox.vue?vue&type=style&index=0&id=04a6f038&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"04a6f038\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-modal',{ref:\"confirmModal\",attrs:{\"hide-footer\":\"\",\"title\":_vm.title}},[_c('b-row',[_c('b-col',{attrs:{\"lg\":\"12\"}},[_c('div',{staticClass:\"d-block text-center\"},[_c('h3',[_vm._v(_vm._s(_vm.message))])])])],1),_c('b-row',{staticClass:\"mt-8 mb-8\"},[_c('b-col',{attrs:{\"lg\":\"6\"}},[_c('b-button',{attrs:{\"variant\":_vm.confirmColor,\"block\":\"\"},on:{\"click\":_vm.onConfirm}},[_vm._v(_vm._s(_vm.confirm))])],1),_c('b-col',{attrs:{\"lg\":\"6\"}},[_c('b-button',{attrs:{\"variant\":\"outline-secondary\",\"block\":\"\"},on:{\"click\":_vm.onCancel}},[_vm._v(_vm._s(_vm.cancel))])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <b-modal ref=\"confirmModal\" hide-footer :title=\"title\">\r\n    <b-row>\r\n      <b-col lg=\"12\">\r\n        <div class=\"d-block text-center\">\r\n          <h3>{{ message }}</h3>\r\n        </div>\r\n      </b-col>\r\n    </b-row>\r\n    <b-row class=\"mt-8 mb-8\">\r\n      <b-col lg=\"6\">\r\n        <b-button class=\"\" :variant=\"confirmColor\" block @click=\"onConfirm\">{{confirm}}</b-button>\r\n      </b-col>\r\n      <b-col lg=\"6\">\r\n        <b-button class=\"\" variant=\"outline-secondary\" block @click=\"onCancel\"\r\n          >{{cancel}}</b-button\r\n        >\r\n      </b-col>\r\n    </b-row>\r\n  </b-modal>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n</style>\r\n<script>\r\nexport default {\r\n  name: 'confirm-modal',\r\n  data() {\r\n    return {};\r\n  },\r\n  props: {\r\n    type: {\r\n      type: String,\r\n      default: 'danger'\r\n    },\r\n    title: String,\r\n    message: String,\r\n    confirm: { type: String, default: 'Bekräfta' },\r\n    cancel: { type: String, default: 'Avbryt' },\r\n  },\r\n  async mounted() {},\r\n  methods: {\r\n    show() {\r\n      this.$refs['confirmModal'].show();\r\n    },\r\n    onConfirm() {\r\n      this.$refs['confirmModal'].hide();\r\n\r\n      this.$emit('confirm');\r\n    },\r\n    onCancel() {\r\n      this.$refs['confirmModal'].hide();\r\n\r\n      this.$emit('cancel');\r\n    },\r\n  },\r\n  computed: {\r\n    confirmColor(){\r\n      switch (this.type) {\r\n        case 'danger':\r\n          return 'outline-danger'\r\n        case 'success':\r\n          return 'outline-success'\r\n        case 'info':\r\n          return 'outline-info'\r\n        case 'warning':\r\n          return 'outline-warning'\r\n        case 'primary':\r\n          return 'outline-primary'\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Confirm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Confirm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Confirm.vue?vue&type=template&id=7c6e001a&scoped=true&\"\nimport script from \"./Confirm.vue?vue&type=script&lang=js&\"\nexport * from \"./Confirm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7c6e001a\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chatbox.vue?vue&type=style&index=0&id=04a6f038&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminTodoEdit.vue?vue&type=style&index=0&id=e7357844&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminSupportTable.vue?vue&type=style&index=0&id=7b4ad024&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"px-5\",attrs:{\"id\":\"admin-support\"}},[_c('h5',{staticClass:\"mb-6 ml-2\"},[_vm._v(\"Admin Support\")]),(_vm.isTalongAdmin)?_c('AdminSupportTable',{attrs:{\"todos\":_vm.todos},on:{\"selectTodo\":_vm.selectTodo}}):_vm._e(),(_vm.editing)?_c('b-card',[_c('Chatbox',{attrs:{\"todo\":_vm.todo_selected,\"userid\":_vm.userid,\"username\":_vm.username,\"useremail\":_vm.useremail,\"id\":\"supper-support-table\"},on:{\"closeTodo\":_vm.closeTodo}})],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card card-custom card-stretch gutter-b\"},[_c('div',{staticClass:\"card-body pt-10 pb-3\"},[_c('div',{staticClass:\"d-flex justify-content-fixed\"},[_c('div',[_c('b-select',{attrs:{\"options\":_vm.options},model:{value:(_vm.perPage),callback:function ($$v) {_vm.perPage=$$v},expression:\"perPage\"}})],1),_c('b-pagination',{staticClass:\"ml-auto\",attrs:{\"total-rows\":_vm.todos.length,\"per-page\":_vm.perPage,\"aria-controls\":\"admin-support-table\",\"first-number\":\"\",\"last-number\":\"\"},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}})],1),_c('b-table',{attrs:{\"id\":\"admin-support-table\",\"fields\":_vm.headers,\"items\":_vm.items,\"per-page\":_vm.perPage,\"current-page\":_vm.currentPage,\"head-variant\":\"light\"},scopedSlots:_vm._u([{key:\"cell(todo_id)\",fn:function(row){return [_c('a',{staticClass:\"button\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){return _vm.selectTodo(row.item.todo_id)}}},[_vm._v(\" Hantera > \")])]}}])})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"card card-custom card-stretch gutter-b\">\r\n    <div class=\"card-body pt-10 pb-3\">\r\n      <div class=\"d-flex justify-content-fixed\">\r\n        <div>\r\n          <b-select v-model=\"perPage\" :options=\"options\"></b-select>\r\n        </div>\r\n        <b-pagination\r\n          class=\"ml-auto\"\r\n          v-model=\"currentPage\"\r\n          :total-rows=\"todos.length\"\r\n          :per-page=\"perPage\"\r\n          aria-controls=\"admin-support-table\"\r\n          first-number\r\n          last-number\r\n        ></b-pagination>\r\n      </div>\r\n      <b-table\r\n        id=\"admin-support-table\"\r\n        :fields=\"headers\"\r\n        :items=\"items\"\r\n        :per-page=\"perPage\"\r\n        :current-page=\"currentPage\"\r\n        head-variant=\"light\"\r\n      >\r\n        <template #cell(todo_id)=\"row\">\r\n          <a\r\n            href=\"#\"\r\n            class=\"button\"\r\n            @click=\"selectTodo(row.item.todo_id)\"\r\n          >\r\n            Hantera >\r\n          </a>\r\n        </template>\r\n      </b-table>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n.checkbox.checkbox-light-success > span {\r\n  background-color: white;\r\n  border: 1px solid #ddd;\r\n}\r\n\r\n.comment {\r\n  background-color: #1a52c6;\r\n}\r\n\r\n</style>\r\n\r\n<script>\r\n\r\nimport axios from 'axios';\r\nimport { mapGetters } from 'vuex';\r\n\r\nexport default {\r\n  name: 'admin-support-table',\r\n  components: {\r\n  },\r\n  props: {\r\n    todos: {\r\n      type: Array,\r\n      default: function () {\r\n        return [];\r\n      },\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapGetters(['companies', 'currentCompanyId', 'currentPeriodId'])\r\n  },\r\n  mounted() {\r\n  },\r\n  data() {\r\n    return {\r\n      perPage: 20,\r\n      currentPage: 1,\r\n      items: [],\r\n      headers: [\r\n        {\r\n          key: 'category',\r\n          label: 'Kategori',\r\n          sortable: true,\r\n          thClass: 'pl-7',\r\n          tdClass: 'pl-7'\r\n        },\r\n        {\r\n          key: 'company',\r\n          label: 'Företagsnamn',\r\n          sortable: true,\r\n          thClass: 'comment'\r\n        },\r\n        {\r\n          key: 'name',\r\n          label: 'Ämne',\r\n          sortable: true,\r\n        },\r\n        {\r\n          key: 'severity',\r\n          label: 'Nivå',\r\n          sortable: true,\r\n        },\r\n        {\r\n          key: 'status',\r\n          label: 'Status',\r\n          sortable: true,\r\n        },\r\n        {\r\n          key: 'updated_at',\r\n          label: 'Senast uppdaterad',\r\n          sortable: true,\r\n        },\r\n        {\r\n          key: 'todo_id',\r\n          label: 'Hantera',\r\n        },\r\n      ],\r\n      options: [\r\n        { value: 20 , text: '20'},\r\n        { value: 50 , text: '50'},\r\n        { value: 100 , text: '100'}\r\n      ],\r\n      category: {\r\n        //Teknisk\r\n        N: 'NOTSET',\r\n        I: 'Teknisk support',\r\n        F: 'Ekonomi support',\r\n        B: 'Försäljning' ,\r\n        S: 'Förslag',\r\n      },\r\n      status: {\r\n        WAIT : 'VÄNTAR',\r\n        DRAFT: 'UTKAST',\r\n        NOT  : 'EJ KLAR',\r\n        DONE : 'KLART',\r\n        CN   : 'BEKRÄFTAD',\r\n        DEL  : 'BORTTAGEN',\r\n        ACC  : 'ACCEPTERAD',\r\n        REJ  : 'AVVISAD',\r\n        BAC  : 'BACKLOG',\r\n        FUT  : 'FRAMTID',\r\n        UNREAD : 'OLÄST',\r\n        READ : 'LÄST',\r\n        DOC  : 'STÄNGT'\r\n      },\r\n      supportOptions: [\r\n        // Allvarighetsgrad\r\n        'låg',\r\n        'låg',\r\n        'låg',\r\n        'låg',\r\n        'medel',\r\n        'medel',\r\n        'medel',\r\n        'hög',\r\n        'hög',\r\n        'hög',\r\n      ],\r\n    };\r\n  },\r\n  watch: {\r\n    companies(newValue, oldValue) {\r\n      this.filterValue(this.todos);\r\n    },\r\n    todos(newValue, oldValue) {\r\n      this.filterValue(newValue);\r\n    }\r\n  },\r\n  methods: {\r\n    filterValue(items) {\r\n      let that = this;\r\n      this.items = items.map( function(item) {\r\n        let company = that.companies.find(company => company.company_id == (item.creator_company_id ? item.creator_company_id : item.company_id));\r\n        let companyName = company ? company.name : 'Loading';\r\n        return {\r\n          todo_id: item.todo_id,\r\n          category: that.category[item.type2],\r\n          company: companyName,\r\n          name: item.name,\r\n          severity: that.supportOptions[item.severity - 1],\r\n          status: that.status[item.status],\r\n          updated_at: item.last_updated_at,\r\n        }\r\n      });\r\n      this.items.sort( function (a, b) {\r\n        return b.updated_at.localeCompare(a.updated_at);\r\n      });\r\n    },\r\n    selectTodo(todo_id) {\r\n      console.log(todo_id, \"Todo_id\");\r\n      this.$emit(\"selectTodo\", todo_id);\r\n    },\r\n    toastr(type, title, message) {\r\n      this.$bvToast.toast(message, {\r\n        title: title,\r\n        autoHideDelay: 2000,\r\n        appendToast: true,\r\n        variant: type\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminSupportTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminSupportTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminSupportTable.vue?vue&type=template&id=7b4ad024&scoped=true&\"\nimport script from \"./AdminSupportTable.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminSupportTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AdminSupportTable.vue?vue&type=style&index=0&id=7b4ad024&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7b4ad024\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card card-custom card-stretch gutter-b\"},[_c('table',{staticClass:\"table table-head-custom table-vertical-center table-head-bg table-borderless\"},[_c('tbody',[_c('tr',{staticStyle:{\"background-color\":\"#F3F6F9\",\"box-shadow\":\"0px 0px 1px 0px rgba(0,0,0,0.76)\",\"-webkit-box-shadow\":\"0px 0px 1px 0px rgba(0,0,0,0.76)\",\"-moz-box-shadow\":\"0px 0px 1px 0px rgba(0,0,0,0.76)\"}},[_c('td',[_vm._m(0),_vm._v(\" \"+_vm._s(_vm.todo.name)+\" \")]),_c('td',[_vm._m(1),_vm._v(\" \"+_vm._s(_vm.category[_vm.todo.type2])+\" \")]),_c('td',[_vm._m(2),_vm._v(\" \"+_vm._s(_vm.supportOptions[_vm.todo.severity - 1])+\" \")]),_c('td',[(!_vm.isCompleted(_vm.todo.status))?_c('span',{staticClass:\"mr-sm-1\"},[_c('i',{staticClass:\"fas fa-lock-open\"})]):_vm._e(),(_vm.isCompleted(_vm.todo.status))?_c('span',{staticClass:\"mr-sm-1\"},[_c('i',{staticClass:\"fas fa-lock\"})]):_vm._e(),_vm._v(\" \"+_vm._s(_vm.status[_vm.todo.status])+\" \")]),_c('td',[(!_vm.isCompleted(_vm.todo.status))?_c('b-button',{attrs:{\"type\":\"button\",\"variant\":\"primary\"},on:{\"click\":_vm.closeTodo}},[_vm._v(\"Close\")]):_vm._e()],1),_c('td',[_vm._v(_vm._s(_vm.todo.created_at))])]),_c('b-form-group',{staticClass:\"d-flex justify-content-start mt-3\"},[(!_vm.isCompleted(_vm.todo.status))?_c('b-button',{attrs:{\"type\":\"button\",\"variant\":\"primary\"},on:{\"click\":_vm.editComment}},[_vm._v(\"Svar\")]):_vm._e()],1)],1)]),(_vm.editing)?_c('b-form',{staticClass:\"d-flex flex-column\"},[_c('div',{staticClass:\"d-sm-flex justify-content-between mb-sm-10\"},[_c('b-form-group',{staticClass:\"flex-fill mr-sm-6\",attrs:{\"id\":\"input-group-user-name\",\"label\":\"Namn\",\"label-for\":\"input-user-name\"}},[_c('b-form-input',{attrs:{\"id\":\"input-user-name\",\"type\":\"text\",\"disabled\":\"\"},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}},[_vm._v(_vm._s(this.username))])],1),_c('b-form-group',{staticClass:\"flex-fill\",attrs:{\"id\":\"input-group-user-email\",\"label\":\"E-postadress\",\"label-for\":\"input-user-email\"}},[_c('b-form-input',{attrs:{\"id\":\"input-user-email\",\"type\":\"text\",\"disabled\":\"\"},model:{value:(_vm.useremail),callback:function ($$v) {_vm.useremail=$$v},expression:\"useremail\"}})],1)],1),_c('b-form-group',{attrs:{\"id\":\"input-group-desc\",\"label\":\"Meddelande\",\"label-for\":\"input-desc\"}},[_c('editor',{attrs:{\"id\":\"input-desc\",\"api-key\":\"qjaly68mahdluhx0rongdllvelixwgn18730f5z7fdzq6hq2\",\"init\":{\n             height: 500,\n             menubar: false,\n             plugins: [\n               'advlist autolink lists link image charmap print preview anchor',\n               'searchreplace visualblocks code fullscreen',\n               'insertdatetime media table paste code help wordcount'\n             ],\n             toolbar:\n               'undo redo | formatselect | bold italic backcolor | \\\n                 alignleft aligncenter alignright alignjustify | \\\n                 bullist numlist outdent indent | removeformat'\n           }},model:{value:(_vm.form.comment),callback:function ($$v) {_vm.$set(_vm.form, \"comment\", $$v)},expression:\"form.comment\"}})],1),_c('b-form-group',{staticClass:\"d-flex justify-content-end\"},[_c('b-button',{attrs:{\"type\":\"button\",\"variant\":\"primary\"},on:{\"click\":_vm.sendComment}},[_vm._v(\"Skicka\")])],1)],1):_vm._e(),_c('div',[_vm._l((_vm.comments()),function(item,idx){return _c('div',{key:idx,staticClass:\"comment-task\"},[_c('div',{class:item.user_id == _vm.userid ? \"comment-default-title\" : \"comment-admin-title\"},[_c('div',{staticClass:\"d-sm-flex justify-content-between align-self-center p-sm-3\"},[_c('div',{staticClass:\"d-flex justify-content-start align-self-center\"},[_vm._m(3,true),_c('div',{staticClass:\"align-self-center\"},[_vm._v(\" \"+_vm._s(item.user_name == '' ? 'Unknown' : item.user_name))])]),_c('div',{staticClass:\"align-self-center pr-sm-3\"},[_vm._v(\" \"+_vm._s(item.created_at == '' ? \"Date Unknown\" : item.created_at)+\" \")])])]),_c('div',{staticClass:\"p-sm-3\"},[_c('p',{staticClass:\"my-4\",attrs:{\"html\":item.text},domProps:{\"innerHTML\":_vm._s(item.text)}})])])}),_vm._m(4)],2)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"mr-sm-1\"},[_c('i',{staticClass:\"fas fa-file-signature\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"mr-sm-1\"},[_c('i',{staticClass:\"far fa-question-circle\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"mr-sm-1\"},[_c('i',{staticClass:\"fas fa-clock\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"mr-sm-1\"},[_c('i',{staticClass:\"fas fa-user-circle\",staticStyle:{\"font-size\":\"24px\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"comment-task\"},[_c('div',{staticClass:\"d-sm-flex justify-content-between comment-admin-title align-self-center p-sm-3\"},[_c('div',{staticClass:\"d-flex justify-content-start align-self-center\"},[_c('span',{staticClass:\"mr-sm-1\"},[_c('i',{staticClass:\"fas fa-user-circle\",staticStyle:{\"font-size\":\"24px\"}})]),_c('div',{staticClass:\"align-self-center\"},[_vm._v(\" Admin User Name\")])]),_c('div',{staticClass:\"align-self-center pr-sm-3\"},[_vm._v(\" Date Unkown \")])]),_c('div',{staticClass:\"p-sm-3\"},[_c('p',{staticClass:\"my-4\"},[_vm._v(\" When admin response, we can use this style. When you check all, I will remove this tag. \")])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <!--begin::Advance Table Widget 9-->\r\n  <div class=\"card card-custom card-stretch gutter-b\">\r\n    <!--end::Body-->\r\n    <!-- Todo Header -->\r\n    <table\r\n      class=\"table table-head-custom table-vertical-center table-head-bg table-borderless\"\r\n    >\r\n      <tbody>\r\n        <tr style=\"\r\n          background-color: #F3F6F9;\r\n          box-shadow: 0px 0px 1px 0px rgba(0,0,0,0.76);\r\n          -webkit-box-shadow: 0px 0px 1px 0px rgba(0,0,0,0.76);\r\n          -moz-box-shadow: 0px 0px 1px 0px rgba(0,0,0,0.76);\r\n         \">\r\n          <td>\r\n            <span class='mr-sm-1'><i class=\"fas fa-file-signature\"></i></span>\r\n            {{ todo.name }}\r\n          </td>\r\n          <td>\r\n            <span class='mr-sm-1'><i class='far fa-question-circle'></i></span>\r\n            {{category[todo.type2]}}\r\n          </td>\r\n          <td>\r\n            <span class='mr-sm-1'><i class='fas fa-clock'></i></span>\r\n            {{supportOptions[todo.severity - 1]}}\r\n          </td>\r\n          <td>\r\n            <span v-if='!isCompleted(todo.status)' class='mr-sm-1'><i class='fas fa-lock-open'></i></span>\r\n            <span v-if='isCompleted(todo.status)' class='mr-sm-1'><i class='fas fa-lock'></i></span>\r\n            {{status[todo.status]}}\r\n          </td>\r\n          <td>\r\n            <b-button v-if='!isCompleted(todo.status)' type=\"button\" variant=\"primary\" @click=\"closeTodo\">Close</b-button>\r\n          </td>\r\n          <td>{{ todo.created_at }}</td>\r\n        </tr>\r\n        <b-form-group class='d-flex justify-content-start mt-3'>\r\n          <b-button v-if='!isCompleted(todo.status)' type=\"button\" variant=\"primary\" @click=\"editComment\">Svar</b-button>\r\n        </b-form-group>\r\n      </tbody>\r\n    </table>\r\n\r\n    <b-form class='d-flex flex-column' v-if='editing'>\r\n      <div class='d-sm-flex justify-content-between mb-sm-10'>\r\n        <b-form-group class='flex-fill mr-sm-6' id=\"input-group-user-name\" label=\"Namn\" label-for=\"input-user-name\">\r\n          <b-form-input\r\n            id=\"input-user-name\"\r\n            type=\"text\"\r\n            disabled\r\n            v-model=\"username\"\r\n          >{{this.username}}</b-form-input>\r\n        </b-form-group>\r\n        <b-form-group class='flex-fill' id=\"input-group-user-email\" label=\"E-postadress\" label-for=\"input-user-email\">\r\n          <b-form-input\r\n            id=\"input-user-email\"\r\n            type=\"text\"\r\n            v-model=\"useremail\"\r\n            disabled\r\n          ></b-form-input>\r\n        </b-form-group>\r\n      </div>\r\n\r\n      <b-form-group id=\"input-group-desc\" label=\"Meddelande\" label-for=\"input-desc\">\r\n          <editor\r\n            id='input-desc'\r\n            v-model=\"form.comment\"\r\n            api-key=\"qjaly68mahdluhx0rongdllvelixwgn18730f5z7fdzq6hq2\"\r\n            :init=\"{\r\n              height: 500,\r\n              menubar: false,\r\n              plugins: [\r\n                'advlist autolink lists link image charmap print preview anchor',\r\n                'searchreplace visualblocks code fullscreen',\r\n                'insertdatetime media table paste code help wordcount'\r\n              ],\r\n              toolbar:\r\n                'undo redo | formatselect | bold italic backcolor | \\\r\n                  alignleft aligncenter alignright alignjustify | \\\r\n                  bullist numlist outdent indent | removeformat'\r\n            }\"\r\n          />\r\n      </b-form-group>\r\n\r\n      <!-- <FileTable\r\n        :files=\"files\"\r\n        @onUploadFileClicked=\"selectFile\"\r\n        @downloadFileClicked=\"downloadFileClicked\"\r\n      />\r\n\r\n      <input hidden type=\"file\" id=\"file\" ref=\"file\" v-on:change=\"handleFileUpload()\" :accept=\"extensions\"/>\r\n -->\r\n      <b-form-group class='d-flex justify-content-end'>\r\n        <b-button type=\"button\" variant=\"primary\" @click=\"sendComment\">Skicka</b-button>\r\n      </b-form-group>\r\n\r\n    </b-form>\r\n    <div>\r\n      <div class='comment-task' v-for=\"(item, idx) in comments()\" :key=\"idx\">\r\n        <div :class='item.user_id == userid ? \"comment-default-title\" : \"comment-admin-title\"'>\r\n          <div class='d-sm-flex justify-content-between align-self-center p-sm-3'>\r\n            <div class='d-flex justify-content-start align-self-center'>\r\n              <span class='mr-sm-1'><i class='fas fa-user-circle' style=\"font-size:24px\"></i></span>\r\n              <div class='align-self-center'> {{ item.user_name == '' ? 'Unknown' : item.user_name }}</div>\r\n            </div>\r\n            <div class='align-self-center pr-sm-3'> {{ item.created_at == '' ? \"Date Unknown\" : item.created_at }} </div>\r\n          </div>\r\n        </div>\r\n        <div class='p-sm-3'>\r\n          <p class=\"my-4\" :html='item.text' v-html=\"item.text\">\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      <div class='comment-task'>\r\n        <div class='d-sm-flex justify-content-between comment-admin-title align-self-center p-sm-3'>\r\n          <div class='d-flex justify-content-start align-self-center'>\r\n            <span class='mr-sm-1'><i class='fas fa-user-circle' style=\"font-size:24px\"></i></span>\r\n            <div class='align-self-center'> Admin User Name</div>\r\n          </div>\r\n          <div class='align-self-center pr-sm-3'> Date Unkown </div>\r\n        </div>\r\n        <div class='p-sm-3'>\r\n          <p class=\"my-4\">\r\n            When admin response, we can use this style.\r\n            When you check all, I will remove this tag.\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- Todo Body -->\r\n\r\n  </div>\r\n  <!--end::Advance Table Widget 9-->\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n.checkbox.checkbox-light-success > span {\r\n  background-color: white;\r\n  border: 1px solid #ddd;\r\n}\r\n.comment-default-title {\r\n  background-color: #f3f6f9;\r\n  -webkit-box-shadow: 0px -3px 0px 0px #e2e2e2;\r\n  box-shadow: 0px -3px 0px 0px #e2e2e2;\r\n}\r\n.comment-admin-title {\r\n  background-color: #c0d9f1;\r\n  -webkit-box-shadow: 0px -1px 0px 0px #c0d9f1;\r\n  box-shadow: 0px -1px 0px 0px #c0d9f1;\r\n}\r\n.comment-task {\r\n  border: 1px solid #e2e2e2;\r\n}\r\n</style>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport Editor from '@tinymce/tinymce-vue';\r\n\r\nexport default {\r\n  name: 'support-chat-box',\r\n  props: ['todo', 'username', 'useremail', 'userid'],\r\n  components: {\r\n    editor: Editor,\r\n  },\r\n  watch: {\r\n    todo(newValue, oldValue) {\r\n      console.log(newValue, \"Todo Data\");\r\n      if (newValue.tasks.length === 0)\r\n        newValue.tasks.push(this.createTask(newValue.todo_id));\r\n    },\r\n  },\r\n  methods: {\r\n    comments() {\r\n      const comments = this.todo.tasks[0].comments;\r\n    \treturn comments.slice().reverse();\r\n    },\r\n    createTask(todo_id) {\r\n      axios\r\n        .post('/todo_task', {todo_id: todo_id} )\r\n        .then(res => {\r\n          this.toastr('success', 'OK', 'Ärendet har skapats');\r\n          return res.data.task;\r\n        })\r\n        .catch(err => {\r\n          console.error(err);\r\n          this.toastr('danger', 'Server Fel', 'Kunde inte skapa ärendet');\r\n        });\r\n    },\r\n    sendComment() {\r\n      this.editing = false;\r\n      const taskTodo = this.todo.tasks[0];\r\n\r\n      // post('/todo_task/comment', { from: 'top', comment: this.comment, todo_task_id: this.todo_task_id })\r\n      const from = 'sub';\r\n      const comment = this.form.comment;\r\n      const todo_task_id = taskTodo.todo_task_id;\r\n      axios\r\n        .post('/todo_task/comment', { from, comment , todo_task_id })\r\n        .then(res => {\r\n          this.form.comment = '';\r\n          const newComment = res.data.comment;\r\n          let spaceIndex = newComment.from.lastIndexOf(' ');\r\n          newComment.user_name = newComment.from.substring(0, spaceIndex);\r\n          newComment.user_email = newComment.from.substring(spaceIndex);\r\n          taskTodo.comments.push(newComment);\r\n          this.todo.tasks[0] = taskTodo;\r\n          console.log(res, \": Comments\");\r\n        })\r\n        .catch(err => {\r\n          console.error(err);\r\n          this.toastr('danger', 'Server Fel', 'Kunde inte skicka kommentar');\r\n        });\r\n    },\r\n    editComment() {\r\n      this.editing = true;\r\n    },\r\n    closeTodo() {\r\n      const todo = this.todo;\r\n      todo.status = 'DEL';\r\n      axios\r\n        .put('/todo', todo)\r\n        .then(res => {\r\n          console.log(res, \"Comment\");\r\n        })\r\n        .catch(err => {\r\n          console.error(err);\r\n          this.toastr('danger', 'Server Fel', 'Kunde inte skapa ärendet');\r\n        });\r\n    },\r\n    toastr(type, title, message) {\r\n      this.$emit('toastr', type, title, message);\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      editing: false,\r\n      form: {\r\n        username: '',\r\n        comment: '',\r\n      },\r\n      isCompleted(status) {\r\n        return status == 'DONE' || status == 'CN' || status == 'REJ' || status == 'DEL';\r\n      },\r\n      category: {\r\n        //Teknisk\r\n        N: 'NOTSET',\r\n        B: 'BUG' ,\r\n        F: 'FEATURE',\r\n        I: 'INFO',\r\n        S: 'SUPPORT',\r\n      },\r\n      supportOptions: [\r\n        // Allvarighetsgrad\r\n        'låg',\r\n        'låg',\r\n        'låg',\r\n        'låg',\r\n        'medel',\r\n        'medel',\r\n        'medel',\r\n        'hög',\r\n        'hög',\r\n        'hög',\r\n      ],\r\n      status: {\r\n        WAIT : 'VÄNTAR',\r\n        DRAFT: 'UTKAST',\r\n        NOT  : 'EJ KLAR',\r\n        DONE : 'KLART',\r\n        CN   : 'BEKRÄFTAD',\r\n        DEL  : 'BORTTAGEN',\r\n        ACC  : 'ACCEPTERAD',\r\n        REJ  : 'AVVISAD',\r\n        BAC  : 'BACKLOG',\r\n        FUT  : 'FRAMTID',\r\n        UNREAD : 'OLÄST',\r\n        READ : 'LÄST',\r\n        DOC  : 'STÄNGT'\r\n      },\r\n    };\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminTodoEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminTodoEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminTodoEdit.vue?vue&type=template&id=e7357844&scoped=true&\"\nimport script from \"./AdminTodoEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminTodoEdit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AdminTodoEdit.vue?vue&type=style&index=0&id=e7357844&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e7357844\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"px-5\" id=\"admin-support\">\r\n    <h5 class=\"mb-6 ml-2\">Admin Support</h5>\r\n    <AdminSupportTable\r\n      @selectTodo=\"selectTodo\"\r\n      :todos=\"todos\"\r\n      v-if='isTalongAdmin'\r\n    />\r\n    <b-card v-if='editing'>\r\n      <Chatbox\r\n        :todo='todo_selected'\r\n        :userid='userid'\r\n        :username='username'\r\n        :useremail='useremail'\r\n        @closeTodo='closeTodo'\r\n        id='supper-support-table'\r\n      />\r\n\r\n    </b-card>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n.checkbox.checkbox-light-success > span {\r\n  background-color: white;\r\n  border: 1px solid #ddd;\r\n}\r\n</style>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport { mapGetters } from 'vuex';\r\nimport { SET_COMPANIES } from '@/core/services/store/common.module';\r\nimport AdminSupportTable from '@/view/pages/ml/support/AdminSupportTable.vue';\r\nimport AdminTodoEdit from '@/view/pages/ml/support/AdminTodoEdit.vue';\r\nimport Chatbox from '@/view/pages/ml/support/Chatbox.vue';\r\n\r\nexport default {\r\n  name: 'admin-support',\r\n  components: {\r\n    AdminSupportTable,\r\n    AdminTodoEdit,\r\n    Chatbox\r\n  },\r\n  computed: {\r\n    ...mapGetters(['currentCompanyId', 'currentPeriodId', 'currentUserId', 'currentUser', 'isTalongAdmin'])\r\n  },\r\n  mounted() {\r\n    this.loadData();\r\n  },\r\n  data() {\r\n    return {\r\n      todos: [],\r\n      todo_selected: 0,\r\n      username: '',\r\n      userid: \"\",\r\n      useremail: \"\",\r\n      editing: false\r\n    };\r\n  },\r\n  watch: {\r\n    currentCompanyId(newValue, oldvalue) {\r\n      if (newValue) {\r\n        this.loadData();\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    async loadData() {\r\n      this.loadUser();\r\n      this.loadTodos();\r\n    },\r\n    loadTodos() {\r\n      // load the system todos\r\n      this.todos = [];\r\n      axios\r\n        .get(`/todo/admin`)\r\n        .then(res => {\r\n          if (res.status === 200) {\r\n            this.todos = res.data.todos;\r\n         }\r\n        })\r\n        .catch(err => {\r\n          console.error(err);\r\n          this.toastr('danger', 'Server Fel', 'Kunde inte lista ärenden');\r\n        });\r\n    },\r\n    loadUser() {\r\n      this.userid = this.currentUser.user_id;\r\n      this.useremail = this.currentUser.email;\r\n      axios\r\n        .get(`/user?user_id=${this.currentUserId}`)\r\n        .then(res => {\r\n          this.username = res.data.user.firstname + ' ' + res.data.user.lastname;\r\n        })\r\n        .catch(err => {\r\n          console.error(err);\r\n          this.toastr('danger', 'Server Fel', 'Kunde inte hämta användare');\r\n        });\r\n    },\r\n    selectTodo(todo_id) {\r\n      axios\r\n        .get(`/todo?todo_id=${todo_id}&company_id=${this.currentCompanyId}`)\r\n        .then(res => {\r\n          this.todo_selected = res.data.todo;\r\n          this.editing = true;\r\n          this.scrollToEditTodo(true);\r\n        })\r\n        .catch(err => {\r\n          console.error(err);\r\n          this.toastr('danger', 'Server Fel', 'Kunde inte hämta ärendet');\r\n        });\r\n    },\r\n    saveTodo() {\r\n\r\n    },\r\n\r\n    closeTodo(todo) {\r\n      let index = this.todos.findIndex(item => item.todo_id == todo.todo_id);\r\n      if (index != undefined) {\r\n        todo = this.todos[index];\r\n        todo.status = 'DOC';\r\n        this.todos.splice(index, 1, todo);\r\n      }\r\n    },\r\n\r\n    scrollToEditTodo() {\r\n      var that = this;\r\n      setTimeout(function () {\r\n        const el = document.getElementById('supper-support-table');\r\n\r\n        if (el) {\r\n          const yOffset = -70;\r\n          const y = el.getBoundingClientRect().top + window.pageYOffset + yOffset;\r\n\r\n          window.scrollTo({ top: y, behavior: 'smooth' });\r\n        }\r\n      }, 100);\r\n    },\r\n    toastr(type, title, message) {\r\n      this.$bvToast.toast(message, {\r\n        title: title,\r\n        autoHideDelay: 2000,\r\n        appendToast: true,\r\n        variant: type\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminSupport.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminSupport.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminSupport.vue?vue&type=template&id=019e9ce4&scoped=true&\"\nimport script from \"./AdminSupport.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminSupport.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AdminSupport.vue?vue&type=style&index=0&id=019e9ce4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"019e9ce4\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}