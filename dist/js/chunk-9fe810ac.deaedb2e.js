(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9fe810ac","chunk-10342efe"],{"00e2":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-modal",{model:{value:e.showSavedSearchModal,callback:function(t){e.showSavedSearchModal=t},expression:"showSavedSearchModal"}},[r("div",{staticClass:"table-responsive"},[r("table",{staticClass:"table table-head-custom table-vertical-center table-head-bg table-borderless"},[r("thead",[r("tr",{staticClass:"text-left"},[r("th",{attrs:{width:"55%"}},[e._v("Name")]),r("th",{attrs:{width:"35%"}},[e._v("Date")]),r("th")])]),r("tbody",[e._l(e.items,(function(t,n){return[r("tr",{key:n},[r("td",[r("span",{staticClass:"text-dark-75 d-block font-size-lg"},[e._v(" "+e._s(t.text)+" ")])]),r("td",[r("span",{staticClass:"text-dark-75 d-block font-size-lg"},[e._v(e._s(t.date))])]),r("td",[r("a",{staticClass:"btn btn-icon btn-light btn-sm mx-1",on:{click:function(r){return e.deleteQuery(t.value)}}},[r("span",{staticClass:"svg-icon svg-icon-md svg-icon-primary"},[r("inline-svg",{attrs:{src:"/assets/svg/Trash.svg"}})],1)])])])]}))],2)])])]),r("b-card",{scopedSlots:e._u([{key:"header",fn:function(){return[e.showNumClients?r("h5",{staticClass:"mb-1"},[r("b-icon",{staticClass:"mr-2",attrs:{icon:"check-circle","font-scale":"1.3",variant:e.selectedSearch&&!e.noPermission?"success":"secondary"}}),e._v(" Gör ett urval")],1):r("h5",[e._v("Gör en sökning")])]},proxy:!0}])},[r("b-collapse",{attrs:{visible:e.isShowSearch,id:"collapse-search-option"}},[r("b-row",{staticClass:"mt-5"},[r("b-form-group",{staticClass:"col-lg-12 col-sm-12",attrs:{id:"input-group-6",label:"Föreningar","label-for":"input-6"}},[r("CompanySelect",{ref:"companySelect",attrs:{ids:e.company_ids}})],1)],1),r("b-row",[r("b-form-group",{staticClass:"col-lg-6 col-sm-12",attrs:{label:"Förnamn","label-for":"new-search-firstname"}},[r("b-form-input",{attrs:{id:"new-search-firstname",placeholder:"Förnamn"},model:{value:e.form.firstname,callback:function(t){e.$set(e.form,"firstname",t)},expression:"form.firstname"}})],1),r("b-form-group",{staticClass:"col-lg-6 col-sm-12",attrs:{label:"Efternamn","label-for":"new-search-lastname"}},[r("b-form-input",{attrs:{id:"new-search-lastname",placeholder:"Efternamn"},model:{value:e.form.lastname,callback:function(t){e.$set(e.form,"lastname",t)},expression:"form.lastname"}})],1)],1),r("b-row",[r("b-form-group",{staticClass:"col-lg-6 col-sm-12",attrs:{label:"Gatuadress","label-for":"new-search-street"}},[r("b-form-input",{attrs:{id:"new-search-street",placeholder:"Gatuadress"},model:{value:e.form.street,callback:function(t){e.$set(e.form,"street",t)},expression:"form.street"}})],1),r("b-form-group",{staticClass:"col-lg-6 col-sm-12",attrs:{id:"input-group-7",label:"Region","label-for":"input-7"}},[r("multi-select",{ref:"regionSelect",attrs:{"selected-data":e.region_codes,data:e.regionOptions}})],1)],1),r("b-row",[r("b-form-group",{staticClass:"col-lg-6 col-sm-12",attrs:{label:"Postkod","label-for":"new-search-postcode"}},[r("b-form-input",{attrs:{id:"new-search-postcode",placeholder:"Postkod"},model:{value:e.form.zipcode,callback:function(t){e.$set(e.form,"zipcode",t)},expression:"form.zipcode"}})],1),r("b-form-group",{staticClass:"col-lg-6 col-sm-12",attrs:{label:"Land","label-for":"new-search-countries"}},[r("b-form-select",{attrs:{id:"new-search-countries"},model:{value:e.form.country,callback:function(t){e.$set(e.form,"country",t)},expression:"form.country"}},[r("b-form-select-option",{attrs:{value:"all"}},[e._v("Alla")]),e._l(e.countries,(function(t,n){return r("b-form-select-option",{key:"search-country-"+n,attrs:{value:t.iso}},[e._v(e._s(t.sv))])}))],2)],1)],1),r("b-row",[r("b-form-group",{staticClass:"col-lg-6 col-sm-12",attrs:{label:"Från Ålder","label-for":"new-search-fromage"}},[r("b-form-input",{attrs:{id:"new-search-fromage",placeholder:"Från"},model:{value:e.form.from_age,callback:function(t){e.$set(e.form,"from_age",t)},expression:"form.from_age"}})],1),r("b-form-group",{staticClass:"col-lg-6 col-sm-12",attrs:{label:"Till Ålder","label-for":"new-search-toage"}},[r("b-form-input",{attrs:{id:"new-search-toage",placeholder:"Till"},model:{value:e.form.to_age,callback:function(t){e.$set(e.form,"to_age",t)},expression:"form.to_age"}})],1)],1),r("b-row",[r("b-form-group",{staticClass:"col-lg-6 col-sm-12",attrs:{label:"Period","label-for":"new-search-period"}},[r("b-form-select",{attrs:{id:"new-search-period",options:e.periods,"text-field":"name","value-field":"id"},model:{value:e.form.period_id,callback:function(t){e.$set(e.form,"period_id",t)},expression:"form.period_id"}})],1),r("b-form-group",{staticClass:"col-lg-6 col-sm-12",attrs:{label:"Betalstatus för perioden","label-for":"new-search-payment"}},[r("b-form-select",{attrs:{id:"new-search-payment"},model:{value:e.form.payment,callback:function(t){e.$set(e.form,"payment",t)},expression:"form.payment"}},[r("b-form-select-option",{attrs:{value:"all"}},[e._v("Alla")]),e._l(e.payments,(function(t,n){return r("b-form-select-option",{key:"search-payment-"+n,attrs:{value:t.value}},[e._v(e._s(t.text))])}))],2)],1)],1),r("b-row",[r("b-form-group",{staticClass:"col-lg-6 col-sm-12",attrs:{label:"Kön","label-for":"new-search-gender"}},[r("b-form-select",{attrs:{id:"new-search-gender"},model:{value:e.form.gender,callback:function(t){e.$set(e.form,"gender",t)},expression:"form.gender"}},[r("b-form-select-option",{attrs:{value:"all"}},[e._v("Alla")]),e._l(e.genders,(function(t,n){return r("b-form-select-option",{key:"search-gender-"+n,attrs:{value:t.value}},[e._v(e._s(t.text))])}))],2)],1),r("b-form-group",{staticClass:"col-lg-6 col-sm-12",attrs:{label:"LADOK status","label-for":"new-search-ladoks"}},[r("b-form-select",{attrs:{id:"new-search-ladoks"},model:{value:e.form.ladok,callback:function(t){e.$set(e.form,"ladok",t)},expression:"form.ladok"}},[r("b-form-select-option",{attrs:{value:"all"}},[e._v("Alla")]),e._l(e.ladoks,(function(t,n){return r("b-form-select-option",{key:"search-ladok-"+n,attrs:{value:t.value}},[e._v(e._s(t.text))])}))],2)],1)],1),r("b-form-group",[r("b-row",{staticClass:"mb-5"},[r("b-col",{staticClass:"d-flex align-items-center"},[r("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.search_clients,expression:"search_clients"}],attrs:{type:"checkbox",name:""},domProps:{checked:Array.isArray(e.search_clients)?e._i(e.search_clients,null)>-1:e.search_clients},on:{change:function(t){var r=e.search_clients,n=t.target,a=!!n.checked;if(Array.isArray(r)){var s=null,o=e._i(r,s);n.checked?o<0&&(e.search_clients=r.concat([s])):o>-1&&(e.search_clients=r.slice(0,o).concat(r.slice(o+1)))}else e.search_clients=a}}}),r("span")]),r("span",{staticClass:"ml-3 cursor-pointer",on:{click:function(t){e.search_clients=!e.search_clients}}},[e._v("Sök medlemmar")])]),r("b-col",{staticClass:"d-flex align-items-center"},[r("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.missing_email,expression:"missing_email"}],attrs:{type:"checkbox",name:""},domProps:{checked:Array.isArray(e.missing_email)?e._i(e.missing_email,null)>-1:e.missing_email},on:{change:function(t){var r=e.missing_email,n=t.target,a=!!n.checked;if(Array.isArray(r)){var s=null,o=e._i(r,s);n.checked?o<0&&(e.missing_email=r.concat([s])):o>-1&&(e.missing_email=r.slice(0,o).concat(r.slice(o+1)))}else e.missing_email=a}}}),r("span")]),r("span",{staticClass:"ml-3 cursor-pointer",on:{click:function(t){e.missing_email=!e.missing_email}}},[e._v("Endast medlemmar som saknar e-post")])])],1),r("b-row",{staticClass:"mb-5"},[r("b-col",{staticClass:"d-flex align-items-center"},[r("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.has_error,expression:"has_error"}],attrs:{type:"checkbox",name:""},domProps:{checked:Array.isArray(e.has_error)?e._i(e.has_error,null)>-1:e.has_error},on:{change:function(t){var r=e.has_error,n=t.target,a=!!n.checked;if(Array.isArray(r)){var s=null,o=e._i(r,s);n.checked?o<0&&(e.has_error=r.concat([s])):o>-1&&(e.has_error=r.slice(0,o).concat(r.slice(o+1)))}else e.has_error=a}}}),r("span")]),r("span",{staticClass:"ml-3 cursor-pointer",on:{click:function(t){e.has_error=!e.has_error}}},[e._v("Endast medlemmar med fel")])]),r("b-col",{staticClass:"d-flex align-items-center"},[r("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.has_membership,expression:"has_membership"}],attrs:{type:"checkbox",name:""},domProps:{checked:Array.isArray(e.has_membership)?e._i(e.has_membership,null)>-1:e.has_membership},on:{change:function(t){var r=e.has_membership,n=t.target,a=!!n.checked;if(Array.isArray(r)){var s=null,o=e._i(r,s);n.checked?o<0&&(e.has_membership=r.concat([s])):o>-1&&(e.has_membership=r.slice(0,o).concat(r.slice(o+1)))}else e.has_membership=a}}}),r("span")]),r("span",{staticClass:"ml-3 cursor-pointer",on:{click:function(t){e.has_membership=!e.has_membership}}},[e._v("Endast medlemmar som har bekräftat medlemskap för perioden")])])],1),r("b-row",{staticClass:"mb-5"},[r("b-col",{staticClass:"d-flex align-items-center"},[r("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.is_stickprov,expression:"is_stickprov"}],attrs:{type:"checkbox",name:""},domProps:{checked:Array.isArray(e.is_stickprov)?e._i(e.is_stickprov,null)>-1:e.is_stickprov},on:{change:function(t){var r=e.is_stickprov,n=t.target,a=!!n.checked;if(Array.isArray(r)){var s=null,o=e._i(r,s);n.checked?o<0&&(e.is_stickprov=r.concat([s])):o>-1&&(e.is_stickprov=r.slice(0,o).concat(r.slice(o+1)))}else e.is_stickprov=a}}}),r("span")]),r("span",{staticClass:"ml-3 cursor-pointer",on:{click:function(t){e.is_stickprov=!e.is_stickprov}}},[e._v("Endast medlemmar i stickprover")])]),e.showEvents?r("b-col",{staticClass:"d-flex align-items-center"},[r("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.isShowEvents,expression:"isShowEvents"}],attrs:{type:"checkbox",name:""},domProps:{checked:Array.isArray(e.isShowEvents)?e._i(e.isShowEvents,null)>-1:e.isShowEvents},on:{change:function(t){var r=e.isShowEvents,n=t.target,a=!!n.checked;if(Array.isArray(r)){var s=null,o=e._i(r,s);n.checked?o<0&&(e.isShowEvents=r.concat([s])):o>-1&&(e.isShowEvents=r.slice(0,o).concat(r.slice(o+1)))}else e.isShowEvents=a}}}),r("span")]),r("span",{staticClass:"ml-3 cursor-pointer",on:{click:function(t){e.isShowEvents=!e.isShowEvents}}},[e._v("Sök med evenemang")])]):e._e()],1),r("b-row",[r("b-col",{staticClass:"d-flex align-items-center"},[r("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.search_users,expression:"search_users"}],attrs:{type:"checkbox",name:""},domProps:{checked:Array.isArray(e.search_users)?e._i(e.search_users,null)>-1:e.search_users},on:{change:function(t){var r=e.search_users,n=t.target,a=!!n.checked;if(Array.isArray(r)){var s=null,o=e._i(r,s);n.checked?o<0&&(e.search_users=r.concat([s])):o>-1&&(e.search_users=r.slice(0,o).concat(r.slice(o+1)))}else e.search_users=a}}}),r("span")]),r("span",{staticClass:"ml-3 cursor-pointer",on:{click:function(t){e.search_users=!e.search_users}}},[e._v("Sök användare")])])],1)],1),e.isShowSearch&&e.search_clients?r("search-client",{ref:"searchClient",attrs:{groups:e.groups,name:"searchClient"}}):e._e(),e.showEvents&&e.isShowEvents?r("search-with-event",{attrs:{events:e.events},on:{eventSelected:e.eventSelected}}):e._e(),e.search_users?r("user-search",{attrs:{selected_companies:e.selected_companies},on:{setUserQuery:e.setUserQuery}}):e._e(),r("b-row",[r("div",{staticClass:"col-12"},[r("div",{staticClass:"d-flex justify-content-end"},[r("b-button",{staticClass:"ml-2",attrs:{variant:"light",size:"sm"},on:{click:function(t){return e.onReset(t)}}},[e._v("Rensa")]),r("b-button",{staticClass:"ml-2",attrs:{variant:"primary",size:"sm",disabled:e.button_disabled},on:{click:function(t){return e.onSearch(t)}}},[e._v("Sök")])],1)])]),r("hr"),r("b-alert",{attrs:{show:e.showNumClients,variant:e.colorOne}},[e._v(" "+e._s(e.alertOne)+" ")]),r("b-form-group",{staticClass:"mt-9",attrs:{label:"Spara sökning / urval","label-for":"saved-name"}},[r("b-row",{attrs:{"align-v":"center"}},[r("b-col",{attrs:{md:"11"}},[r("b-form-input",{attrs:{placeholder:"Namn på sökning / urval",id:"new-search-savetext"},model:{value:e.form.savetext,callback:function(t){e.$set(e.form,"savetext",t)},expression:"form.savetext"}})],1),r("b-col",{attrs:{align:"end"}},[r("b-button",{attrs:{variant:"success",size:"sm"},on:{click:function(t){return e.onSave(t)}}},[e._v("Spara")])],1)],1)],1)],1),r("b-form-group",{attrs:{label:"Välj sparat urval","label-for":"select-savedsearch"}},[r("b-row",[r("b-col",{staticClass:"my-1",attrs:{md:"9"}},[r("div",{staticClass:"d-flex justify-content-between"},[r("b-form-select",{attrs:{id:"select-savedsearch",options:e.searchHistory},model:{value:e.selectedSearch,callback:function(t){e.selectedSearch=t},expression:"selectedSearch"}}),r("div",{staticClass:"m-auto pl-4"},[r("a",{staticClass:"btn btn-icon btn-light btn-sm",on:{click:function(t){e.showSavedSearchModal=!0}}},[r("span",{staticClass:"svg-icon svg-icon-md svg-icon-primary"},[r("inline-svg",{attrs:{src:"/assets/svg/CogWheel.svg"}})],1)])])],1)]),r("b-col",{staticClass:"my-1",attrs:{align:"end",md:"3"}},[e.isShowSearch?e._e():r("div",[e.showNumClients?r("b-button",{attrs:{variant:"primary"},on:{click:function(t){e.isShowSearch=!0}}},[e._v("SKAPA URVAL")]):r("b-button",{staticClass:"w-15",attrs:{variant:"primary"},on:{click:function(t){e.isShowSearch=!0}}},[e._v("Sök")])],1)])],1)],1),r("b-alert",{attrs:{show:e.showNumClients&&!e.isShowSearch,variant:e.colorOne}},[e._v(" "+e._s(e.alertOne)+" ")]),r("b-alert",{attrs:{show:e.noPermission,variant:"danger"}},[e._v(" Du har inte tillgång till valda föreningar. Be administratör att lägga till din användare i föreningen. ")]),r("b-alert",{attrs:{show:!e.queryOk&&!e.noPermission&&e.showNumClients,variant:"danger"}},[e._v(" Ett urval måste väljas ")]),e.isShowSearch?r("b-row",[r("b-col",{attrs:{align:"end"}},[r("b-button",{staticClass:"w-15",attrs:{variant:"primary"},on:{click:function(t){e.isShowSearch=!1}}},[e._v("Stäng")])],1)],1):e._e()],1)],1)},a=[],s=(r("99af"),r("4de4"),r("c740"),r("d81d"),r("a434"),r("b0c0"),r("a9e3"),r("96cf"),r("1da1")),o=r("2909"),c=r("5530"),l=r("bc3a"),u=r.n(l),d=r("c1df"),m=r.n(d),f=r("abb2"),p=r.n(f),h=r("2f62"),b=(r("fe87"),r("07cd")),g=r("95f6"),v=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-card",{staticClass:"mb-8"},[r("b-card-body",[r("b-form-group",{attrs:{label:"Sök efter användare baserat på titeln","label-for":"new-search-user-title"}},[r("v-select",{attrs:{multiple:"",id:"new-search-user-title",options:e.options},model:{value:e.showFields,callback:function(t){e.showFields=t},expression:"showFields"}}),r("div",{staticClass:"d-flex align-items-center pl-7 mt-3 mb-5"},[r("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.dir,expression:"dir"}],attrs:{type:"checkbox",name:""},domProps:{checked:Array.isArray(e.dir)?e._i(e.dir,null)>-1:e.dir},on:{change:function(t){var r=e.dir,n=t.target,a=!!n.checked;if(Array.isArray(r)){var s=null,o=e._i(r,s);n.checked?o<0&&(e.dir=r.concat([s])):o>-1&&(e.dir=r.slice(0,o).concat(r.slice(o+1)))}else e.dir=a}}}),r("span")]),r("span",{staticClass:"ml-3 cursor-pointer",on:{click:function(t){e.dir=!e.dir}}},[e._v("Användare som sitter i styrelse")])]),r("div",{staticClass:"d-flex align-items-center pl-7"},[r("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.acc,expression:"acc"}],attrs:{type:"checkbox",name:""},domProps:{checked:Array.isArray(e.acc)?e._i(e.acc,null)>-1:e.acc},on:{change:function(t){var r=e.acc,n=t.target,a=!!n.checked;if(Array.isArray(r)){var s=null,o=e._i(r,s);n.checked?o<0&&(e.acc=r.concat([s])):o>-1&&(e.acc=r.slice(0,o).concat(r.slice(o+1)))}else e.acc=a}}}),r("span")]),r("span",{staticClass:"ml-3 cursor-pointer",on:{click:function(t){e.acc=!e.acc}}},[e._v("Användare som är revisor ")])])],1)],1)],1)},y=[],_=r("4a7a"),w=r.n(_),k=(r("6dfc"),{name:"userSearch",components:{vSelect:w.a},props:["selected_companies"],data:function(){return{showFields:[],options:[],option_list:[{key:"uPfNXjet",label:"Ordförande"},{key:"jGWnE8Yt",label:"Vice Ordförance"},{key:"nxE5VM7L",label:"Kassör"},{key:"elqHHWrf",label:"Ledamot"},{key:"HkqPDwKL",label:"Generalsekreterare"},{key:"flfhSGnZ",label:"Kanslist"},{key:"0xRPnqC6",label:"Kontaktperson"},{key:"MbgRnP0A",label:"Övrigt"}],fields:[],acc:!1,dir:!1,payload:{dir:!1,acc:!1,titles:[]}}},computed:Object(c["a"])({},Object(h["b"])(["companies"])),watch:{showFields:function(e,t){this.setTitles(t),1===t.length&&"all"===t[0].key&&this.showFields.splice(0,1),this.emitPayload()},dir:function(e,t){this.emitPayload()},acc:function(e,t){this.emitPayload()},selected_companies:function(e,t){this.setList()}},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.setList();case 2:e.emitPayload();case 3:case"end":return t.stop()}}),t)})))()},methods:{setList:function(){var e=this;this.options=[],u.a.get("/system/titles").then((function(t){var r=t.data.titles;r.filter((function(t){e.option_list.filter((function(r){t.id===r.key&&e.options.push(r)}))}))})).catch((function(t){console.error(t),e.toastr("danger","Fel","Kunde inte lista systemtitlar")}))},setTitles:function(){var e=[];this.showFields.filter((function(t){e=e.concat(t.key)})),this.payload.titles=e},emitPayload:function(){this.payload.dir=this.dir,this.payload.acc=this.acc,this.$emit("setUserQuery",this.payload)}}}),x=k,C=(r("130a"),r("2877")),S=r("6544"),P=r.n(S),E=r("b974"),A=Object(C["a"])(x,v,y,!1,null,"83f91ef0",null),O=A.exports;P()(A,{VSelect:E["a"]});var $=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mb-8"},[r("b-card",[r("div",{staticClass:"card-body "},[r("div",{staticClass:"d-flex align-items-center pl-7 pb-5"},[r("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.isOldEvent,expression:"isOldEvent"}],attrs:{type:"checkbox",name:""},domProps:{checked:Array.isArray(e.isOldEvent)?e._i(e.isOldEvent,null)>-1:e.isOldEvent},on:{change:function(t){var r=e.isOldEvent,n=t.target,a=!!n.checked;if(Array.isArray(r)){var s=null,o=e._i(r,s);n.checked?o<0&&(e.isOldEvent=r.concat([s])):o>-1&&(e.isOldEvent=r.slice(0,o).concat(r.slice(o+1)))}else e.isOldEvent=a}}}),r("span")]),r("span",{staticClass:"ml-3 cursor-pointer",on:{click:function(t){e.isOldEvent=!e.isOldEvent}}},[e._v("Tidigare evenemang")])]),r("hr",{staticClass:"my-1"}),r("div",{staticClass:"table-responsive"},[r("table",{staticClass:"table table-head-custom table-vertical-center table-head-bg table-borderless"},[r("thead",[r("tr",{staticClass:"text-left"},[r("th",{staticClass:"pl-7",staticStyle:{"min-width":"40px"}}),r("th",[e._v("Evenemang")]),r("th",[e._v("Datum")])])]),e._l(e.items,(function(t,n){return r("tr",{key:t.id,staticClass:"cursor-pointer"},[r("td",{staticClass:"pl-7",staticStyle:{"min-width":"40px"}},[r("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"item.selected"}],attrs:{type:"checkbox",name:""},domProps:{checked:Array.isArray(t.selected)?e._i(t.selected,null)>-1:t.selected},on:{change:[function(r){var n=t.selected,a=r.target,s=!!a.checked;if(Array.isArray(n)){var o=null,i=e._i(n,o);a.checked?i<0&&e.$set(t,"selected",n.concat([o])):i>-1&&e.$set(t,"selected",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(t,"selected",s)},function(t){return e.selectionChanged(n)}]}}),r("span")])]),r("td",{on:{click:function(t){return e.selectEvent(n)}}},[e._v(e._s(t.name))]),r("td",{on:{click:function(t){return e.selectEvent(n)}}},[e._v(e._s(t.to_datetime))])])})),r("tbody")],2)])])])],1)},R=[],I={name:"searchWithEvent",props:["events"],data:function(){return{eventHistory:[{value:null,text:"Det finns inga sparade sökningar"}],fields:[{key:"selected",label:""},{key:"name",label:"Evenemang"},{key:"to_datetime",label:"Datum"}],items:[],items_all:[],selectedEvent:null,isOldEvent:!1}},methods:{selectEvent:function(e){this.items[e].selected=!this.items[e].selected,this.selectionChanged(e)},selectionChanged:function(e){var t=this.items.filter((function(e){return e.selected})).map((function(e){return"".concat(e.id)}));console.log(t,"IDS"),this.$emit("eventSelected",t)},filterEvents:function(){var e=this,t=new Date;if(this.events&&this.events.length>0){var r=this.events.map((function(e){return{id:e.event_id,selected:!1,name:e.name,to_datetime:m()(e.to_datetime).format("YYYY-MM-DD hh:mm:ss")}}));this.items=r.filter((function(r){var n=Date.parse(r.to_datetime);return e.isOldEvent?t>n:t<n}))}}},watch:{isOldEvent:function(e,t){this.filterEvents(),this.$emit("eventSelected",[])}},mounted:function(){this.filterEvents()}},M=I,j=(r("68f3"),Object(C["a"])(M,$,R,!1,null,"67b7c62a",null)),F=j.exports,T=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-card",{staticClass:"mb-8"},[r("b-card-body",[r("b-form-group",{attrs:{label:"Sök efter klienter baserat på attribut inom kategorin"}},[r("b-row",{attrs:{"align-v":"center"}},[r("b-col",[r("b-form-select",{attrs:{options:e.groups},model:{value:e.group_id,callback:function(t){e.group_id=t},expression:"group_id"}})],1),r("b-col",[e.group_id?r("multi-select",{ref:"selectAttr",attrs:{data:e.props,"selected-data":[]}}):e._e()],1)],1)],1)],1)],1)},V=[],N={name:"searchClient",components:{MultiSelect:g["a"]},props:{groups:{type:Array,default:[]}},data:function(){return{group_id:"",props:[],prop_ids:[]}},computed:Object(c["a"])({},Object(h["b"])(["currentCompanyId"])),watch:{group_id:function(e,t){e&&this.loadProps(e),t&&this.$refs["selectAttr"].reset()}},methods:{loadProps:function(e){var t=this;u.a.get("/member_property/list?group_id=".concat(e)).then((function(e){200===e.status&&(t.props=[],t.props=e.data.properties.map((function(e){return{code:e.prop_id,label:e.name}})))})).catch((function(e){t.toastr("danger","Server Fel","Kunde inte lista attribut")}))},getData:function(){return this.prop_ids=this.group_id?this.$refs["selectAttr"].getData():[],[{group_id:this.group_id,prop_ids:this.prop_ids}]}},mounted:function(){this.groups.length>0&&(this.group_id=this.groups[0].value)}},D=N,L=Object(C["a"])(D,T,V,!1,null,"19c20ec1",null),q=L.exports,z={name:"search-options",components:{SearchWithEvent:F,VueSimpleRangeSlider:p.a,CompanySelect:b["a"],MultiSelect:g["a"],UserSearch:O,searchClient:q},data:function(){return{form:{firstname:"",lastname:"",street:"",postcode:"",country:"all",period_id:"",gender:"all",payment:"all",ladok:"all",incorrect_membership:!1,sample_member:!1,age_range:[0,25],savetext:""},user:{},search_users:!1,search_clients:!0,is_stickprov:!1,missing_email:!1,has_error:!1,has_membership:!1,eventOptions:[],region_code:"",commune_code:"",regions:{},communes:{},regionOptions:[],communeOptions:[],queries:[],groups:[],searchHistory:[{value:null,text:"Det finns inga sparade sökningar"}],selectedSearch:null,isShowSearch:this.collapse,showSavedSearchModal:!1,fields:[{key:"text",label:"Name"},{key:"date",label:"Date"},{key:"action"}],urvals:[{key:"text",label:"Name"},{key:"date",label:"Date"},{key:"count",label:"Count"}],events:[],selectedEventIds:[],isShowEvents:!1,company_ids:[],region_codes:[],colorOne:"success"}},props:{countries:{type:Array,default:[]},periods:{type:Array,default:[]},genders:{type:Array,default:[]},payments:{type:Array,default:[]},ladoks:{type:Array,default:[]},showEvents:{type:Boolean,default:!1},showRegions:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},useSavedSearch:{type:Boolean,default:!0},button_disabled:{type:Boolean,default:!1},noPermission:{type:Boolean,default:!1},queryOk:{type:Boolean,default:!1},numClients:{type:Number,default:null},showNumClients:{type:Boolean,default:!1}},mounted:function(){this.form.period_id=this.currentPeriodId,this.showEvents&&this.loadEvents(),this.showRegions&&this.loadRegions(),this.loadCompany(),this.loadGroups()},watch:{selectedSearch:function(e,t){e||(this.selectedSearch=null);for(var r=0;r<this.queries.length;++r)if(this.queries[r].id===e){this.setQuery(this.queries[r]);break}this.$emit("querySelected",e)},commune_code:function(e,t){e&&this.region_code in this.region_code&&e in this.regions[this.region_code].communes&&(this.form.commune=this.regions[this.region_code].communes[newValue].commune)},region_code:function(e,t){e&&(e===this.region_code?this.form.region="Alla":e in this.region_code&&(this.form.region=this.regions[e].region))},currentPeriodId:function(e,t){this.form.period_id=e},isShowSearch:function(e,t){!0===e&&this.scrollToClassName("card mb-8")}},computed:Object(c["a"])(Object(c["a"])({},Object(h["b"])(["currentCompanyId","currentPeriodId"])),{},{selected_companies:function(){return this.$refs["companySelect"].getCompanies()},items:function(){return this.searchHistory.filter((function(e){return null!==e.value}))},alertOne:function(){var e="";return null===this.numClients||void 0===this.numClients?(this.colorOne="warning",e="Gör en sökning för att kontrollera hur många medlemmar som finns i urvalet"):(e="Antal medlemmar i urvalet: ".concat(this.numClients),this.colorOne="success"),e}}),methods:{eventSelected:function(e){this.event_ids=e,this.$emit("eventSelected",e)},urvalClickHandler:function(e,t){var r=this,n=this.queries.findIndex((function(t){return t.id===e.value})),a=this.queries[n],s=this;a&&u.a.post("/search/direct",a).then((function(t){if(r.search_button_disabled=!1,200===t.status){var n=s.searchHistory.findIndex((function(t){return e.value==t.value})),a=s.searchHistory[n],c=[].concat(Object(o["a"])(t.data.users),Object(o["a"])(t.data.clients));a.count=c.map((function(e){return e.period=t.data.periods.length>0?t.data.periods[r.clients[i].period_id].name:"",e.company=e.current_company_id?t.data.companies[e.current_company_id]:t.data.companies[e.company_id],e})).length,s.searchHistory.splice(n,1,a)}else r.toastr("danger","Kan inte publicera","Det finns inga underföreningar i ärendet")})).catch((function(e){r.search_button_disabled=!1,console.error(e),r.toastr("danger","Server fel","Kunde inte söka")}))},deleteQuery:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,u.a.delete("/company/searchquery?id=".concat(e,"&company_id=").concat(t.currentCompanyId));case 2:n=r.sent,200===n.status?(t.toastr("success","Ok","Den valda sparade sökningen har just tagits bort."),t.searchHistory=t.searchHistory.filter((function(t){return t.value!==e})),t.selectedSearch=null):t.toastr("danger","Server Fel","Det gick inte att ta bort den valda sparade sökningar.");case 4:case"end":return r.stop()}}),r)})))()},setUserQuery:function(e){this.user=e},selectQuery:function(e){this.selectedSearch=e},createQuery:function(){return this.getQuery()},loadCompany:function(){var e=this;u.a.get("/company?company_id=".concat(this.currentCompanyId)).then((function(t){200===t.status&&(e.company=t.data.company),e.searchHistory=[{value:null,text:"Välj sparad sökning"}],e.queries=[];for(var r=0;r<e.company.settings.search_queries.length;++r){var n=e.company.settings.search_queries[r];e.queries.push(n),e.searchHistory.push({value:n.id,text:n.name,date:n.date})}})).catch((function(t){console.error(t),e.toastr("danger","Server Fel","Kunde inte hämta föreningsinställningar")}))},loadEvents:function(){var e=this;u.a.get("/events/list?company_id=".concat(this.currentCompanyId,"&period_id=").concat(this.currentPeriodId)).then((function(t){e.events=t.data.events[e.currentCompanyId]})).catch((function(t){console.error(t),e.toastr("danger","Server Fel","Kunde inte hämta evenemangslista")}))},loadGroups:function(){var e=this;this.groups=[],u.a.get("/property_group/list?company_id=".concat(this.currentCompanyId,"&period_id=").concat(this.currentPeriodId)).then((function(t){200===t.status&&(e.groups=t.data.groups.map((function(e){return{text:e.name,value:e.group_id}})))})).catch((function(t){console.error(t),e.toastr("danger","Server Fel","Kunde inte lista kategorier")}))},resetQuery:function(){this.search_clients=!0,this.search_users=!1,this.has_error=!1,this.is_stickprov=!1,this.isShowEvents=!1,this.has_error=!1,this.has_membership=!1,this.missing_email=!1,this.$refs["companySelect"].reset(),this.$refs["regionSelect"].reset(),this.commune_code="",this.form.gender="all",this.form.firstname="",this.form.lastname="",this.form.street="",this.form.country="all",this.form.payment="all",this.form.email="",this.form.ladok="all",this.form.zipcode="",this.form.period_id=this.currentPeriodId,this.form.from_age=0,this.form.to_age=200},setQuery:function(e){console.log("setting query"),console.log(e),this.search_clients=!1,this.search_users=!1;for(var t=0;t<e.types.length;++t)"member"===e.types[t]&&(this.search_clients=!0),"user"===e.types[t]&&(this.search_users=!0);this.region_code="",this.commune_code="",this.form.gender="all",this.form.firstname="",this.form.lastname="",this.form.email="",this.form.ladok="all",this.form.zipcode="",this.form.period_id=this.currentPeriodId,this.form.from_age=0,this.form.to_age=200,this.has_error=!1,this.company_ids=e.company_ids,this.region_codes=e.region_codes,this.form.zipcode=e.postcode,this.form.street=e.street,this.form.country=e.country,this.form.payment=e.payment,e.region_codes&&e.region_codes.length>0&&(this.region_code=e.region_codes[0]),e.commune_codes&&e.commune_codes.length>0&&(this.commune_code=e.commune_codes[0]),e.sexes&&e.sexes.length>0&&(this.form.gender=e.sexes[0]);for(t=0;t<e.variables.length;++t){var r=e.variables[t].key,n=e.variables[t].value;"firstname"===r?this.form.firstname=n:"lastname"===r?this.form.lastname=n:"email"===r?this.form.email=n:"from_age"===r?this.form.from_age=n:"to_age"===r?this.form.to_age=n:"zipcode"===r?this.form.zipcode=n:"ladok"===r?this.form.ladok=n:"personnr"===r?this.form.personnr=n:"has_error"===r?this.has_error=Boolean(n):"cl_conf"===r?this.has_membership=Boolean(n):"no_email"===r?this.missing_email=Boolean(n):"period_id"===r?this.form.period_id=n:"is_stickprov"===r&&(this.is_stickprov=n)}},getQuery:function(){var e=""===this.commune_code?null:[this.commune_code],t=""===this.form.gender?null:[this.form.gender],r=this.showEvents?this.event_ids:null,n=this.user,a=[],s=[];return this.search_users&&s.push("user"),this.search_clients&&s.push("member"),this.is_set(this.form.firstname)&&a.push({key:"firstname",value:this.form.firstname}),this.is_set(this.form.lastname)&&a.push({key:"lastname",value:this.form.lastname}),this.is_set(this.form.ladok)&&a.push({key:"ladok",value:this.form.ladok}),this.is_set(this.form.address)&&a.push({key:"address",value:this.form.address}),this.is_set_len(this.form.zipcode,5)&&a.push({key:"zipcode",value:this.form.zipcode}),this.is_set(this.form.email)&&a.push({key:"email",value:this.form.email}),this.is_set(this.form.personnr)&&a.push({key:"personnr",value:this.form.personnr}),this.is_set(this.form.period_id)&&a.push({key:"period_id",value:this.form.period_id}),this.is_set(this.form.from_age)&&a.push({key:"from_age",value:this.form.from_age}),this.is_set(this.form.to_age)&&a.push({key:"to_age",value:this.form.to_age}),this.is_set(this.missing_email)&&a.push({key:"no_email",value:this.missing_email}),this.is_set(this.form.zipcode)&&a.push({key:"zipcode",value:this.form.zipcode}),this.is_set(this.form.country)&&a.push({key:"country",value:this.form.country}),this.has_error&&a.push({key:"has_error",value:1}),this.is_stickprov&&a.push({key:"is_stickprov",value:1}),this.has_membership&&a.push({key:"cl_conf",value:1}),{id:"",name:this.form.savetext,variables:a,user:n,date:m()().format("YYYY-MM-DD"),event_ids:r,company_ids:this.$refs["companySelect"].getCompanies(),types:s,commune_codes:e,region_codes:this.$refs["regionSelect"].getData(),groups:this.search_clients?this.$refs["searchClient"].getData():[],sexes:t,selected_company_id:this.currentCompanyId,company_id:this.currentCompanyId,order_by:{key:"lastname",value:"desc"},payment:this.form.payment,street:this.form.street,limit:999999,page:1}},is_set_len:function(e,t){return null!==e&&void 0!==e&&""!==e&&" "!==e&&(e+"").length===t},is_set:function(e){return null!==e&&void 0!==e&&""!==e&&" "!==e},onSave:function(e){var t=this;e.preventDefault(),u.a.post("/search/query",this.getQuery()).then((function(e){t.toastr("success","OK","Sökning skapad");var r=e.data.query;t.$emit("queryCreated",r),t.searchHistory.push({value:r.id,text:r.name}),t.selectedSearch=r.id})).catch((function(e){console.error(e),t.toastr("danger","Server Fel","Kunde inte skapa sökning")}))},onReset:function(e){e.preventDefault(),this.resetQuery()},onSearch:function(e){e.preventDefault(),this.$emit("onSearch",this.getQuery())},loadRegions:function(){var e=this;u.a.get("/location/regions").then((function(t){for(var r in e.regions=t.data.regions,e.regionOptions=[],e.regions)e.regionOptions.push({code:r,label:e.regions[r].region});e.regionOptions.sort((function(e,t){return e.text<t.text?-1:e.text>t.text?1:0}))})).catch((function(t){console.error(t),e.toastr("danger","Server Fel","Kunde inte hämta regioner")}))},selectRegion:function(e){this.loadCommunes(e,1)},getCommunes:function(e){var t=[],r=this.regions[e].communes;for(var n in this.communes=r,r)t.push({value:n,text:r[n].commune});return t.sort((function(e,t){return e.text<t.text?-1:e.text>t.text?1:0})),t},loadCommunes:function(e,t){this.communeOptions=[];var r=this.regions[e].communes;for(var n in this.communes=r,r)this.communeOptions.push({value:n,text:r[n].commune});this.communeOptions.sort((function(e,t){return e.text<t.text?-1:e.text>t.text?1:0})),1==t?this.communeOptions1=this.communeOptions:this.communeOptions2=this.communeOptions},scrollToClassName:function(e){var t=this;setTimeout((function(){var r=t.$el.getElementsByClassName(e)[0];if(r){var n=-70,a=r.getBoundingClientRect().top+window.pageYOffset+n;window.scrollTo({top:a,behavior:"smooth"})}}),100)},toastr:function(e,t,r){this.$bvToast.toast(r,{title:t,autoHideDelay:2e3,appendToast:!0,variant:e})}}},B=z,U=(r("7958"),Object(C["a"])(B,n,a,!1,null,"e6b3c238",null));t["a"]=U.exports},"0367":function(e,t,r){},"045f":function(e,t,r){"use strict";r("becd")},"04a0":function(e,t,r){},"0575":function(e,t,r){"use strict";r("589d")},"07ca":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"px-5",attrs:{id:"page-advanced-search"}},[r("h5",{staticClass:"mb-6 ml-2"},[e._v("Avancerad sök")]),r("b-card",{attrs:{"no-body":""}},[r("div",{staticClass:"create-member"},[r("b-button",{staticClass:"mr-2",attrs:{variant:"success"},on:{click:e.createMember}},[e._v("Skapa ny medlem")]),r("span",{},[e._v("Avancerad sökfunktion, spara urval och exporter till Excel")])],1)]),e.showNew?r("create-member",{staticClass:"mt-4 create-member-section",attrs:{regions:e.regions,countries:e.countries,genders:e.genders,isNew:null===e.client_id,client_id:e.client_id,constreq:e.constreq},on:{onClose:e.createMember,onDelete:e.deleteMember}}):e._e(),r("b-row",{staticClass:"mt-4"},[r("b-col",{attrs:{lg:"12"}},[r("search-options",{ref:"searchOptions",staticClass:"mt-4",attrs:{countries:e.countries,periods:e.periods,genders:e.genders,payments:e.payments,ladoks:e.ladoks,"no-permission":e.noPermission,button_disabled:e.search_button_disabled,showEvents:"",showRegions:""},on:{onSearch:e.onSearch,queryCreated:e.queryCreated,querySelected:e.querySelected}})],1),r("b-col",{attrs:{lg:"12"}},[r("b-card",{staticClass:"search-result-scrollto",scopedSlots:e._u([{key:"header",fn:function(){return[r("div",{staticClass:"d-flex justify-content-between align-items-center"},[r("h5"),r("b-dropdown",{attrs:{text:"Exportera",variant:"outline-success"}},[r("b-dropdown-item",{on:{click:function(t){return e.exportExcel(t)}}},[r("fa-icon",{staticClass:"mr-2",attrs:{icon:["fas","file-excel"],size:"lg"}}),e._v(" Excel ")],1)],1)],1)]},proxy:!0}])},[r("div",{staticClass:"p-6"},[r("search-result",{staticClass:"search-results",attrs:{clients:e.clients},on:{clientSelected:e.clientSelected,showFields:e.setExcelColumns}})],1)])],1)],1)],1)},a=[],s=(r("99af"),r("4de4"),r("d81d"),r("b0c0"),r("4fad"),r("b64b"),r("d3b7"),r("ac1f"),r("3ca3"),r("5319"),r("ddb0"),r("2b3d"),r("2909")),o=r("3835"),i=(r("96cf"),r("1da1")),c=r("5530"),l=r("bc3a"),u=r.n(l),d=r("7f08"),m=r("00e2"),f=r("676f"),p=r("c1df"),h=r.n(p),b=r("2f62"),g={name:"advancedSearch",components:{createMember:d["a"],searchOptions:m["a"],searchResult:f["a"]},computed:Object(c["a"])({},Object(b["b"])(["currentCompanyId","currentPeriodId","periods"])),data:function(){return{noPermission:!1,client_id:null,showNew:!1,search_button_disabled:!1,selectedSearch:null,searchHistory:[{value:null,text:"Välj sparad sökning"}],regions:[],countries:[],genders:[{value:"M",text:"Man"},{value:"F",text:"Kvinna"},{value:"O",text:"Annat"},{value:"U",text:"Okänt"}],payments:[{value:"Y",text:"Betalat"},{value:"N",text:"Ej Betalat"}],ladoks:[{value:"OK",text:"Aktiv Student"},{value:"NO",text:"Ej Student"},{value:"S",text:"Väntar"},{value:"N",text:"Saknas"}],clients:[],columns:[],constreq:[]}},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n,a,s,i,c,l,d,m,f,p,h,b,g;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.$loading.show(),t.next=3,u.a.get("/location/regions");case 3:if(n=t.sent,200===n.status)for(a=0,s=Object.entries(n.data.regions);a<s.length;a++){for(i=Object(o["a"])(s[a],2),i[0],c=i[1],l=[],d=0,m=Object.entries(c.communes);d<m.length;d++)f=Object(o["a"])(m[d],2),p=f[0],h=f[1],l.push({value:p,text:h.commune});e.regions.push({text:c.region,value:c.region_code,communes:l})}return t.next=7,u.a.get("/location/countries");case 7:return b=t.sent,200===b.status&&(e.countries=b.data.countries),t.next=11,u.a.get("/company?company_id=".concat(e.currentCompanyId));case 11:g=t.sent,200===g.status&&(e.constreq=g.data.company.constreq),r.hide();case 14:case"end":return t.stop()}}),t)})))()},watch:{currentCompanyId:function(e,t){this.showNew=!1,this.clients=[]},currentPeriodId:function(e,t){this.showNew=!1,this.clients=[]}},methods:{clientSelected:function(e){this.client_id=e.client_id,this.showNew=!0,this.scrollToClassName("create-member-section")},scrollToClassName:function(e){var t=this;setTimeout((function(){var r=t.$el.getElementsByClassName(e)[0];if(r){var n=-70,a=r.getBoundingClientRect().top+window.pageYOffset+n;window.scrollTo({top:a,behavior:"smooth"})}}),100)},queryCreated:function(e){this.searchHistory.push({value:e.id,text:e.name})},querySelected:function(e){var t=this;e?u.a.post("/search/byquery",{query_id:e,company_id:this.currentCompanyId}).then((function(e){if(t.noPermission=403===e.status,200===e.status){var r=[].concat(Object(s["a"])(e.data.users),Object(s["a"])(e.data.clients));t.clients=r.map((function(t){return t.period=Object.keys(e.data.periods).length>0?e.data.periods[t.period_id].name:"",t.company=t.current_company_id?e.data.companies[t.current_company_id]:e.data.companies[t.company_id],t.rdt=h()(t.rdt).format("YYYY-MM-DD"),t})),t.scrollToClassName("search-result-scrollto")}500===e.status&&t.toastr("danger","Server fel","Kunde inte söka")})).catch((function(e){console.log(e),t.toastr("danger","Server Fel","Det valda valet kunde inte hittas.")})):(this.noPermission=!1,this.clients=[])},onSearch:function(e){var t=this,r=this.$loading.show();this.search_button_disabled=!0,u.a.post("/search/direct",e).then((function(e){if(t.noPermission=403===e.status,200===e.status){var n=[].concat(Object(s["a"])(e.data.users),Object(s["a"])(e.data.clients));t.clients=n.map((function(t){return t.period_id&&(t.period=Object.keys(e.data.periods).length>0?e.data.periods[t.period_id].name:""),t.company=t.current_company_id?e.data.companies[t.current_company_id]:e.data.companies[t.company_id],t.rdt=h()(t.rdt).format("YYYY-MM-DD"),t})),t.scrollToClassName("search-result-scrollto")}500===e.status&&t.toastr("danger","Server fel","Kunde inte söka"),t.search_button_disabled=!1,r.hide()})).catch((function(e){t.search_button_disabled=!1,r.hide(),t.toastr("danger","Server fel","Kunde inte söka")}))},toastr:function(e,t,r){this.$bvToast.toast(r,{title:t,autoHideDelay:1e3,appendToast:!0,variant:e})},setExcelColumns:function(e){this.columns=e},exportExcel:function(e){var t=this;e.preventDefault();var r=this.$refs["searchOptions"].createQuery();u.a.post("/client/exportsearch",{query:r,columns:this.columns}).then((function(e){console.log(e.data.url);var r=e.data.url.replace(/^.*[\\\/]/,"");t.downloadWithAxios(e.data.url,r),t.toastr("success","OK","Exporten lyckades")})).catch((function(e){console.error(e),t.toastr("danger","Server fel","Kunde inte exportera")}))},exportCSV:function(){},forceFileDownload:function(e,t){console.log(t);var r=window.URL.createObjectURL(new Blob([e.data])),n=document.createElement("a");n.href=r,n.setAttribute("download",t),document.body.appendChild(n),n.click()},downloadWithAxios:function(e,t){var r=this;u()({method:"get",url:e,responseType:"arraybuffer"}).then((function(e){r.forceFileDownload(e,t)})).catch((function(){return console.log("error occured")}))},createMember:function(){this.showNew=!this.showNew,this.client_id=null},deleteMember:function(){var e=this;u.a.delete("/client?client_id=".concat(this.client_id)).then((function(t){200===t.status?(e.toastr("success","Radera","Medlem suppgifterna har raderats."),console.log(""),e.clients=e.clients.filter((function(t){return e.client_id!==t.client_id})),e.createMember(),e.scrollToClassName("search-result-scrollto")):e.toastr("danger","Serverfel","Det gick inte att radera medlem.")})).catch((function(t){console.log(t),e.toastr("danger","Serverfel","Det gick inte att radera medlem.")}))}}},v=g,y=(r("ef5d"),r("2877")),_=Object(y["a"])(v,n,a,!1,null,"5ab06e1a",null);t["default"]=_.exports},"07cd":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-select",{attrs:{multiple:"",options:e.options},model:{value:e.showFields,callback:function(t){e.showFields=t},expression:"showFields"}})],1)},a=[],s=(r("4de4"),r("caad"),r("b0c0"),r("2532"),r("5530")),o=r("2f62"),i=r("4a7a"),c=r.n(i),l=(r("6dfc"),{name:"company-select",components:{vSelect:c.a},props:{ids:{type:Array,default:[]},removeCurrentId:{type:Boolean,default:!1}},computed:Object(s["a"])({},Object(o["b"])(["companies","currentCompanyId"])),data:function(){return{options:[],fields:[],showFields:[{key:"all",label:"Alla",show:!0}],locked:!1}},watch:{showFields:function(e,t){var r=this.fields;if(e.length!=this.fields.length){for(var n=function(t){e[t].hasOwnProperty("code")&&(e[t].key=e[t].code),!e[t].show&&e[t].hasOwnProperty("show")||(r=r.filter((function(r){return r.label!==e[t].label})))},a=0;a<e.length;++a)n(a);this.removeCurrentCompany(r),this.$emit("selectedCompanies",e)}else this.showFields=[]},companies:function(e,t){this.setLists()},ids:function(e,t){var r=this;this.options.filter((function(t){e.includes(t.code)&&r.showFields.push(t)}))}},methods:{isAll:function(){return this.showFields.length>0&&("all"===this.showFields[0].key||"all"===this.showFields[0].code)},getCompanies:function(){if(this.isAll())return["all"];for(var e=[],t=0;t<this.showFields.length;++t)"all"!==this.showFields[t].key&&"all"!==this.showFields[t].code&&e.push(this.showFields[t].code);return e},setCompanies:function(e){this.showFields=[];for(var t=0;t<e.length;++t){var r=this.getCompany(e[t]);null!==r&&void 0!==r&&this.showFields.push({code:e[t],key:e[t],label:r.name,show:!0})}console.log(this.showFields,"SetComapnies")},getCompany:function(e){for(var t=0;t<this.companies.length;++t)if(this.companies[t].id===e)return this.companies[t];return console.log(this.showFields,"SetComapnies"),null},setLists:function(){this.fields=[];for(var e=0;e<this.companies.length;++e)this.fields.push({code:this.companies[e].id,label:this.companies[e].name});for(var t=this.fields,r=this,n=function(e){!r.showFields[e].show&&r.showFields[e].hasOwnProperty("show")||(t=t.filter((function(t){return t.label!==r.showFields[e].label})))},a=0;a<r.showFields.length;++a)n(a);this.removeCurrentCompany(t)},reset:function(){this.showFields=[{key:"all",label:"Alla",show:!0}]},removeCurrentCompany:function(e){var t=this;this.removeCurrentId?this.options=e.filter((function(e){return e.code!==t.currentCompanyId})):this.options=e}},mounted:function(){this.setLists();var e=this;setInterval((function(){e.showFields.length>1&&"all"===e.showFields[0].key?e.showFields=e.showFields.filter((function(e){return"all"!==e.key&&"all"!==e.code})):0===e.showFields.length&&(e.showFields=[{code:"all",key:"all",label:"Alla",show:!0}])}),100)}}),u=l,d=r("2877"),m=r("6544"),f=r.n(m),p=r("b974"),h=Object(d["a"])(u,n,a,!1,null,null,null);t["a"]=h.exports;f()(h,{VSelect:p["a"]})},"0a00":function(e,t,r){"use strict";r("26b8")},"0afc":function(e,t,r){},"0d3b":function(e,t,r){var n=r("d039"),a=r("b622"),s=r("c430"),o=a("iterator");e.exports=!n((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r="";return e.pathname="c%20d",t.forEach((function(e,n){t["delete"]("b"),r+=n+e})),s&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}))},"130a":function(e,t,r){"use strict";r("2240")},"14fc":function(e,t,r){},1660:function(e,t,r){},"1cdb":function(e,t,r){},2240:function(e,t,r){},"26b8":function(e,t,r){},"2b3d":function(e,t,r){"use strict";r("3ca3");var n,a=r("23e7"),s=r("83ab"),o=r("0d3b"),i=r("da84"),c=r("37e8"),l=r("6eeb"),u=r("19aa"),d=r("5135"),m=r("60da"),f=r("4df4"),p=r("6547").codeAt,h=r("5fb2"),b=r("d44e"),g=r("9861"),v=r("69f3"),y=i.URL,_=g.URLSearchParams,w=g.getState,k=v.set,x=v.getterFor("URL"),C=Math.floor,S=Math.pow,P="Invalid authority",E="Invalid scheme",A="Invalid host",O="Invalid port",$=/[A-Za-z]/,R=/[\d+-.A-Za-z]/,I=/\d/,M=/^(0x|0X)/,j=/^[0-7]+$/,F=/^\d+$/,T=/^[\dA-Fa-f]+$/,V=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,N=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,D=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,L=/[\u0009\u000A\u000D]/g,q=function(e,t){var r,n,a;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return A;if(r=B(t.slice(1,-1)),!r)return A;e.host=r}else if(Z(e)){if(t=h(t),V.test(t))return A;if(r=z(t),null===r)return A;e.host=r}else{if(N.test(t))return A;for(r="",n=f(t),a=0;a<n.length;a++)r+=Y(n[a],K);e.host=r}},z=function(e){var t,r,n,a,s,o,i,c=e.split(".");if(c.length&&""==c[c.length-1]&&c.pop(),t=c.length,t>4)return e;for(r=[],n=0;n<t;n++){if(a=c[n],""==a)return e;if(s=10,a.length>1&&"0"==a.charAt(0)&&(s=M.test(a)?16:8,a=a.slice(8==s?1:2)),""===a)o=0;else{if(!(10==s?F:8==s?j:T).test(a))return e;o=parseInt(a,s)}r.push(o)}for(n=0;n<t;n++)if(o=r[n],n==t-1){if(o>=S(256,5-t))return null}else if(o>255)return null;for(i=r.pop(),n=0;n<r.length;n++)i+=r[n]*S(256,3-n);return i},B=function(e){var t,r,n,a,s,o,i,c=[0,0,0,0,0,0,0,0],l=0,u=null,d=0,m=function(){return e.charAt(d)};if(":"==m()){if(":"!=e.charAt(1))return;d+=2,l++,u=l}while(m()){if(8==l)return;if(":"!=m()){t=r=0;while(r<4&&T.test(m()))t=16*t+parseInt(m(),16),d++,r++;if("."==m()){if(0==r)return;if(d-=r,l>6)return;n=0;while(m()){if(a=null,n>0){if(!("."==m()&&n<4))return;d++}if(!I.test(m()))return;while(I.test(m())){if(s=parseInt(m(),10),null===a)a=s;else{if(0==a)return;a=10*a+s}if(a>255)return;d++}c[l]=256*c[l]+a,n++,2!=n&&4!=n||l++}if(4!=n)return;break}if(":"==m()){if(d++,!m())return}else if(m())return;c[l++]=t}else{if(null!==u)return;d++,l++,u=l}}if(null!==u){o=l-u,l=7;while(0!=l&&o>0)i=c[l],c[l--]=c[u+o-1],c[u+--o]=i}else if(8!=l)return;return c},U=function(e){for(var t=null,r=1,n=null,a=0,s=0;s<8;s++)0!==e[s]?(a>r&&(t=n,r=a),n=null,a=0):(null===n&&(n=s),++a);return a>r&&(t=n,r=a),t},H=function(e){var t,r,n,a;if("number"==typeof e){for(t=[],r=0;r<4;r++)t.unshift(e%256),e=C(e/256);return t.join(".")}if("object"==typeof e){for(t="",n=U(e),r=0;r<8;r++)a&&0===e[r]||(a&&(a=!1),n===r?(t+=r?":":"::",a=!0):(t+=e[r].toString(16),r<7&&(t+=":")));return"["+t+"]"}return e},K={},W=m({},K,{" ":1,'"':1,"<":1,">":1,"`":1}),G=m({},W,{"#":1,"?":1,"{":1,"}":1}),Q=m({},G,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Y=function(e,t){var r=p(e,0);return r>32&&r<127&&!d(t,e)?e:encodeURIComponent(e)},X={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Z=function(e){return d(X,e.scheme)},J=function(e){return""!=e.username||""!=e.password},ee=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},te=function(e,t){var r;return 2==e.length&&$.test(e.charAt(0))&&(":"==(r=e.charAt(1))||!t&&"|"==r)},re=function(e){var t;return e.length>1&&te(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},ne=function(e){var t=e.path,r=t.length;!r||"file"==e.scheme&&1==r&&te(t[0],!0)||t.pop()},ae=function(e){return"."===e||"%2e"===e.toLowerCase()},se=function(e){return e=e.toLowerCase(),".."===e||"%2e."===e||".%2e"===e||"%2e%2e"===e},oe={},ie={},ce={},le={},ue={},de={},me={},fe={},pe={},he={},be={},ge={},ve={},ye={},_e={},we={},ke={},xe={},Ce={},Se={},Pe={},Ee=function(e,t,r,a){var s,o,i,c,l=r||oe,u=0,m="",p=!1,h=!1,b=!1;r||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(D,"")),t=t.replace(L,""),s=f(t);while(u<=s.length){switch(o=s[u],l){case oe:if(!o||!$.test(o)){if(r)return E;l=ce;continue}m+=o.toLowerCase(),l=ie;break;case ie:if(o&&(R.test(o)||"+"==o||"-"==o||"."==o))m+=o.toLowerCase();else{if(":"!=o){if(r)return E;m="",l=ce,u=0;continue}if(r&&(Z(e)!=d(X,m)||"file"==m&&(J(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=m,r)return void(Z(e)&&X[e.scheme]==e.port&&(e.port=null));m="","file"==e.scheme?l=ye:Z(e)&&a&&a.scheme==e.scheme?l=le:Z(e)?l=fe:"/"==s[u+1]?(l=ue,u++):(e.cannotBeABaseURL=!0,e.path.push(""),l=Ce)}break;case ce:if(!a||a.cannotBeABaseURL&&"#"!=o)return E;if(a.cannotBeABaseURL&&"#"==o){e.scheme=a.scheme,e.path=a.path.slice(),e.query=a.query,e.fragment="",e.cannotBeABaseURL=!0,l=Pe;break}l="file"==a.scheme?ye:de;continue;case le:if("/"!=o||"/"!=s[u+1]){l=de;continue}l=pe,u++;break;case ue:if("/"==o){l=he;break}l=xe;continue;case de:if(e.scheme=a.scheme,o==n)e.username=a.username,e.password=a.password,e.host=a.host,e.port=a.port,e.path=a.path.slice(),e.query=a.query;else if("/"==o||"\\"==o&&Z(e))l=me;else if("?"==o)e.username=a.username,e.password=a.password,e.host=a.host,e.port=a.port,e.path=a.path.slice(),e.query="",l=Se;else{if("#"!=o){e.username=a.username,e.password=a.password,e.host=a.host,e.port=a.port,e.path=a.path.slice(),e.path.pop(),l=xe;continue}e.username=a.username,e.password=a.password,e.host=a.host,e.port=a.port,e.path=a.path.slice(),e.query=a.query,e.fragment="",l=Pe}break;case me:if(!Z(e)||"/"!=o&&"\\"!=o){if("/"!=o){e.username=a.username,e.password=a.password,e.host=a.host,e.port=a.port,l=xe;continue}l=he}else l=pe;break;case fe:if(l=pe,"/"!=o||"/"!=m.charAt(u+1))continue;u++;break;case pe:if("/"!=o&&"\\"!=o){l=he;continue}break;case he:if("@"==o){p&&(m="%40"+m),p=!0,i=f(m);for(var g=0;g<i.length;g++){var v=i[g];if(":"!=v||b){var y=Y(v,Q);b?e.password+=y:e.username+=y}else b=!0}m=""}else if(o==n||"/"==o||"?"==o||"#"==o||"\\"==o&&Z(e)){if(p&&""==m)return P;u-=f(m).length+1,m="",l=be}else m+=o;break;case be:case ge:if(r&&"file"==e.scheme){l=we;continue}if(":"!=o||h){if(o==n||"/"==o||"?"==o||"#"==o||"\\"==o&&Z(e)){if(Z(e)&&""==m)return A;if(r&&""==m&&(J(e)||null!==e.port))return;if(c=q(e,m),c)return c;if(m="",l=ke,r)return;continue}"["==o?h=!0:"]"==o&&(h=!1),m+=o}else{if(""==m)return A;if(c=q(e,m),c)return c;if(m="",l=ve,r==ge)return}break;case ve:if(!I.test(o)){if(o==n||"/"==o||"?"==o||"#"==o||"\\"==o&&Z(e)||r){if(""!=m){var _=parseInt(m,10);if(_>65535)return O;e.port=Z(e)&&_===X[e.scheme]?null:_,m=""}if(r)return;l=ke;continue}return O}m+=o;break;case ye:if(e.scheme="file","/"==o||"\\"==o)l=_e;else{if(!a||"file"!=a.scheme){l=xe;continue}if(o==n)e.host=a.host,e.path=a.path.slice(),e.query=a.query;else if("?"==o)e.host=a.host,e.path=a.path.slice(),e.query="",l=Se;else{if("#"!=o){re(s.slice(u).join(""))||(e.host=a.host,e.path=a.path.slice(),ne(e)),l=xe;continue}e.host=a.host,e.path=a.path.slice(),e.query=a.query,e.fragment="",l=Pe}}break;case _e:if("/"==o||"\\"==o){l=we;break}a&&"file"==a.scheme&&!re(s.slice(u).join(""))&&(te(a.path[0],!0)?e.path.push(a.path[0]):e.host=a.host),l=xe;continue;case we:if(o==n||"/"==o||"\\"==o||"?"==o||"#"==o){if(!r&&te(m))l=xe;else if(""==m){if(e.host="",r)return;l=ke}else{if(c=q(e,m),c)return c;if("localhost"==e.host&&(e.host=""),r)return;m="",l=ke}continue}m+=o;break;case ke:if(Z(e)){if(l=xe,"/"!=o&&"\\"!=o)continue}else if(r||"?"!=o)if(r||"#"!=o){if(o!=n&&(l=xe,"/"!=o))continue}else e.fragment="",l=Pe;else e.query="",l=Se;break;case xe:if(o==n||"/"==o||"\\"==o&&Z(e)||!r&&("?"==o||"#"==o)){if(se(m)?(ne(e),"/"==o||"\\"==o&&Z(e)||e.path.push("")):ae(m)?"/"==o||"\\"==o&&Z(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&te(m)&&(e.host&&(e.host=""),m=m.charAt(0)+":"),e.path.push(m)),m="","file"==e.scheme&&(o==n||"?"==o||"#"==o))while(e.path.length>1&&""===e.path[0])e.path.shift();"?"==o?(e.query="",l=Se):"#"==o&&(e.fragment="",l=Pe)}else m+=Y(o,G);break;case Ce:"?"==o?(e.query="",l=Se):"#"==o?(e.fragment="",l=Pe):o!=n&&(e.path[0]+=Y(o,K));break;case Se:r||"#"!=o?o!=n&&("'"==o&&Z(e)?e.query+="%27":e.query+="#"==o?"%23":Y(o,K)):(e.fragment="",l=Pe);break;case Pe:o!=n&&(e.fragment+=Y(o,W));break}u++}},Ae=function(e){var t,r,n=u(this,Ae,"URL"),a=arguments.length>1?arguments[1]:void 0,o=String(e),i=k(n,{type:"URL"});if(void 0!==a)if(a instanceof Ae)t=x(a);else if(r=Ee(t={},String(a)),r)throw TypeError(r);if(r=Ee(i,o,null,t),r)throw TypeError(r);var c=i.searchParams=new _,l=w(c);l.updateSearchParams(i.query),l.updateURL=function(){i.query=String(c)||null},s||(n.href=$e.call(n),n.origin=Re.call(n),n.protocol=Ie.call(n),n.username=Me.call(n),n.password=je.call(n),n.host=Fe.call(n),n.hostname=Te.call(n),n.port=Ve.call(n),n.pathname=Ne.call(n),n.search=De.call(n),n.searchParams=Le.call(n),n.hash=qe.call(n))},Oe=Ae.prototype,$e=function(){var e=x(this),t=e.scheme,r=e.username,n=e.password,a=e.host,s=e.port,o=e.path,i=e.query,c=e.fragment,l=t+":";return null!==a?(l+="//",J(e)&&(l+=r+(n?":"+n:"")+"@"),l+=H(a),null!==s&&(l+=":"+s)):"file"==t&&(l+="//"),l+=e.cannotBeABaseURL?o[0]:o.length?"/"+o.join("/"):"",null!==i&&(l+="?"+i),null!==c&&(l+="#"+c),l},Re=function(){var e=x(this),t=e.scheme,r=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(n){return"null"}return"file"!=t&&Z(e)?t+"://"+H(e.host)+(null!==r?":"+r:""):"null"},Ie=function(){return x(this).scheme+":"},Me=function(){return x(this).username},je=function(){return x(this).password},Fe=function(){var e=x(this),t=e.host,r=e.port;return null===t?"":null===r?H(t):H(t)+":"+r},Te=function(){var e=x(this).host;return null===e?"":H(e)},Ve=function(){var e=x(this).port;return null===e?"":String(e)},Ne=function(){var e=x(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},De=function(){var e=x(this).query;return e?"?"+e:""},Le=function(){return x(this).searchParams},qe=function(){var e=x(this).fragment;return e?"#"+e:""},ze=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(s&&c(Oe,{href:ze($e,(function(e){var t=x(this),r=String(e),n=Ee(t,r);if(n)throw TypeError(n);w(t.searchParams).updateSearchParams(t.query)})),origin:ze(Re),protocol:ze(Ie,(function(e){var t=x(this);Ee(t,String(e)+":",oe)})),username:ze(Me,(function(e){var t=x(this),r=f(String(e));if(!ee(t)){t.username="";for(var n=0;n<r.length;n++)t.username+=Y(r[n],Q)}})),password:ze(je,(function(e){var t=x(this),r=f(String(e));if(!ee(t)){t.password="";for(var n=0;n<r.length;n++)t.password+=Y(r[n],Q)}})),host:ze(Fe,(function(e){var t=x(this);t.cannotBeABaseURL||Ee(t,String(e),be)})),hostname:ze(Te,(function(e){var t=x(this);t.cannotBeABaseURL||Ee(t,String(e),ge)})),port:ze(Ve,(function(e){var t=x(this);ee(t)||(e=String(e),""==e?t.port=null:Ee(t,e,ve))})),pathname:ze(Ne,(function(e){var t=x(this);t.cannotBeABaseURL||(t.path=[],Ee(t,e+"",ke))})),search:ze(De,(function(e){var t=x(this);e=String(e),""==e?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Ee(t,e,Se)),w(t.searchParams).updateSearchParams(t.query)})),searchParams:ze(Le),hash:ze(qe,(function(e){var t=x(this);e=String(e),""!=e?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Ee(t,e,Pe)):t.fragment=null}))}),l(Oe,"toJSON",(function(){return $e.call(this)}),{enumerable:!0}),l(Oe,"toString",(function(){return $e.call(this)}),{enumerable:!0}),y){var Be=y.createObjectURL,Ue=y.revokeObjectURL;Be&&l(Ae,"createObjectURL",(function(e){return Be.apply(y,arguments)})),Ue&&l(Ae,"revokeObjectURL",(function(e){return Ue.apply(y,arguments)}))}b(Ae,"URL"),a({global:!0,forced:!o,sham:!s},{URL:Ae})},3298:function(e,t,r){},"34dd":function(e,t,r){},3704:function(e,t,r){},"39f0":function(e,t,r){},"3e2c":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-modal",{ref:"confirmModal",attrs:{"hide-footer":"",title:e.title}},[r("b-row",[r("b-col",{attrs:{lg:"12"}},[r("div",{staticClass:"d-block text-center"},[r("h3",[e._v(e._s(e.message))])])])],1),r("b-row",{staticClass:"mt-8 mb-8"},[r("b-col",{attrs:{lg:"6"}},[r("b-button",{attrs:{variant:e.confirmColor,block:""},on:{click:e.onConfirm}},[e._v(e._s(e.confirm))])],1),r("b-col",{attrs:{lg:"6"}},[r("b-button",{attrs:{variant:"outline-secondary",block:""},on:{click:e.onCancel}},[e._v(e._s(e.cancel))])],1)],1)],1)},a=[],s=(r("96cf"),r("1da1")),o={name:"confirm-modal",data:function(){return{}},props:{type:{type:String,default:"danger"},title:String,message:String,confirm:{type:String,default:"Bekräfta"},cancel:{type:String,default:"Avbryt"}},mounted:function(){return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},methods:{show:function(){this.$refs["confirmModal"].show()},onConfirm:function(){this.$refs["confirmModal"].hide(),this.$emit("confirm")},onCancel:function(){this.$refs["confirmModal"].hide(),this.$emit("cancel")}},computed:{confirmColor:function(){switch(this.type){case"danger":return"outline-danger";case"success":return"outline-success";case"info":return"outline-info";case"warning":return"outline-warning";case"primary":return"outline-primary"}}}},i=o,c=r("2877"),l=Object(c["a"])(i,n,a,!1,null,"7c6e001a",null);t["a"]=l.exports},4396:function(e,t,r){"use strict";r("9cb3")},4635:function(e,t,r){"use strict";r("0367")},"4a11":function(e,t,r){"use strict";r("a91a")},"4c1c":function(e,t,r){},"4d83":function(e,t,r){},"4fad":function(e,t,r){var n=r("23e7"),a=r("6f53").entries;n({target:"Object",stat:!0},{entries:function(e){return a(e)}})},"589d":function(e,t,r){},"5e7a":function(e,t,r){},"5fb2":function(e,t,r){"use strict";var n=2147483647,a=36,s=1,o=26,i=38,c=700,l=72,u=128,d="-",m=/[^\0-\u007E]/,f=/[.\u3002\uFF0E\uFF61]/g,p="Overflow: input needs wider integers to process",h=a-s,b=Math.floor,g=String.fromCharCode,v=function(e){var t=[],r=0,n=e.length;while(r<n){var a=e.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var s=e.charCodeAt(r++);56320==(64512&s)?t.push(((1023&a)<<10)+(1023&s)+65536):(t.push(a),r--)}else t.push(a)}return t},y=function(e){return e+22+75*(e<26)},_=function(e,t,r){var n=0;for(e=r?b(e/c):e>>1,e+=b(e/t);e>h*o>>1;n+=a)e=b(e/h);return b(n+(h+1)*e/(e+i))},w=function(e){var t=[];e=v(e);var r,i,c=e.length,m=u,f=0,h=l;for(r=0;r<e.length;r++)i=e[r],i<128&&t.push(g(i));var w=t.length,k=w;w&&t.push(d);while(k<c){var x=n;for(r=0;r<e.length;r++)i=e[r],i>=m&&i<x&&(x=i);var C=k+1;if(x-m>b((n-f)/C))throw RangeError(p);for(f+=(x-m)*C,m=x,r=0;r<e.length;r++){if(i=e[r],i<m&&++f>n)throw RangeError(p);if(i==m){for(var S=f,P=a;;P+=a){var E=P<=h?s:P>=h+o?o:P-h;if(S<E)break;var A=S-E,O=a-E;t.push(g(y(E+A%O))),S=b(A/O)}t.push(g(y(S))),h=_(f,C,k==w),f=0,++k}}++f,++m}return t.join("")};e.exports=function(e){var t,r,n=[],a=e.toLowerCase().replace(f,".").split(".");for(t=0;t<a.length;t++)r=a[t],n.push(m.test(r)?"xn--"+w(r):r);return n.join(".")}},"63fd":function(e,t,r){},"676f":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-select",{attrs:{multiple:"",options:e.options},model:{value:e.showFields,callback:function(t){e.showFields=t},expression:"showFields"}}),r("div",{staticClass:"d-flex mt-5"},[r("v-select",{staticClass:"page-count-select",attrs:{options:[25,50,100],clearable:!1,searchable:!1},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}}),r("b-pagination",{staticClass:"ml-auto",attrs:{"total-rows":e.clients.length,"per-page":e.perPage,"aria-controls":"search-result-table"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1),r("div",[r("b-table",{staticClass:"mt-3 cursor-pointer",attrs:{id:"search-result-table","sticky-header":"",responsive:"",striped:"",hover:"",bordered:"",items:e.clients,fields:e.showFields,"per-page":e.perPage,"current-page":e.currentPage},on:{"row-clicked":e.rowClicked}})],1)],1)},a=[],s=(r("4de4"),r("4a7a")),o=r.n(s),i=(r("6dfc"),{name:"search-result",components:{vSelect:o.a},data:function(){return{currentPage:1,perPage:25,options:[],fields:[{label:"Förening",code:"company"},{label:"Period",code:"period"},{label:"Förnamn",code:"firstname"},{label:"Efternamn",code:"lastname"},{label:"Personnummer",code:"in_personnr"},{label:"Betalat",code:"paying"},{label:"LADOK",code:"ladok"},{label:"Ålder",code:"age"},{label:"Kön",code:"sex"},{label:"E-post",code:"email"},{label:"Telefon",code:"phone"},{label:"Gata",code:"address"},{label:"Postnummer",code:"zipcode"},{label:"Region",code:"region_code"},{label:"Land",code:"country"},{label:"Postort",code:"post"},{label:"Medlemsnummer",code:"public_id"},{label:"Registreringsdatum",code:"rdt"}],showFields:[{key:"company",label:"Förening",show:!0,sortable:!0},{key:"period",label:"Period",show:!0,sortable:!0},{key:"firstname",label:"Förnamn",show:!0,sortable:!0},{key:"lastname",label:"Efternamn",show:!0,sortable:!0},{key:"in_personnr",label:"Personnummer",show:!0,sortable:!0},{key:"email",label:"E-post",show:!0,sortable:!0},{key:"age",label:"Ålder",show:!0,sortable:!0},{key:"sex",label:"Kön",show:!0,sortable:!0},{key:"phone",label:"Telefon",show:!0,sortable:!0},{key:"address",label:"Gata",show:!0,sortable:!0},{key:"zipcode",label:"Postnummer",show:!0,sortable:!0},{key:"ladok",label:"LADOK",show:!1,sortable:!0},{key:"paying",label:"Betalat",show:!1,sortable:!0},{key:"region_code",label:"Region",show:!0,sortable:!0},{key:"country",label:"Land",show:!1,sortable:!0},{key:"post",label:"Postort",show:!1,sortable:!0},{key:"public_id",label:"Medlemsnummer",show:!1,sortable:!0},{key:"rdt",label:"Registreringsdatum",show:!1,sortable:!0}]}},watch:{showFields:function(e,t){for(var r=this.fields,n=0;n<e.length;++n)e[n].hasOwnProperty("code")&&(e[n].key=e[n].code),!e[n].show&&e[n].hasOwnProperty("show")||(r=r.filter((function(t){return t.label!==e[n].label})));this.showFields=e,this.options=r,this.$emit("showFields",this.getShowFieldsNames(e))}},mounted:function(){var e=this;setTimeout((function(){e.showFields=e.showFields.filter((function(e){return e.show}))}),100)},props:{clients:{type:Array,default:[]}},methods:{rowClicked:function(e,t){this.$emit("clientSelected",e)},getShowFieldsNames:function(e){var t=[];return e.filter((function(e){t.push(e.key)})),t}}}),c=i,l=(r("0575"),r("2877")),u=r("6544"),d=r.n(u),m=r("b974"),f=Object(l["a"])(c,n,a,!1,null,"6ff10946",null);t["a"]=f.exports;d()(f,{VSelect:m["a"]})},"68f3":function(e,t,r){"use strict";r("34dd")},"6c7e":function(e,t,r){"use strict";r("0afc")},7428:function(e,t,r){"use strict";r("5e7a")},"781e":function(e,t,r){"use strict";r("1cdb")},7958:function(e,t,r){"use strict";r("4d83")},"7a7b":function(e,t,r){"use strict";r("3298")},"7cfc3":function(e,t,r){},"7f08":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-card",{attrs:{"header-bg-variant":"secondary"},scopedSlots:e._u([{key:"header",fn:function(){return[r("fa-icon",{staticClass:"mr-1",attrs:{icon:["fas","users"]}}),e._v("Medlemsdata ")]},proxy:!0}])},[r("SPARLookup",{ref:"sparModal",attrs:{client_id:e.form.client_id}}),r("b-card-body",[r("b-form",{on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[r("div",{staticClass:"form-create-member border border-secondary"},[r("b-form-group",{attrs:{label:"Medlemsnummer","label-for":"member-num"}},[r("b-form-input",{attrs:{id:"member-num",placeholder:"Lämna tomt för autogenererat"},model:{value:e.form.public_id,callback:function(t){e.$set(e.form,"public_id",t)},expression:"form.public_id"}})],1),r("b-row",[r("b-col",{attrs:{md:"6"}},[r("b-form-group",{attrs:{label:"Förnamn","label-for":"member-firstname"}},[e.constreq.includes("MEMBER_REQ_FULLNAME")?r("b-form-input",{attrs:{id:"member-firstname",placeholder:"Samtliga tilltalsnamn",state:e.validFn,required:""},model:{value:e.form.firstname,callback:function(t){e.$set(e.form,"firstname",t)},expression:"form.firstname"}}):r("b-form-input",{attrs:{id:"member-firstname",placeholder:"Samtliga tilltalsnamn"},model:{value:e.form.firstname,callback:function(t){e.$set(e.form,"firstname",t)},expression:"form.firstname"}})],1)],1),r("b-col",{attrs:{md:"6"}},[r("b-form-group",{attrs:{label:"Efternamn","label-for":"member-lastname"}},[e.constreq.includes("MEMBER_REQ_FULLNAME")?r("b-form-input",{attrs:{id:"member-lastname",placeholder:"Efternamn",state:e.validLn,required:""},model:{value:e.form.lastname,callback:function(t){e.$set(e.form,"lastname",t)},expression:"form.lastname"}}):r("b-form-input",{attrs:{id:"member-lastname",placeholder:"Efternamn"},model:{value:e.form.lastname,callback:function(t){e.$set(e.form,"lastname",t)},expression:"form.lastname"}})],1)],1)],1),r("b-form-group",{attrs:{label:"Inmatat Personnummer","label-for":"member-security-number"}},[r("b-row",[r("b-col",[e.constreq.includes("MEMBER_REQ_PERSONNR")||e.constreq.includes("MEMBER_REQ_SSN")?r("b-form-input",{attrs:{id:"member-security-number",placeholder:"Ex: 19850130",state:e.validSSN,required:""},model:{value:e.form.in_personnr,callback:function(t){e.$set(e.form,"in_personnr",t)},expression:"form.in_personnr"}}):r("b-form-input",{attrs:{id:"member-security-number",placeholder:"Ex: 19850130"},model:{value:e.form.in_personnr,callback:function(t){e.$set(e.form,"in_personnr",t)},expression:"form.in_personnr"}})],1),r("b-col",[r("div",{staticClass:"d-flex"},[r("b-form-input",{attrs:{disabled:""},model:{value:e.form.birthyear,callback:function(t){e.$set(e.form,"birthyear",t)},expression:"form.birthyear"}}),r("b-form-input",{staticClass:"ml-3",attrs:{disabled:""},model:{value:e.form.birthmonth,callback:function(t){e.$set(e.form,"birthmonth",t)},expression:"form.birthmonth"}}),r("b-form-input",{staticClass:"ml-3",attrs:{disabled:""},model:{value:e.form.birthday,callback:function(t){e.$set(e.form,"birthday",t)},expression:"form.birthday"}}),r("b-form-input",{staticClass:"ml-3",attrs:{disabled:""},model:{value:e.form.ssn_last_4,callback:function(t){e.$set(e.form,"ssn_last_4",t)},expression:"form.ssn_last_4"}})],1)])],1)],1),r("b-row",[r("b-col",{attrs:{"md-6":""}},[r("b-form-group",{attrs:{label:"Egen definerat kön","label-for":"member-gender"}},[r("b-form-select",{attrs:{id:"member-gender",options:e.genders},model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}})],1)],1),r("b-col",{attrs:{"md-6":""}})],1)],1),r("div",{staticClass:"form-create-member border border-secondary mt-5"},[r("b-row",[r("b-col",{attrs:{md:"6"}},[r("b-form-group",{attrs:{label:"C/O","label-for":"member-co"}},[r("b-form-input",{attrs:{id:"member-co",placeholder:""},model:{value:e.form.co,callback:function(t){e.$set(e.form,"co",t)},expression:"form.co"}})],1)],1)],1),r("b-row",[r("b-col",{attrs:{md:"6"}},[r("b-form-group",{attrs:{label:"Gatuadress","label-for":"member-street"}},[e.constreq.includes("MEMBER_REQ_ADDRESS")?r("b-form-input",{attrs:{id:"member-street",placeholder:"Ex: Hornsgatan 12",state:e.validAddress,required:""},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}}):r("b-form-input",{attrs:{id:"member-street",placeholder:"Ex: Hornsgatan 12"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1)],1),r("b-col",{attrs:{md:"2"}},[r("b-form-group",{attrs:{label:"Postkod","label-for":"member-postcode"}},[e.constreq.includes("MEMBER_REQ_ADDRESS")?r("b-form-input",{attrs:{id:"member-postcode",placeholder:"Ex: 12214",state:e.validZip,required:""},model:{value:e.form.zipcode,callback:function(t){e.$set(e.form,"zipcode",t)},expression:"form.zipcode"}}):r("b-form-input",{attrs:{id:"member-postcode",placeholder:"Ex: 12214"},model:{value:e.form.zipcode,callback:function(t){e.$set(e.form,"zipcode",t)},expression:"form.zipcode"}})],1)],1),r("b-col",{attrs:{md:"4"}},[r("b-form-group",{attrs:{label:"Postort","label-for":"member-postal"}},[e.constreq.includes("MEMBER_REQ_ADDRESS")?r("b-form-input",{attrs:{id:"member-postal",state:e.validPost,required:""},model:{value:e.form.post,callback:function(t){e.$set(e.form,"post",t)},expression:"form.post"}}):r("b-form-input",{attrs:{id:"member-postal"},model:{value:e.form.post,callback:function(t){e.$set(e.form,"post",t)},expression:"form.post"}})],1)],1)],1),"SE"===e.form.country?r("b-row",[r("b-col",{attrs:{md:"6"}},[r("b-form-group",{attrs:{label:"Region","label-for":"member-region"}},[r("b-form-select",{attrs:{id:"member-region",options:e.regions},on:{change:e.onRegionChange},model:{value:e.form.region_code,callback:function(t){e.$set(e.form,"region_code",t)},expression:"form.region_code"}})],1)],1),r("b-col",{attrs:{"md-6":""}},[r("b-form-group",{attrs:{label:"Kommun","label-for":"member-commun"}},[r("b-form-select",{attrs:{id:"member-commun",options:e.communes},model:{value:e.form.commune_code,callback:function(t){e.$set(e.form,"commune_code",t)},expression:"form.commune_code"}})],1)],1)],1):e._e(),r("b-form-group",{attrs:{label:"Land","label-for":"member-countries"}},[r("b-row",[r("b-col",{attrs:{md:"6"}},[r("b-form-select",{attrs:{id:"member-countries",options:e.countries,"text-field":"sv","value-field":"iso"},model:{value:e.form.country,callback:function(t){e.$set(e.form,"country",t)},expression:"form.country"}})],1),r("b-col",{staticClass:"d-flex justify-content-end",attrs:{md:"6"}},[r("b-button",{attrs:{variant:"outline-success"},on:{click:e.showSPAR}},[e._v(" SPAR ")])],1)],1)],1)],1),r("div",{staticClass:"form-create-member border border-secondary mt-5"},[r("b-row",[r("b-col",{attrs:{md:"6"}},[r("b-form-group",{attrs:{label:"Mobiltelefon","label-for":"member-mobile"}},[e.constreq.includes("MEMBER_REQ_PHONE")||e.constreq.includes("MEMBER_REQ_EMAILPHONE ")&&!e.validEmail?r("b-form-input",{attrs:{id:"member-mobile",state:e.validTel,placeholder:"+46",required:""},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}}):r("b-form-input",{attrs:{id:"member-mobile",placeholder:"+46"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1)],1),r("b-col",{attrs:{md:"6"}},[e.constreq.includes("MEMBER_REQ_EMAIL")||e.constreq.includes("MEMBER_REQ_EMAILPHONE ")&&!e.validTel?r("b-form-group",{attrs:{label:"Email","label-for":"member-email"}},[r("b-form-input",{attrs:{id:"member-email",state:e.validEmail,required:""},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),e.invalidEmail?r("b-form-invalid-feedback",{attrs:{id:"member-email-feedback"}},[e._v(' E-postadressen är redan registrerad i systemet. För att bjuda in denna e-post till denna förening, använd "Bjud in" knappen ')]):e._e()],1):r("b-form-group",{attrs:{label:"Email","label-for":"member-email"}},[r("b-form-input",{attrs:{id:"member-email"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)],1)],1),r("b-row",[r("b-col",{attrs:{md:"6"}},[r("b-form-group",{attrs:{label:"Lösenord","label-for":"member-password"}},[r("b-form-input",{attrs:{type:"password",id:"member-password",placeholder:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),r("b-col",{attrs:{md:"6"}})],1)],1),e.client_id?r("div",{staticClass:"form-create-member border border-secondary mt-5"},[r("b-row",{staticClass:"mb-4"},[r("b-col",{attrs:{cols:"9"}},[e._v("Målsman")]),r("b-col",{staticClass:"d-flex justify-content-end",attrs:{cols:"3"}},[r("a",{staticClass:"btn btn-primary font-weight-bolder font-size-sm",staticStyle:{"max-height":"38px"},on:{click:e.createParent}},[r("i",{staticClass:"menu-icon flaticon2-plus",staticStyle:{"font-size":"1em"}}),e._v("Ny målsman ")])])],1),r("b-collapse",{attrs:{visible:e.showParentForm,id:"collapse-attribute-form"}},[r("b-row",{attrs:{"align-content":"between"}},[r("b-col",[r("b-form-group",{attrs:{label:"Förnamn","label-for":"parentFName"}},[r("b-form-input",{attrs:{id:"parentFName",type:"text"},model:{value:e.parent.fn,callback:function(t){e.$set(e.parent,"fn",t)},expression:"parent.fn"}})],1)],1),r("b-col",[r("b-form-group",{attrs:{label:"Efternamn","label-for":"parentLName"}},[r("b-form-input",{attrs:{id:"parentLName",type:"text"},model:{value:e.parent.ln,callback:function(t){e.$set(e.parent,"ln",t)},expression:"parent.ln"}})],1)],1),r("b-col",[r("b-form-group",{attrs:{label:"Telefon","label-for":"parentPhone"}},[r("b-form-input",{attrs:{id:"parentPhone"},model:{value:e.parent.ph,callback:function(t){e.$set(e.parent,"ph",t)},expression:"parent.ph"}})],1)],1),r("b-col",{attrs:{md:"3"}},[r("b-form-group",{attrs:{label:"E-post","label-for":"parentEmail"}},[r("b-form-input",{attrs:{id:"parentEmail",type:"email"},model:{value:e.parent.em,callback:function(t){e.$set(e.parent,"em",t)},expression:"parent.em"}})],1)],1),r("b-col",{staticClass:"d-flex align-items-center",attrs:{md:"2"}},[r("b-button",{attrs:{id:"parentSave",variant:"outline-success",size:"sm",disabled:!e.disabledSaveParent},on:{click:e.onSaveParent}},[e._v("Spara")])],1)],1)],1),r("hr",{staticClass:"my-3"}),r("b-table",{attrs:{responsive:"",fields:e.parentFields,items:e.parentItems,"head-variant":"dark","thead-class":"col-3"},scopedSlots:e._u([{key:"cell(action)",fn:function(t){return[r("a",{staticClass:"btn btn-icon btn-light btn-sm mx-1",on:{click:function(r){return e.editParent(t.index)}}},[r("span",{staticClass:"svg-icon svg-icon-md svg-icon-primary"},[r("inline-svg",{attrs:{src:"/assets/svg/Write.svg"}})],1)]),r("a",{staticClass:"btn btn-icon btn-light btn-sm mx-1",on:{click:function(r){return e.deleteParent(t.index)}}},[r("span",{staticClass:"svg-icon svg-icon-md svg-icon-primary"},[r("inline-svg",{attrs:{src:"/assets/svg/Trash.svg"}})],1)])]}}],null,!1,2874333528)})],1):e._e(),r("div",{staticClass:"form-create-member border border-secondary mt-5"},[r("b-row",[r("b-col",{attrs:{cols:"9"}},[e._v("Attribut")]),r("b-col",{staticClass:"d-flex justify-content-end",attrs:{cols:"3"}},[r("a",{staticClass:"btn btn-primary font-weight-bolder font-size-sm",staticStyle:{"max-height":"38px"},on:{click:function(t){e.showAttrForm=!e.showAttrForm}}},[r("i",{staticClass:"menu-icon flaticon2-plus",staticStyle:{"font-size":"1em"}}),e._v("Nytt attribut ")])])],1),r("b-collapse",{attrs:{visible:e.showAttrForm,id:"collapse-attribute-form"}},[r("b-row",[r("b-col",{attrs:{md:"5"}},[r("b-form-group",{attrs:{label:"Kolumn","label-for":"attr-name"}},[r("b-form-select",{attrs:{id:"attr-name",options:e.attrNames},model:{value:e.attrName,callback:function(t){e.attrName=t},expression:"attrName"}})],1)],1),r("b-col",{attrs:{md:"5"}},[r("b-form-group",{attrs:{label:"Värde","label-for":"attr-value"}},[r("b-form-select",{attrs:{id:"attr-value",options:e.attrVals},model:{value:e.attrVal,callback:function(t){e.attrVal=t},expression:"attrVal"}})],1)],1),r("b-col",{staticClass:"d-flex align-items-center",attrs:{md:"2"}},[r("b-button",{attrs:{id:"attrSave",variant:"outline-success",size:"sm"},on:{click:e.onSaveAttr}},[e._v("Spara")])],1)],1)],1),r("hr",{staticClass:"my-3"}),r("b-table",{attrs:{responsive:"",fields:e.attrFields,items:e.attrItems,"head-variant":"dark","thead-class":"col-4"},scopedSlots:e._u([{key:"cell(action)",fn:function(t){return[r("a",{staticClass:"btn btn-icon btn-light btn-sm mx-1",on:{click:function(r){return e.editAttr(t.index)}}},[r("span",{staticClass:"svg-icon svg-icon-md svg-icon-primary"},[r("inline-svg",{attrs:{src:"/assets/svg/Write.svg"}})],1)]),r("a",{staticClass:"btn btn-icon btn-light btn-sm mx-1",on:{click:function(r){return e.deleteAttr(t.index)}}},[r("span",{staticClass:"svg-icon svg-icon-md svg-icon-primary"},[r("inline-svg",{attrs:{src:"/assets/svg/Trash.svg"}})],1)])]}}])})],1),null!=e.client_id?r("div",{staticClass:"form-create-member border border-secondary mt-5"},[r("b-row",{staticClass:"mt-6"},[r("b-col",{attrs:{md:"6"}},[r("div",{staticClass:"d-flex"},[r("b-form-group",{attrs:{label:"Registreringsdatum"}},[r("b-form-input",{attrs:{disabled:""},model:{value:e.form.rdt,callback:function(t){e.$set(e.form,"rdt",t)},expression:"form.rdt "}})],1)],1)]),r("b-col",{attrs:{md:"6"}},[r("b-form-group",{attrs:{label:"Medlemskapstid"}},[r("div",{staticClass:"d-flex"},[r("b-form-input",{staticClass:"pl-6",attrs:{disabled:"",value:e.currentPeriod.from}}),r("span",{staticClass:"pl-5 pr-5 pt-3"},[e._v("To")]),r("b-form-input",{attrs:{disabled:"",value:e.currentPeriod.to}})],1)])],1)],1),r("b-row",{staticClass:"mt-6"},[r("b-col",{attrs:{md:"6"}},[r("b-form-group",{attrs:{label:"Giltig Från Datum"}},[r("b-form-datepicker",{attrs:{id:"input-3"},model:{value:e.form.vfdt,callback:function(t){e.$set(e.form,"vfdt",t)},expression:"form.vfdt"}})],1)],1),r("b-col",{attrs:{md:"6"}},[r("b-form-group",{attrs:{label:"Giltig Till Datum"}},[r("b-form-datepicker",{attrs:{id:"input-3"},model:{value:e.form.vtdt,callback:function(t){e.$set(e.form,"vtdt",t)},expression:"form.vtdt"}})],1)],1)],1),r("b-row",{staticClass:"mt-6"},[r("b-col",{attrs:{md:"6"}},[r("b-form-group",{attrs:{label:"Stickprov URL"}},[r("b-form-input",{attrs:{id:"input-3",value:e.spurl,disabled:""}})],1)],1),r("b-col",{attrs:{md:"6"}})],1)],1):e._e(),e.client_id?r("div",{staticClass:"form-create-member border border-secondary mt-5 pt-2 pb-2"},[r("b-row",{staticClass:"mt-4"},[r("b-col",{attrs:{md:"9"}},[r("div",{staticClass:"pt-2"},[e._v(" Skicka förnyelse ")])]),r("b-col",{attrs:{md:"3"}},[r("div",[r("b-button",{staticClass:"btn-memberEditForm",attrs:{variant:"primary",size:"sm"},on:{click:function(t){return e.showConfirm(1)}}},[e._v("Skicka")])],1)]),r("Confirm",{ref:"renewal",attrs:{title:"Förnya medlemskap",message:"Vill du skicka e-post om förnyelse till medlemmen?",type:"success"},on:{confirm:e.onRenewal}})],1),r("hr",{staticClass:"my-4"}),r("b-row",[r("b-col",{attrs:{md:"9"}},[r("div",{staticClass:"pt-2"},[e._v(" Skicka återställning av lösenord ")])]),r("b-col",{attrs:{md:"3"}},[r("div",[r("b-button",{staticClass:"btn-memberEditForm",attrs:{variant:"primary",size:"sm"},on:{click:function(t){return e.showConfirm(2)}}},[e._v("Skicka")])],1)]),r("Confirm",{ref:"resetPass",attrs:{title:"Återställ lösenord",message:"Vill du skicka länk om återställande?",type:"success"},on:{confirm:e.onResetPass}})],1),r("hr",{staticClass:"my-4"}),r("b-row",[r("b-col",{attrs:{md:"9"}},[r("div",{staticClass:"pt-2"},[e._v(" Logga in som medlem ")])]),r("b-col",{attrs:{md:"3"}},[r("div",[r("b-button",{staticClass:"btn-memberEditForm",attrs:{variant:"primary",size:"sm"},on:{click:e.login}},[e._v("Logga in")])],1)])],1),r("hr",{staticClass:"my-4"}),r("b-row",[r("b-col",{attrs:{md:"9"}},[r("div",{staticClass:"pt-2"},[e._v(" Ladda ner registerutdrag ")])]),r("b-col",{attrs:{md:"3"}},[r("div",[r("b-button",{staticClass:"btn-memberEditForm",attrs:{variant:"primary",size:"sm"},on:{click:e.onExport}},[e._v("Ladda ner")])],1)])],1)],1):e._e(),e.client_id?r("div",{staticClass:"form-create-member border border-secondary mt-5"},[r("b-row",[r("b-col",{attrs:{md:"9"}},[r("div",{staticClass:"pt-2"},[e._v(" Radera medlem från systemet ")])]),r("b-col",{attrs:{md:"3"}},[r("div",[r("b-button",{staticClass:"btn-memberEditForm",attrs:{variant:"danger",size:"sm"},on:{click:function(t){return e.showConfirm(3)}}},[e._v("Radera")])],1)]),r("Confirm",{ref:"deleteMember",attrs:{title:"Radera medlem",message:"Vänligen bekräfta att du vill ta bort "+e.form.firstname+" "+e.form.lastname+". Genom att bekräfta denna uppmaning kommer medlem helt raderas ur systemet.",type:"success"},on:{confirm:function(t){return e.$emit("onDelete")}}})],1)],1):e._e(),r("div",{staticClass:"form-create-member border border-secondary mt-5"},[r("b-row",{attrs:{"align-v":"center"}},[r("b-col",{attrs:{md:"9"}},[r("div",{staticClass:"pt-2"},[e._v(" Spara medlemsdata ")])]),r("b-col",{attrs:{md:"3"}},[r("div",{staticClass:"mb-3"},[r("b-button",{staticClass:"btn-memberEditForm",attrs:{variant:"success",size:"sm",type:"submit",disabled:e.isValid}},[e._v("Spara")])],1),r("div",[r("b-button",{staticClass:"btn-memberEditForm",attrs:{variant:"secondary",size:"sm"},on:{click:e.onClose}},[e._v("Stäng")])],1)])],1)],1)])],1)],1)},a=[],s=(r("99af"),r("4de4"),r("7db0"),r("caad"),r("13d5"),r("a434"),r("b0c0"),r("a9e3"),r("d3b7"),r("ac1f"),r("25f0"),r("2532"),r("3ca3"),r("5319"),r("ddb0"),r("2b3d"),r("5530")),o=(r("96cf"),r("1da1")),i=r("bc3a"),c=r.n(i),l=r("2f62"),u=r("767c"),d=r("3e2c"),m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-modal",{ref:"modal",attrs:{"hide-footer":""},model:{value:e.showSPARModal,callback:function(t){e.showSPARModal=t},expression:"showSPARModal"}},[r("div",{staticClass:"form-create-member border border-secondary"},[r("b-row",[r("b-col",{attrs:{md:"6"}},[r("b-form-group",{attrs:{label:"Förnamn","label-for":"member-firstname"}},[r("b-form-input",{attrs:{id:"member-firstname"},model:{value:e.spar.fn,callback:function(t){e.$set(e.spar,"fn",t)},expression:"spar.fn"}})],1)],1),r("b-col",{attrs:{md:"6"}},[r("b-form-group",{attrs:{label:"Efternamn","label-for":"member-lastname"}},[r("b-form-input",{attrs:{id:"member-lastname"},model:{value:e.spar.ln,callback:function(t){e.$set(e.spar,"ln",t)},expression:"spar.ln"}})],1)],1)],1),r("b-row",{staticClass:"mt-6"},[r("b-col",{attrs:{md:"12"}},[r("b-form-group",{attrs:{label:"Gatuadress","label-for":"member-street"}},[r("b-form-input",{attrs:{id:"member-street"},model:{value:e.spar.st,callback:function(t){e.$set(e.spar,"st",t)},expression:"spar.st"}})],1)],1)],1),r("b-row",[r("b-col",{attrs:{md:"5"}},[r("b-form-group",{attrs:{label:"Postkod","label-for":"member-postcode"}},[r("b-form-input",{attrs:{id:"member-postcode"},model:{value:e.spar.zip,callback:function(t){e.$set(e.spar,"zip",t)},expression:"spar.zip"}})],1)],1),r("b-col",{attrs:{md:"7"}},[r("b-form-group",{attrs:{label:"Postort","label-for":"member-postal"}},[r("b-form-input",{attrs:{id:"member-postal"},model:{value:e.spar.pa,callback:function(t){e.$set(e.spar,"pa",t)},expression:"spar.pa"}})],1)],1)],1),e.sparWaiting?r("b-row",{staticClass:"mt-6"},[r("b-col",{attrs:{lg:"6"}},[r("b-button",{attrs:{variant:"outline-success"},on:{click:e.doSpar}},[e._v(" Gör SPAR uppslag ")])],1),r("b-col",{attrs:{lg:"6"}})],1):e._e(),e.showError?r("b-row",[r("b-col",{attrs:{lg:"12"}},[r("b-alert",{attrs:{variant:"danger",show:""}},[e._v(e._s(e.errorText))])],1)],1):e._e(),e.sparOK?r("b-row",{staticClass:"mt-6"},[r("b-col",{attrs:{lg:"6"}},[r("b-button",{attrs:{variant:"outline-success"},on:{click:e.save}},[e._v(" Spara ")])],1),r("b-col",{attrs:{lg:"6"}},[r("b-button",{attrs:{variant:"outline-primary"},on:{click:e.cancel}},[e._v(" Ångra ")])],1)],1):e._e(),e.showError?r("b-row",{staticClass:"mt-6"},[r("b-col",{attrs:{lg:"6"}},[r("b-button",{attrs:{variant:"outline-primary"},on:{click:e.cancel}},[e._v(" Stäng ")])],1)],1):e._e()],1)])},f=[],p={name:"create-member",components:{Confirm:d["a"]},data:function(){return{showError:!1,errorText:"Ett fel uppstod",showSPARModal:!1,sparWaiting:!0,sparOK:!1,spar:{pa:"",fn:"",ln:"",st:"",zip:""}}},props:{client_id:{type:Number,default:null}},watch:{},computed:{},mounted:function(){return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},methods:{show:function(){this.showSPARModal=!0},close:function(){this.showSPARModal=!1},doSpar:function(){this.doSPARLookup(this.client_id)},cancel:function(){this.$refs["modal"].hide(),this.$emit("cancel")},save:function(){this.$emit("save")},toastr:function(e,t,r){this.$bvToast.toast(r,{title:t,autoHideDelay:2e3,appendToast:!0,variant:e})},doSPARLookup:function(e){var t=this;this.sparWaiting=!1,c.a.get("/client/spar?client_id=".concat(e)).then((function(e){"SPAR disabled"===e.data.reason?(t.showError=!0,t.errorText="SPAR är ej aktiverat"):(t.spar=e.data.spar,t.sparOK=!0),console.log("error: "+t.showError)})).catch((function(e){console.error(e),t.toastr("danger","Serverfel","Kunde inte göra uppslag"),t.showError=!0}))}}},h=p,b=(r("c53f"),r("2877")),g=Object(b["a"])(h,m,f,!1,null,"dea12048",null),v=g.exports,y=(r("c1df"),r("c789")),_={name:"create-member",components:{Confirm:d["a"],SPARLookup:v},data:function(){return{password:"",spurl:"",form:{number:"",firstname:"",lastname:"",security_number:"",mobile:"",email:"",sex:"M",country:"",commune_code:"",region_code:"",rdt:"",login_token:"",co:"",birthyear:"",birthmonth:"",birthday:"",ssn_last_4:""},attrName:null,attrNames:[],attrVal:null,attrVals:[],attrIndex:null,showAttrForm:!1,showParentForm:!1,invalidEmail:!1,validEmail:!1,validSSN:!1,validBirth:!1,validTel:!1,validAddress:!1,validZip:!1,validPost:!1,validFn:!1,validLn:!1,originalEmail:"",attrFields:[{key:"attrName",label:"Kolumn",thStyle:"width: 30%"},{key:"value",label:"Värde",thStyle:"width: 50%"},{key:"action",label:"",thStyle:"width: auto"}],attrItems:[],parentFields:[{key:"fn",label:"Förnamn",thStyle:"width: 20%"},{key:"ln",label:"Efternamn",thStyle:"width: 20%"},{key:"ph",label:"Telefon",thStyle:"width: 20%"},{key:"em",label:"E-post",thStyle:"width: 20%"},{key:"action",label:"",thStyle:"width: auto"}],parentItems:[],parentIndex:"",parent:{ln:"",fn:"",em:"",ph:"",pn:""},communes:{},isPut:!this.isNew,currentClientId:this.$store.getters.currentClientId,clientExcelField:{"Förening":"company_name",Medlemsnummer:"public_id","Förnamn":"firstname",Efternamn:"lastname",Personnummer:"in_personnr","Kön":"sex_name","C/O":"co",Gata:"address",Postnummer:"zipcode",Postort:"post",Region:"region_name",Kommun:"commune_name",Land:"country_name",Telefon:"phone","E-post":"email",Period:"period_name",Betalat:"paying",LADOK:"ladok","Ålder":"age",Registreringsdatum:"rdt"}}},props:{client_id:{type:Number,default:null},isNew:{type:Boolean,default:!1},regions:{type:Array,default:[]},countries:{type:Array,default:[]},genders:{type:Array,default:[]},constreq:{type:Array,required:!0}},watch:{client_id:function(e,t){console.log("change: ",e),e&&(this.loadClient(e),console.log("client id load: "+e))},attrName:function(e,t){var r=this,n=this.attrNames.find((function(t){return t.value===e}));void 0!==n&&(this.attrVals=[],n.props.filter((function(e,t){r.attrVals.push({value:t,text:e.name,id:e.prop_id})})),this.attrVal=0)},showAttrForm:function(e,t){e&&(this.attrIndex=null)},"form.in_personnr":function(e,t){var r=Object(y["a"])(e);console.log(r),this.validSSN=this.constreq.includes("MEMBER_REQ_SSN")?r.valid:r.success,this.form.birthyear=r.year,this.form.birthmonth=r.month,this.form.birthday=r.day,this.form.ssn_last_4=r.valid?r.last:""},"form.email":function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,r=t.test(String(this.form.email).toLowerCase()),this.invalidEmail=!1,this.validEmail=r;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),"form.phone":function(e,t){this.validTel=this.validate_phone(e)},"form.address":function(e,t){this.validAddress=this.is_set(e)},"form.zipcode":function(e,t){this.validZip=this.is_set(e)},"form.post":function(e,t){this.validPost=this.is_set(e)},"form.firstname":function(e,t){this.validFn=this.is_set(e)},"form.lastname":function(e,t){this.validLn=this.is_set(e)}},computed:Object(s["a"])(Object(s["a"])({},Object(l["b"])(["currentCompanyId","companies","periods","company"])),{},{currentPeriod:function(){var e=this.$store.getters["currentPeriodId"],t=this.$store.getters["periods"];return t.filter((function(t){return t.id===e}))[0]},disabledSaveParent:function(){var e=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,t=e.test(String(this.parent.em).toLowerCase()),r=this.is_set(this.parent.ln),n=this.is_set(this.parent.fn),a=this.is_set(this.parent.ph)&&!!Number(this.parent.ph);return t&&r&&n&&a},isValid:function(){var e=!this.constreq.includes("MEMBER_REQ_SSN")&&!this.constreq.includes("MEMBER_REQ_PERSONNR")||this.validSSN,t=!this.constreq.includes("MEMBER_REQ_FULLNAME")||this.validFn&&this.validLn,r=!this.constreq.includes("MEMBER_REQ_EMAILPHONE")||(this.validTel||this.validEmail),n=!this.constreq.includes("MEMBER_REQ_EMAIL")||this.validEmail,a=!this.constreq.includes("MEMBER_REQ_PHONE")||this.validTel,s=!this.constreq.includes("MEMBER_REQ_ADDRESS")||this.validAddress&&this.validPost&&this.validZip;return!(s&&t&&n&&a&&r&&e)}}),mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.loadAttributes();case 2:if(t.t0=e.client_id,!t.t0){t.next=6;break}return t.next=6,e.loadClient(e.client_id);case 6:case"end":return t.stop()}}),t)})))()},methods:{onClose:function(){this.$emit("onClose")},loadAttributes:function(){var e=this;c.a.get("/property_group/extlist?company_id=".concat(this.currentCompanyId)).then((function(t){return 200===t.status&&(t.data.groups.filter((function(t,r){e.attrNames.push({value:r,text:t.name,id:t.group_id,props:t.props})})),e.attrName=0),t.status})).catch((function(e){return console.log(e)}))},showSPAR:function(){this.$refs["sparModal"].show()},loadClient:function(e){var t=this;this.resetForm(),c.a.get("/client?client_id=".concat(e)).then((function(r){200===r.status?(t.$store.dispatch(u["b"],e),t.form=r.data.client,t.originalEmail=r.data.client.email,t.parentItems=r.data.client.parents,t.spurl="https://".concat(window.location.hostname,"/spurl/").concat(t.form.spurl),null===t.form.rdt||void 0===t.form.rdt?t.form.rdt="":t.form.rdt=t.form.rdt,t.decodeProperties(r.data.client.properties),t.onRegionChange(r.data.client.region_code)):t.toastr("danger","Serverfel","Kunde inte hämta medlemsdata")})).catch((function(e){console.error(e),t.toastr("danger","Serverfel","Kunde inte hämta medlemsdata")}))},onRegionChange:function(e){console.log("REGION )( CHANGED",e),null===e||""===e||void 0===e?(this.form.region_code="",this.form.commune_code=""):(this.communes=this.regions.find((function(t){return t.value===e})).communes,this.form.region=e)},maskDate:function(e){console.log(e.toString());var t=e.toString().substring(0,4),r=e.toString().substring(4,6),n=e.toString().substring(6);return"".concat(t,"-").concat(r,"-").concat(n)},toastr:function(e,t,r){this.$bvToast.toast(r,{title:t,autoHideDelay:2e3,appendToast:!0,variant:e})},onSubmit:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.form.properties=e.encodeProperties(),e.form.company_id=e.$store.getters.currentCompanyId,e.form.period_id=e.$store.getters.currentPeriodId,e.form.parents_data=e.parentItems,""!==e.password&&e.password.length>6&&(e.form.password=e.password),r=e.$loading.show(),!e.isPut){t.next=12;break}return t.next=9,c.a.put("/client/".concat(e.client_id),e.form);case 9:t.t0=t.sent,t.next=15;break;case 12:return t.next=14,c.a.post("/client",e.form);case 14:t.t0=t.sent;case 15:if(n=t.t0,200!==n.status){t.next=25;break}return e.isPut?e.toastr("success","OK","Medlemmen har uppdaterats"):e.toastr("success","OK","Medlemmen har skapats"),e.isPut=!0,e.form=n.data.client,e.form.client_id=parseInt(e.form.client_id),t.next=23,e.$store.dispatch(u["b"],parseInt(n.data.client.client_id));case 23:t.next=26;break;case 25:e.toastr("danger","Serverfel","Det gick inte att skapa medlem.");case 26:r&&r.hide();case 27:case"end":return t.stop()}}),t)})))()},showConfirm:function(e){switch(e){case 1:this.$refs["renewal"].show();break;case 2:this.$refs["resetPass"].show();break;case 3:this.$refs["deleteMember"].show();break}},onRenewal:function(){var e=this,t={client_id:this.client_id};c.a.post("/client/sendrenew",t).then((function(t){e.toastr("success","förnyelse","Förnyelse-länken har skickats via e-post.")})).catch((function(t){console.error(t),e.toastr("danger","Serverfel","kunde inte maila")}))},onResetPass:function(){var e=this,t={client_id:this.client_id,email:this.form.email};c.a.post("/client/forget",t).then((function(t){e.toastr("success","förnyelse","Förnyelse-länken har skickats via e-post.")})).catch((function(t){console.error(t),e.toastr("danger","Serverfel","kunde inte maila")}))},onSaveParent:function(){this.parent.pn="",this.is_set(this.parentIndex)?this.parentItems[this.parentIndex]=this.parent:this.parentItems.push(this.parent),console.log("Parent",this.parentItems),this.showParentForm=!1,this.parent={}},createParent:function(){this.parentIndex="",this.showParentForm=!this.showParentForm},editParent:function(e){this.showParentForm=!this.showParentForm,this.showParentForm&&(this.parentIndex=e,this.parent=this.parentItems[e])},deleteParent:function(e){this.parentItems.splice(e,1)},onSaveAttr:function(){if(""===this.attrName||""===this.attrVal)return!1;var e=this.attrNames[this.attrName],t=this.attrVals[this.attrVal],r=this.attrItems.find((function(r){return r.group_id===e.id&&r.prop_id===t.id})),n={attrName:e.text,value:t.text,group_id:e.id,prop_id:t.id};null!==this.attrIndex?this.attrItems.splice(this.attrIndex,1,n):void 0===r&&this.attrItems.push(n),this.attrIndex=null,this.showAttrForm=!1},editAttr:function(e){this.attrIndex=e,this.showAttrForm=!0;var t=this.attrItems[e],r=this.attrNames.find((function(e){return e.id===t.group_id}));void 0!==r&&(this.attrName=r.value);var n=this.attrVals.find((function(e){return e.id===t.prop_id}));void 0!==n&&(this.attrVal=n.value)},deleteAttr:function(e){this.attrItems.splice(e,1)},encodeProperties:function(){var e=[],t=this.attrItems.reduce((function(e,t){var r=String(t.group_id);return e[r]||(e[r]={},e[r].prop_ids=[],e[r].group_id=""),e[r].group_id=r,e[r].prop_ids.push(String(t.prop_id)),e}),{});for(var r in t)e.push(t[r]);return e},decodeProperties:function(e){var t=this;this.attrItems=[],e.filter((function(e){e.values.filter((function(r){var n={attrName:e.name,value:r.name,group_id:e.id,prop_id:r.id};t.attrItems.push(n)}))}))},login:function(){var e=this.$router.resolve({path:"/profile/".concat(this.client_id,"/").concat(this.form.login_token)});window.open(e.href,"_blank")},onExport:function(){var e=this;c.a.get("/client/xlsx?client_id=".concat(this.client_id)).then((function(t){var r=t.data.filepath.replace(/^.*[\\\/]/,"");e.downloadWithAxios(t.data.filepath,r),e.toastr("success","OK","Exporten lyckades")})).catch((function(e){return console.log(e)}))},forceFileDownload:function(e,t){console.log(t);var r=window.URL.createObjectURL(new Blob([e.data])),n=document.createElement("a");n.href=r,n.setAttribute("download",t),document.body.appendChild(n),n.click()},downloadWithAxios:function(e,t){var r=this;c()({method:"get",url:e,responseType:"arraybuffer"}).then((function(e){r.forceFileDownload(e,t)})).catch((function(){return console.log("error occured")}))},resetForm:function(){this.form={number:"",firstname:"",lastname:"",security_number:"",mobile:"",email:"",sex:"M",country:"",commune_code:"",region_code:"",rdt:"",login_token:"",co:"",birthyear:"",birthmonth:"",birthday:"",ssn_last_4:""}},validate_phone:function(e){if((e+"").length<6)return!1;var t=/^\+?\d*$/;return t.test(String(e).toLowerCase())},is_set:function(e){return null!==e&&void 0!==e&&""!==e&&" "!==e}}},w=_,k=(r("df3e"),Object(b["a"])(w,n,a,!1,null,"2397863d",null));t["a"]=k.exports},"85f7":function(e,t,r){},8668:function(e,t,r){"use strict";r("3704")},"893a":function(e,t,r){"use strict";function n(e){window.location!==window.parent.location?(console.log("we are a child window"),window.top.postMessage(["messageFromChild",e],"*")):console.log("We are the parent window: unable to post")}var a=function(e){return n(e)};t["a"]=a},"947a":function(e,t,r){"use strict";r("aced")},"95f6":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-select",{attrs:{multiple:"",options:e.options},model:{value:e.showFields,callback:function(t){e.showFields=t},expression:"showFields"}})],1)},a=[],s=(r("4de4"),r("caad"),r("2532"),r("4a7a")),o=r.n(s),i=(r("6dfc"),{name:"multi-select",components:{vSelect:o.a},props:{data:{type:Array,default:[]},selectedData:{type:Array,default:[]}},data:function(){return{options:[],fields:[],showFields:[{key:"all",label:"Alla",show:!0}],locked:!1}},watch:{showFields:function(e,t){var r=this.fields;if(e.length!==this.fields.length||"all"===t[0].key){for(var n=function(t){e[t].hasOwnProperty("code")&&(e[t].key=e[t].code),!e[t].show&&e[t].hasOwnProperty("show")||(r=r.filter((function(r){return r.label!==e[t].label})))},a=0;a<e.length;++a)n(a);this.options=r}else this.showFields=[]},data:function(e,t){e&&this.setLists()},selectedData:function(e,t){var r=this;e&&this.options.filter((function(t){e.includes(t.code)&&r.showFields.push(t)}))}},methods:{isAll:function(){return this.showFields.length>0&&("all"===this.showFields[0].key||"all"===this.showFields[0].code)},getData:function(){if(this.isAll())return["all"];for(var e=[],t=0;t<this.showFields.length;++t)"all"!==this.showFields[t].key&&"all"!==this.showFields[t].code&&e.push(this.showFields[t].code);return e},setLists:function(){this.fields=this.data;for(var e=this.fields,t=this,r=function(r){!t.showFields[r].show&&t.showFields[r].hasOwnProperty("show")||(e=e.filter((function(e){return e.label!==t.showFields[r].label})))},n=0;n<t.showFields.length;++n)r(n);this.options=e},reset:function(){this.showFields=[{key:"all",label:"Alla",show:!0}]}},mounted:function(){this.setLists();var e=this;setInterval((function(){e.showFields.length>1&&"all"===e.showFields[0].key?e.showFields=e.showFields.filter((function(e){return"all"!==e.key&&"all"!==e.code})):0===e.showFields.length&&(e.showFields=[{code:"all",key:"all",label:"Alla",show:!0}])}),100)}}),c=i,l=r("2877"),u=r("6544"),d=r.n(u),m=r("b974"),f=Object(l["a"])(c,n,a,!1,null,null,null);t["a"]=f.exports;d()(f,{VSelect:m["a"]})},"96c3":function(e,t,r){},9861:function(e,t,r){"use strict";r("e260");var n=r("23e7"),a=r("d066"),s=r("0d3b"),o=r("6eeb"),i=r("e2cc"),c=r("d44e"),l=r("9ed3"),u=r("69f3"),d=r("19aa"),m=r("5135"),f=r("0366"),p=r("f5df"),h=r("825a"),b=r("861d"),g=r("7c73"),v=r("5c6c"),y=r("9a1f"),_=r("35a1"),w=r("b622"),k=a("fetch"),x=a("Headers"),C=w("iterator"),S="URLSearchParams",P=S+"Iterator",E=u.set,A=u.getterFor(S),O=u.getterFor(P),$=/\+/g,R=Array(4),I=function(e){return R[e-1]||(R[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},M=function(e){try{return decodeURIComponent(e)}catch(t){return e}},j=function(e){var t=e.replace($," "),r=4;try{return decodeURIComponent(t)}catch(n){while(r)t=t.replace(I(r--),M);return t}},F=/[!'()~]|%20/g,T={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},V=function(e){return T[e]},N=function(e){return encodeURIComponent(e).replace(F,V)},D=function(e,t){if(t){var r,n,a=t.split("&"),s=0;while(s<a.length)r=a[s++],r.length&&(n=r.split("="),e.push({key:j(n.shift()),value:j(n.join("="))}))}},L=function(e){this.entries.length=0,D(this.entries,e)},q=function(e,t){if(e<t)throw TypeError("Not enough arguments")},z=l((function(e,t){E(this,{type:P,iterator:y(A(e).entries),kind:t})}),"Iterator",(function(){var e=O(this),t=e.kind,r=e.iterator.next(),n=r.value;return r.done||(r.value="keys"===t?n.key:"values"===t?n.value:[n.key,n.value]),r})),B=function(){d(this,B,S);var e,t,r,n,a,s,o,i,c,l=arguments.length>0?arguments[0]:void 0,u=this,f=[];if(E(u,{type:S,entries:f,updateURL:function(){},updateSearchParams:L}),void 0!==l)if(b(l))if(e=_(l),"function"===typeof e){t=e.call(l),r=t.next;while(!(n=r.call(t)).done){if(a=y(h(n.value)),s=a.next,(o=s.call(a)).done||(i=s.call(a)).done||!s.call(a).done)throw TypeError("Expected sequence with length 2");f.push({key:o.value+"",value:i.value+""})}}else for(c in l)m(l,c)&&f.push({key:c,value:l[c]+""});else D(f,"string"===typeof l?"?"===l.charAt(0)?l.slice(1):l:l+"")},U=B.prototype;i(U,{append:function(e,t){q(arguments.length,2);var r=A(this);r.entries.push({key:e+"",value:t+""}),r.updateURL()},delete:function(e){q(arguments.length,1);var t=A(this),r=t.entries,n=e+"",a=0;while(a<r.length)r[a].key===n?r.splice(a,1):a++;t.updateURL()},get:function(e){q(arguments.length,1);for(var t=A(this).entries,r=e+"",n=0;n<t.length;n++)if(t[n].key===r)return t[n].value;return null},getAll:function(e){q(arguments.length,1);for(var t=A(this).entries,r=e+"",n=[],a=0;a<t.length;a++)t[a].key===r&&n.push(t[a].value);return n},has:function(e){q(arguments.length,1);var t=A(this).entries,r=e+"",n=0;while(n<t.length)if(t[n++].key===r)return!0;return!1},set:function(e,t){q(arguments.length,1);for(var r,n=A(this),a=n.entries,s=!1,o=e+"",i=t+"",c=0;c<a.length;c++)r=a[c],r.key===o&&(s?a.splice(c--,1):(s=!0,r.value=i));s||a.push({key:o,value:i}),n.updateURL()},sort:function(){var e,t,r,n=A(this),a=n.entries,s=a.slice();for(a.length=0,r=0;r<s.length;r++){for(e=s[r],t=0;t<r;t++)if(a[t].key>e.key){a.splice(t,0,e);break}t===r&&a.push(e)}n.updateURL()},forEach:function(e){var t,r=A(this).entries,n=f(e,arguments.length>1?arguments[1]:void 0,3),a=0;while(a<r.length)t=r[a++],n(t.value,t.key,this)},keys:function(){return new z(this,"keys")},values:function(){return new z(this,"values")},entries:function(){return new z(this,"entries")}},{enumerable:!0}),o(U,C,U.entries),o(U,"toString",(function(){var e,t=A(this).entries,r=[],n=0;while(n<t.length)e=t[n++],r.push(N(e.key)+"="+N(e.value));return r.join("&")}),{enumerable:!0}),c(B,S),n({global:!0,forced:!s},{URLSearchParams:B}),s||"function"!=typeof k||"function"!=typeof x||n({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,r,n,a=[e];return arguments.length>1&&(t=arguments[1],b(t)&&(r=t.body,p(r)===S&&(n=t.headers?new x(t.headers):new x,n.has("content-type")||n.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=g(t,{body:v(0,String(r)),headers:v(0,n)}))),a.push(t)),k.apply(this,a)}}),e.exports={URLSearchParams:B,getState:A}},"9a1f":function(e,t,r){var n=r("825a"),a=r("35a1");e.exports=function(e){var t=a(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return n(t.call(e))}},"9ad6":function(e,t,r){},"9cb3":function(e,t,r){},"9f58":function(e,t,r){"use strict";r("cf36")},a184:function(e,t,r){},a22b:function(e,t,r){},a91a:function(e,t,r){},abb2:function(e,t,r){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="fb15")}({"00ee":function(e,t,r){var n=r("b622"),a=n("toStringTag"),s={};s[a]="z",e.exports="[object z]"===String(s)},"0366":function(e,t,r){var n=r("1c0b");e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,a){return e.call(t,r,n,a)}}return function(){return e.apply(t,arguments)}}},"0538":function(e,t,r){"use strict";var n=r("1c0b"),a=r("861d"),s=[].slice,o={},i=function(e,t,r){if(!(t in o)){for(var n=[],a=0;a<t;a++)n[a]="a["+a+"]";o[t]=Function("C,a","return new C("+n.join(",")+")")}return o[t](e,r)};e.exports=Function.bind||function(e){var t=n(this),r=s.call(arguments,1),o=function(){var n=r.concat(s.call(arguments));return this instanceof o?i(t,n.length,n):t.apply(e,n)};return a(t.prototype)&&(o.prototype=t.prototype),o}},"057f":function(e,t,r){var n=r("fc6a"),a=r("241c").f,s={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],i=function(e){try{return a(e)}catch(t){return o.slice()}};e.exports.f=function(e){return o&&"[object Window]"==s.call(e)?i(e):a(n(e))}},"06cf":function(e,t,r){var n=r("83ab"),a=r("d1e7"),s=r("5c6c"),o=r("fc6a"),i=r("c04e"),c=r("5135"),l=r("0cfb"),u=Object.getOwnPropertyDescriptor;t.f=n?u:function(e,t){if(e=o(e),t=i(t,!0),l)try{return u(e,t)}catch(r){}if(c(e,t))return s(!a.f.call(e,t),e[t])}},"0cfb":function(e,t,r){var n=r("83ab"),a=r("d039"),s=r("cc12");e.exports=!n&&!a((function(){return 7!=Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},"131a":function(e,t,r){var n=r("23e7"),a=r("d2bb");n({target:"Object",stat:!0},{setPrototypeOf:a})},"14c3":function(e,t,r){var n=r("c6b6"),a=r("9263");e.exports=function(e,t){var r=e.exec;if("function"===typeof r){var s=r.call(e,t);if("object"!==typeof s)throw TypeError("RegExp exec method returned something other than an Object or null");return s}if("RegExp"!==n(e))throw TypeError("RegExp#exec called on incompatible receiver");return a.call(e,t)}},"1be4":function(e,t,r){var n=r("d066");e.exports=n("document","documentElement")},"1c0b":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},"1c7e":function(e,t,r){var n=r("b622"),a=n("iterator"),s=!1;try{var o=0,i={next:function(){return{done:!!o++}},return:function(){s=!0}};i[a]=function(){return this},Array.from(i,(function(){throw 2}))}catch(c){}e.exports=function(e,t){if(!t&&!s)return!1;var r=!1;try{var n={};n[a]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch(c){}return r}},"1d80":function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},"1dde":function(e,t,r){var n=r("d039"),a=r("b622"),s=r("2d00"),o=a("species");e.exports=function(e){return s>=51||!n((function(){var t=[],r=t.constructor={};return r[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"23cb":function(e,t,r){var n=r("a691"),a=Math.max,s=Math.min;e.exports=function(e,t){var r=n(e);return r<0?a(r+t,0):s(r,t)}},"23e7":function(e,t,r){var n=r("da84"),a=r("06cf").f,s=r("9112"),o=r("6eeb"),i=r("ce4e"),c=r("e893"),l=r("94ca");e.exports=function(e,t){var r,u,d,m,f,p,h=e.target,b=e.global,g=e.stat;if(u=b?n:g?n[h]||i(h,{}):(n[h]||{}).prototype,u)for(d in t){if(f=t[d],e.noTargetGet?(p=a(u,d),m=p&&p.value):m=u[d],r=l(b?d:h+(g?".":"#")+d,e.forced),!r&&void 0!==m){if(typeof f===typeof m)continue;c(f,m)}(e.sham||m&&m.sham)&&s(f,"sham",!0),o(u,d,f,e)}}},"241c":function(e,t,r){var n=r("ca84"),a=r("7839"),s=a.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,s)}},"25eb":function(e,t,r){var n=r("23e7"),a=r("c20d");n({target:"Number",stat:!0,forced:Number.parseInt!=a},{parseInt:a})},"25f0":function(e,t,r){"use strict";var n=r("6eeb"),a=r("825a"),s=r("d039"),o=r("ad6d"),i="toString",c=RegExp.prototype,l=c[i],u=s((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),d=l.name!=i;(u||d)&&n(RegExp.prototype,i,(function(){var e=a(this),t=String(e.source),r=e.flags,n=String(void 0===r&&e instanceof RegExp&&!("flags"in c)?o.call(e):r);return"/"+t+"/"+n}),{unsafe:!0})},"2d00":function(e,t,r){var n,a,s=r("da84"),o=r("342f"),i=s.process,c=i&&i.versions,l=c&&c.v8;l?(n=l.split("."),a=n[0]+n[1]):o&&(n=o.match(/Edge\/(\d+)/),(!n||n[1]>=74)&&(n=o.match(/Chrome\/(\d+)/),n&&(a=n[1]))),e.exports=a&&+a},3410:function(e,t,r){var n=r("23e7"),a=r("d039"),s=r("7b0b"),o=r("e163"),i=r("e177"),c=a((function(){o(1)}));n({target:"Object",stat:!0,forced:c,sham:!i},{getPrototypeOf:function(e){return o(s(e))}})},"342f":function(e,t,r){var n=r("d066");e.exports=n("navigator","userAgent")||""},"35a1":function(e,t,r){var n=r("f5df"),a=r("3f8c"),s=r("b622"),o=s("iterator");e.exports=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||a[n(e)]}},"37e8":function(e,t,r){var n=r("83ab"),a=r("9bf2"),s=r("825a"),o=r("df75");e.exports=n?Object.defineProperties:function(e,t){s(e);var r,n=o(t),i=n.length,c=0;while(i>c)a.f(e,r=n[c++],t[r]);return e}},"3bbe":function(e,t,r){var n=r("861d");e.exports=function(e){if(!n(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},"3ca3":function(e,t,r){"use strict";var n=r("6547").charAt,a=r("69f3"),s=r("7dd0"),o="String Iterator",i=a.set,c=a.getterFor(o);s(String,"String",(function(e){i(this,{type:o,string:String(e),index:0})}),(function(){var e,t=c(this),r=t.string,a=t.index;return a>=r.length?{value:void 0,done:!0}:(e=n(r,a),t.index+=e.length,{value:e,done:!1})}))},"3f8c":function(e,t){e.exports={}},"428f":function(e,t,r){var n=r("da84");e.exports=n},"44ad":function(e,t,r){var n=r("d039"),a=r("c6b6"),s="".split;e.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?s.call(e,""):Object(e)}:Object},"44d2":function(e,t,r){var n=r("b622"),a=r("7c73"),s=r("9bf2"),o=n("unscopables"),i=Array.prototype;void 0==i[o]&&s.f(i,o,{configurable:!0,value:a(null)}),e.exports=function(e){i[o][e]=!0}},"45fc":function(e,t,r){"use strict";var n=r("23e7"),a=r("b727").some,s=r("a640"),o=r("ae40"),i=s("some"),c=o("some");n({target:"Array",proto:!0,forced:!i||!c},{some:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},4930:function(e,t,r){var n=r("d039");e.exports=!!Object.getOwnPropertySymbols&&!n((function(){return!String(Symbol())}))},"4ae1":function(e,t,r){var n=r("23e7"),a=r("d066"),s=r("1c0b"),o=r("825a"),i=r("861d"),c=r("7c73"),l=r("0538"),u=r("d039"),d=a("Reflect","construct"),m=u((function(){function e(){}return!(d((function(){}),[],e)instanceof e)})),f=!u((function(){d((function(){}))})),p=m||f;n({target:"Reflect",stat:!0,forced:p,sham:p},{construct:function(e,t){s(e),o(t);var r=arguments.length<3?e:s(arguments[2]);if(f&&!m)return d(e,t,r);if(e==r){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var n=[null];return n.push.apply(n,t),new(l.apply(e,n))}var a=r.prototype,u=c(i(a)?a:Object.prototype),p=Function.apply.call(e,u,t);return i(p)?p:u}})},"4d64":function(e,t,r){var n=r("fc6a"),a=r("50c4"),s=r("23cb"),o=function(e){return function(t,r,o){var i,c=n(t),l=a(c.length),u=s(o,l);if(e&&r!=r){while(l>u)if(i=c[u++],i!=i)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===r)return e||u||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},"4df4":function(e,t,r){"use strict";var n=r("0366"),a=r("7b0b"),s=r("9bdd"),o=r("e95a"),i=r("50c4"),c=r("8418"),l=r("35a1");e.exports=function(e){var t,r,u,d,m,f,p=a(e),h="function"==typeof this?this:Array,b=arguments.length,g=b>1?arguments[1]:void 0,v=void 0!==g,y=l(p),_=0;if(v&&(g=n(g,b>2?arguments[2]:void 0,2)),void 0==y||h==Array&&o(y))for(t=i(p.length),r=new h(t);t>_;_++)f=v?g(p[_],_):p[_],c(r,_,f);else for(d=y.call(p),m=d.next,r=new h;!(u=m.call(d)).done;_++)f=v?s(d,g,[u.value,_],!0):u.value,c(r,_,f);return r.length=_,r}},"50c4":function(e,t,r){var n=r("a691"),a=Math.min;e.exports=function(e){return e>0?a(n(e),9007199254740991):0}},5135:function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},5319:function(e,t,r){"use strict";var n=r("d784"),a=r("825a"),s=r("7b0b"),o=r("50c4"),i=r("a691"),c=r("1d80"),l=r("8aa5"),u=r("14c3"),d=Math.max,m=Math.min,f=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,h=/\$([$&'`]|\d\d?)/g,b=function(e){return void 0===e?e:String(e)};n("replace",2,(function(e,t,r,n){var g=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,v=n.REPLACE_KEEPS_$0,y=g?"$":"$0";return[function(r,n){var a=c(this),s=void 0==r?void 0:r[e];return void 0!==s?s.call(r,a,n):t.call(String(a),r,n)},function(e,n){if(!g&&v||"string"===typeof n&&-1===n.indexOf(y)){var s=r(t,e,this,n);if(s.done)return s.value}var c=a(e),f=String(this),p="function"===typeof n;p||(n=String(n));var h=c.global;if(h){var w=c.unicode;c.lastIndex=0}var k=[];while(1){var x=u(c,f);if(null===x)break;if(k.push(x),!h)break;var C=String(x[0]);""===C&&(c.lastIndex=l(f,o(c.lastIndex),w))}for(var S="",P=0,E=0;E<k.length;E++){x=k[E];for(var A=String(x[0]),O=d(m(i(x.index),f.length),0),$=[],R=1;R<x.length;R++)$.push(b(x[R]));var I=x.groups;if(p){var M=[A].concat($,O,f);void 0!==I&&M.push(I);var j=String(n.apply(void 0,M))}else j=_(A,f,O,$,I,n);O>=P&&(S+=f.slice(P,O)+j,P=O+A.length)}return S+f.slice(P)}];function _(e,r,n,a,o,i){var c=n+e.length,l=a.length,u=h;return void 0!==o&&(o=s(o),u=p),t.call(i,u,(function(t,s){var i;switch(s.charAt(0)){case"$":return"$";case"&":return e;case"`":return r.slice(0,n);case"'":return r.slice(c);case"<":i=o[s.slice(1,-1)];break;default:var u=+s;if(0===u)return t;if(u>l){var d=f(u/10);return 0===d?t:d<=l?void 0===a[d-1]?s.charAt(1):a[d-1]+s.charAt(1):t}i=a[u-1]}return void 0===i?"":i}))}}))},5692:function(e,t,r){var n=r("c430"),a=r("c6cd");(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:n?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(e,t,r){var n=r("d066"),a=r("241c"),s=r("7418"),o=r("825a");e.exports=n("Reflect","ownKeys")||function(e){var t=a.f(o(e)),r=s.f;return r?t.concat(r(e)):t}},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,r){var n=r("1d80"),a=r("5899"),s="["+a+"]",o=RegExp("^"+s+s+"*"),i=RegExp(s+s+"*$"),c=function(e){return function(t){var r=String(n(t));return 1&e&&(r=r.replace(o,"")),2&e&&(r=r.replace(i,"")),r}};e.exports={start:c(1),end:c(2),trim:c(3)}},"5c6c":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6547:function(e,t,r){var n=r("a691"),a=r("1d80"),s=function(e){return function(t,r){var s,o,i=String(a(t)),c=n(r),l=i.length;return c<0||c>=l?e?"":void 0:(s=i.charCodeAt(c),s<55296||s>56319||c+1===l||(o=i.charCodeAt(c+1))<56320||o>57343?e?i.charAt(c):s:e?i.slice(c,c+2):o-56320+(s-55296<<10)+65536)}};e.exports={codeAt:s(!1),charAt:s(!0)}},"65f0":function(e,t,r){var n=r("861d"),a=r("e8b5"),s=r("b622"),o=s("species");e.exports=function(e,t){var r;return a(e)&&(r=e.constructor,"function"!=typeof r||r!==Array&&!a(r.prototype)?n(r)&&(r=r[o],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},"69f3":function(e,t,r){var n,a,s,o=r("7f9a"),i=r("da84"),c=r("861d"),l=r("9112"),u=r("5135"),d=r("f772"),m=r("d012"),f=i.WeakMap,p=function(e){return s(e)?a(e):n(e,{})},h=function(e){return function(t){var r;if(!c(t)||(r=a(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}};if(o){var b=new f,g=b.get,v=b.has,y=b.set;n=function(e,t){return y.call(b,e,t),t},a=function(e){return g.call(b,e)||{}},s=function(e){return v.call(b,e)}}else{var _=d("state");m[_]=!0,n=function(e,t){return l(e,_,t),t},a=function(e){return u(e,_)?e[_]:{}},s=function(e){return u(e,_)}}e.exports={set:n,get:a,has:s,enforce:p,getterFor:h}},"6b93":function(e,t,r){var n=r("23e7"),a=Math.log,s=Math.LOG10E;n({target:"Math",stat:!0},{log10:function(e){return a(e)*s}})},"6e17":function(e,t,r){},"6eeb":function(e,t,r){var n=r("da84"),a=r("9112"),s=r("5135"),o=r("ce4e"),i=r("8925"),c=r("69f3"),l=c.get,u=c.enforce,d=String(String).split("String");(e.exports=function(e,t,r,i){var c=!!i&&!!i.unsafe,l=!!i&&!!i.enumerable,m=!!i&&!!i.noTargetGet;"function"==typeof r&&("string"!=typeof t||s(r,"name")||a(r,"name",t),u(r).source=d.join("string"==typeof t?t:"")),e!==n?(c?!m&&e[t]&&(l=!0):delete e[t],l?e[t]=r:a(e,t,r)):l?e[t]=r:o(t,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||i(this)}))},7156:function(e,t,r){var n=r("861d"),a=r("d2bb");e.exports=function(e,t,r){var s,o;return a&&"function"==typeof(s=t.constructor)&&s!==r&&n(o=s.prototype)&&o!==r.prototype&&a(e,o),e}},7418:function(e,t){t.f=Object.getOwnPropertySymbols},"746f":function(e,t,r){var n=r("428f"),a=r("5135"),s=r("e538"),o=r("9bf2").f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});a(t,e)||o(t,e,{value:s.f(e)})}},7839:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(e,t,r){var n=r("1d80");e.exports=function(e){return Object(n(e))}},"7c73":function(e,t,r){var n,a=r("825a"),s=r("37e8"),o=r("7839"),i=r("d012"),c=r("1be4"),l=r("cc12"),u=r("f772"),d=">",m="<",f="prototype",p="script",h=u("IE_PROTO"),b=function(){},g=function(e){return m+p+d+e+m+"/"+p+d},v=function(e){e.write(g("")),e.close();var t=e.parentWindow.Object;return e=null,t},y=function(){var e,t=l("iframe"),r="java"+p+":";return t.style.display="none",c.appendChild(t),t.src=String(r),e=t.contentWindow.document,e.open(),e.write(g("document.F=Object")),e.close(),e.F},_=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(t){}_=n?v(n):y();var e=o.length;while(e--)delete _[f][o[e]];return _()};i[h]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(b[f]=a(e),r=new b,b[f]=null,r[h]=e):r=_(),void 0===t?r:s(r,t)}},"7dd0":function(e,t,r){"use strict";var n=r("23e7"),a=r("9ed3"),s=r("e163"),o=r("d2bb"),i=r("d44e"),c=r("9112"),l=r("6eeb"),u=r("b622"),d=r("c430"),m=r("3f8c"),f=r("ae93"),p=f.IteratorPrototype,h=f.BUGGY_SAFARI_ITERATORS,b=u("iterator"),g="keys",v="values",y="entries",_=function(){return this};e.exports=function(e,t,r,u,f,w,k){a(r,t,u);var x,C,S,P=function(e){if(e===f&&R)return R;if(!h&&e in O)return O[e];switch(e){case g:return function(){return new r(this,e)};case v:return function(){return new r(this,e)};case y:return function(){return new r(this,e)}}return function(){return new r(this)}},E=t+" Iterator",A=!1,O=e.prototype,$=O[b]||O["@@iterator"]||f&&O[f],R=!h&&$||P(f),I="Array"==t&&O.entries||$;if(I&&(x=s(I.call(new e)),p!==Object.prototype&&x.next&&(d||s(x)===p||(o?o(x,p):"function"!=typeof x[b]&&c(x,b,_)),i(x,E,!0,!0),d&&(m[E]=_))),f==v&&$&&$.name!==v&&(A=!0,R=function(){return $.call(this)}),d&&!k||O[b]===R||c(O,b,R),m[t]=R,f)if(C={values:P(v),keys:w?R:P(g),entries:P(y)},k)for(S in C)(h||A||!(S in O))&&l(O,S,C[S]);else n({target:t,proto:!0,forced:h||A},C);return C}},"7f9a":function(e,t,r){var n=r("da84"),a=r("8925"),s=n.WeakMap;e.exports="function"===typeof s&&/native code/.test(a(s))},"825a":function(e,t,r){var n=r("861d");e.exports=function(e){if(!n(e))throw TypeError(String(e)+" is not an object");return e}},"83ab":function(e,t,r){var n=r("d039");e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8418:function(e,t,r){"use strict";var n=r("c04e"),a=r("9bf2"),s=r("5c6c");e.exports=function(e,t,r){var o=n(t);o in e?a.f(e,o,s(0,r)):e[o]=r}},"861d":function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},8925:function(e,t,r){var n=r("c6cd"),a=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(e){return a.call(e)}),e.exports=n.inspectSource},"8aa5":function(e,t,r){"use strict";var n=r("6547").charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},"8bbf":function(e,t){e.exports=r("2b0e")},"90e3":function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++r+n).toString(36)}},9112:function(e,t,r){var n=r("83ab"),a=r("9bf2"),s=r("5c6c");e.exports=n?function(e,t,r){return a.f(e,t,s(1,r))}:function(e,t,r){return e[t]=r,e}},9263:function(e,t,r){"use strict";var n=r("ad6d"),a=r("9f7f"),s=RegExp.prototype.exec,o=String.prototype.replace,i=s,c=function(){var e=/a/,t=/b*/g;return s.call(e,"a"),s.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),l=a.UNSUPPORTED_Y||a.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],d=c||u||l;d&&(i=function(e){var t,r,a,i,d=this,m=l&&d.sticky,f=n.call(d),p=d.source,h=0,b=e;return m&&(f=f.replace("y",""),-1===f.indexOf("g")&&(f+="g"),b=String(e).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==e[d.lastIndex-1])&&(p="(?: "+p+")",b=" "+b,h++),r=new RegExp("^(?:"+p+")",f)),u&&(r=new RegExp("^"+p+"$(?!\\s)",f)),c&&(t=d.lastIndex),a=s.call(m?r:d,b),m?a?(a.input=a.input.slice(h),a[0]=a[0].slice(h),a.index=d.lastIndex,d.lastIndex+=a[0].length):d.lastIndex=0:c&&a&&(d.lastIndex=d.global?a.index+a[0].length:t),u&&a&&a.length>1&&o.call(a[0],r,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(a[i]=void 0)})),a}),e.exports=i},"94ca":function(e,t,r){var n=r("d039"),a=/#|\.prototype\./,s=function(e,t){var r=i[o(e)];return r==l||r!=c&&("function"==typeof t?n(t):!!t)},o=s.normalize=function(e){return String(e).replace(a,".").toLowerCase()},i=s.data={},c=s.NATIVE="N",l=s.POLYFILL="P";e.exports=s},"9bdd":function(e,t,r){var n=r("825a");e.exports=function(e,t,r,a){try{return a?t(n(r)[0],r[1]):t(r)}catch(o){var s=e["return"];throw void 0!==s&&n(s.call(e)),o}}},"9bf2":function(e,t,r){var n=r("83ab"),a=r("0cfb"),s=r("825a"),o=r("c04e"),i=Object.defineProperty;t.f=n?i:function(e,t,r){if(s(e),t=o(t,!0),s(r),a)try{return i(e,t,r)}catch(n){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},"9c4a":function(e,t,r){"use strict";r("9eff").polyfill()},"9ed3":function(e,t,r){"use strict";var n=r("ae93").IteratorPrototype,a=r("7c73"),s=r("5c6c"),o=r("d44e"),i=r("3f8c"),c=function(){return this};e.exports=function(e,t,r){var l=t+" Iterator";return e.prototype=a(n,{next:s(1,r)}),o(e,l,!1,!0),i[l]=c,e}},"9eff":function(e,t,r){"use strict";function n(e,t){if(void 0===e||null===e)throw new TypeError("Cannot convert first argument to object");for(var r=Object(e),n=1;n<arguments.length;n++){var a=arguments[n];if(void 0!==a&&null!==a)for(var s=Object.keys(Object(a)),o=0,i=s.length;o<i;o++){var c=s[o],l=Object.getOwnPropertyDescriptor(a,c);void 0!==l&&l.enumerable&&(r[c]=a[c])}}return r}function a(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:n})}e.exports={assign:n,polyfill:a}},"9f7f":function(e,t,r){"use strict";var n=r("d039");function a(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=n((function(){var e=a("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=n((function(){var e=a("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},a4d3:function(e,t,r){"use strict";var n=r("23e7"),a=r("da84"),s=r("d066"),o=r("c430"),i=r("83ab"),c=r("4930"),l=r("fdbf"),u=r("d039"),d=r("5135"),m=r("e8b5"),f=r("861d"),p=r("825a"),h=r("7b0b"),b=r("fc6a"),g=r("c04e"),v=r("5c6c"),y=r("7c73"),_=r("df75"),w=r("241c"),k=r("057f"),x=r("7418"),C=r("06cf"),S=r("9bf2"),P=r("d1e7"),E=r("9112"),A=r("6eeb"),O=r("5692"),$=r("f772"),R=r("d012"),I=r("90e3"),M=r("b622"),j=r("e538"),F=r("746f"),T=r("d44e"),V=r("69f3"),N=r("b727").forEach,D=$("hidden"),L="Symbol",q="prototype",z=M("toPrimitive"),B=V.set,U=V.getterFor(L),H=Object[q],K=a.Symbol,W=s("JSON","stringify"),G=C.f,Q=S.f,Y=k.f,X=P.f,Z=O("symbols"),J=O("op-symbols"),ee=O("string-to-symbol-registry"),te=O("symbol-to-string-registry"),re=O("wks"),ne=a.QObject,ae=!ne||!ne[q]||!ne[q].findChild,se=i&&u((function(){return 7!=y(Q({},"a",{get:function(){return Q(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=G(H,t);n&&delete H[t],Q(e,t,r),n&&e!==H&&Q(H,t,n)}:Q,oe=function(e,t){var r=Z[e]=y(K[q]);return B(r,{type:L,tag:e,description:t}),i||(r.description=t),r},ie=l?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof K},ce=function(e,t,r){e===H&&ce(J,t,r),p(e);var n=g(t,!0);return p(r),d(Z,n)?(r.enumerable?(d(e,D)&&e[D][n]&&(e[D][n]=!1),r=y(r,{enumerable:v(0,!1)})):(d(e,D)||Q(e,D,v(1,{})),e[D][n]=!0),se(e,n,r)):Q(e,n,r)},le=function(e,t){p(e);var r=b(t),n=_(r).concat(pe(r));return N(n,(function(t){i&&!de.call(r,t)||ce(e,t,r[t])})),e},ue=function(e,t){return void 0===t?y(e):le(y(e),t)},de=function(e){var t=g(e,!0),r=X.call(this,t);return!(this===H&&d(Z,t)&&!d(J,t))&&(!(r||!d(this,t)||!d(Z,t)||d(this,D)&&this[D][t])||r)},me=function(e,t){var r=b(e),n=g(t,!0);if(r!==H||!d(Z,n)||d(J,n)){var a=G(r,n);return!a||!d(Z,n)||d(r,D)&&r[D][n]||(a.enumerable=!0),a}},fe=function(e){var t=Y(b(e)),r=[];return N(t,(function(e){d(Z,e)||d(R,e)||r.push(e)})),r},pe=function(e){var t=e===H,r=Y(t?J:b(e)),n=[];return N(r,(function(e){!d(Z,e)||t&&!d(H,e)||n.push(Z[e])})),n};if(c||(K=function(){if(this instanceof K)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=I(e),r=function(e){this===H&&r.call(J,e),d(this,D)&&d(this[D],t)&&(this[D][t]=!1),se(this,t,v(1,e))};return i&&ae&&se(H,t,{configurable:!0,set:r}),oe(t,e)},A(K[q],"toString",(function(){return U(this).tag})),A(K,"withoutSetter",(function(e){return oe(I(e),e)})),P.f=de,S.f=ce,C.f=me,w.f=k.f=fe,x.f=pe,j.f=function(e){return oe(M(e),e)},i&&(Q(K[q],"description",{configurable:!0,get:function(){return U(this).description}}),o||A(H,"propertyIsEnumerable",de,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:K}),N(_(re),(function(e){F(e)})),n({target:L,stat:!0,forced:!c},{for:function(e){var t=String(e);if(d(ee,t))return ee[t];var r=K(t);return ee[t]=r,te[r]=t,r},keyFor:function(e){if(!ie(e))throw TypeError(e+" is not a symbol");if(d(te,e))return te[e]},useSetter:function(){ae=!0},useSimple:function(){ae=!1}}),n({target:"Object",stat:!0,forced:!c,sham:!i},{create:ue,defineProperty:ce,defineProperties:le,getOwnPropertyDescriptor:me}),n({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:fe,getOwnPropertySymbols:pe}),n({target:"Object",stat:!0,forced:u((function(){x.f(1)}))},{getOwnPropertySymbols:function(e){return x.f(h(e))}}),W){var he=!c||u((function(){var e=K();return"[null]"!=W([e])||"{}"!=W({a:e})||"{}"!=W(Object(e))}));n({target:"JSON",stat:!0,forced:he},{stringify:function(e,t,r){var n,a=[e],s=1;while(arguments.length>s)a.push(arguments[s++]);if(n=t,(f(t)||void 0!==e)&&!ie(e))return m(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!ie(t))return t}),a[1]=t,W.apply(null,a)}})}K[q][z]||E(K[q],z,K[q].valueOf),T(K,L),R[D]=!0},a630:function(e,t,r){var n=r("23e7"),a=r("4df4"),s=r("1c7e"),o=!s((function(e){Array.from(e)}));n({target:"Array",stat:!0,forced:o},{from:a})},a640:function(e,t,r){"use strict";var n=r("d039");e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){throw 1},1)}))}},a691:function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},a9e3:function(e,t,r){"use strict";var n=r("83ab"),a=r("da84"),s=r("94ca"),o=r("6eeb"),i=r("5135"),c=r("c6b6"),l=r("7156"),u=r("c04e"),d=r("d039"),m=r("7c73"),f=r("241c").f,p=r("06cf").f,h=r("9bf2").f,b=r("58a8").trim,g="Number",v=a[g],y=v.prototype,_=c(m(y))==g,w=function(e){var t,r,n,a,s,o,i,c,l=u(e,!1);if("string"==typeof l&&l.length>2)if(l=b(l),t=l.charCodeAt(0),43===t||45===t){if(r=l.charCodeAt(2),88===r||120===r)return NaN}else if(48===t){switch(l.charCodeAt(1)){case 66:case 98:n=2,a=49;break;case 79:case 111:n=8,a=55;break;default:return+l}for(s=l.slice(2),o=s.length,i=0;i<o;i++)if(c=s.charCodeAt(i),c<48||c>a)return NaN;return parseInt(s,n)}return+l};if(s(g,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var k,x=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof x&&(_?d((function(){y.valueOf.call(r)})):c(r)!=g)?l(new v(w(t)),r,x):w(t)},C=n?f(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;C.length>S;S++)i(v,k=C[S])&&!i(x,k)&&h(x,k,p(v,k));x.prototype=y,y.constructor=x,o(a,g,x)}},ac1f:function(e,t,r){"use strict";var n=r("23e7"),a=r("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},ad6d:function(e,t,r){"use strict";var n=r("825a");e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},ae40:function(e,t,r){var n=r("83ab"),a=r("d039"),s=r("5135"),o=Object.defineProperty,i={},c=function(e){throw e};e.exports=function(e,t){if(s(i,e))return i[e];t||(t={});var r=[][e],l=!!s(t,"ACCESSORS")&&t.ACCESSORS,u=s(t,0)?t[0]:c,d=s(t,1)?t[1]:void 0;return i[e]=!!r&&!a((function(){if(l&&!n)return!0;var e={length:-1};l?o(e,1,{enumerable:!0,get:c}):e[1]=1,r.call(e,u,d)}))}},ae93:function(e,t,r){"use strict";var n,a,s,o=r("e163"),i=r("9112"),c=r("5135"),l=r("b622"),u=r("c430"),d=l("iterator"),m=!1,f=function(){return this};[].keys&&(s=[].keys(),"next"in s?(a=o(o(s)),a!==Object.prototype&&(n=a)):m=!0),void 0==n&&(n={}),u||c(n,d)||i(n,d,f),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:m}},b041:function(e,t,r){"use strict";var n=r("00ee"),a=r("f5df");e.exports=n?{}.toString:function(){return"[object "+a(this)+"]"}},b0c0:function(e,t,r){var n=r("83ab"),a=r("9bf2").f,s=Function.prototype,o=s.toString,i=/^\s*function ([^ (]*)/,c="name";n&&!(c in s)&&a(s,c,{configurable:!0,get:function(){try{return o.call(this).match(i)[1]}catch(e){return""}}})},b622:function(e,t,r){var n=r("da84"),a=r("5692"),s=r("5135"),o=r("90e3"),i=r("4930"),c=r("fdbf"),l=a("wks"),u=n.Symbol,d=c?u:u&&u.withoutSetter||o;e.exports=function(e){return s(l,e)||(i&&s(u,e)?l[e]=u[e]:l[e]=d("Symbol."+e)),l[e]}},b727:function(e,t,r){var n=r("0366"),a=r("44ad"),s=r("7b0b"),o=r("50c4"),i=r("65f0"),c=[].push,l=function(e){var t=1==e,r=2==e,l=3==e,u=4==e,d=6==e,m=5==e||d;return function(f,p,h,b){for(var g,v,y=s(f),_=a(y),w=n(p,h,3),k=o(_.length),x=0,C=b||i,S=t?C(f,k):r?C(f,0):void 0;k>x;x++)if((m||x in _)&&(g=_[x],v=w(g,x,y),e))if(t)S[x]=v;else if(v)switch(e){case 3:return!0;case 5:return g;case 6:return x;case 2:c.call(S,g)}else if(u)return!1;return d?-1:l||u?u:S}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},c04e:function(e,t,r){var n=r("861d");e.exports=function(e,t){if(!n(e))return e;var r,a;if(t&&"function"==typeof(r=e.toString)&&!n(a=r.call(e)))return a;if("function"==typeof(r=e.valueOf)&&!n(a=r.call(e)))return a;if(!t&&"function"==typeof(r=e.toString)&&!n(a=r.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},c20d:function(e,t,r){var n=r("da84"),a=r("58a8").trim,s=r("5899"),o=n.parseInt,i=/^[+-]?0[Xx]/,c=8!==o(s+"08")||22!==o(s+"0x16");e.exports=c?function(e,t){var r=a(String(e));return o(r,t>>>0||(i.test(r)?16:10))}:o},c430:function(e,t){e.exports=!1},c6b6:function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},c6cd:function(e,t,r){var n=r("da84"),a=r("ce4e"),s="__core-js_shared__",o=n[s]||a(s,{});e.exports=o},c8ba:function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(n){"object"===typeof window&&(r=window)}e.exports=r},ca84:function(e,t,r){var n=r("5135"),a=r("fc6a"),s=r("4d64").indexOf,o=r("d012");e.exports=function(e,t){var r,i=a(e),c=0,l=[];for(r in i)!n(o,r)&&n(i,r)&&l.push(r);while(t.length>c)n(i,r=t[c++])&&(~s(l,r)||l.push(r));return l}},cc12:function(e,t,r){var n=r("da84"),a=r("861d"),s=n.document,o=a(s)&&a(s.createElement);e.exports=function(e){return o?s.createElement(e):{}}},ce4e:function(e,t,r){var n=r("da84"),a=r("9112");e.exports=function(e,t){try{a(n,e,t)}catch(r){n[e]=t}return t}},d012:function(e,t){e.exports={}},d039:function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},d066:function(e,t,r){var n=r("428f"),a=r("da84"),s=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?s(n[e])||s(a[e]):n[e]&&n[e][t]||a[e]&&a[e][t]}},d1e7:function(e,t,r){"use strict";var n={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,s=a&&!n.call({1:2},1);t.f=s?function(e){var t=a(this,e);return!!t&&t.enumerable}:n},d28b:function(e,t,r){var n=r("746f");n("iterator")},d2bb:function(e,t,r){var n=r("825a"),a=r("3bbe");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,e.call(r,[]),t=r instanceof Array}catch(s){}return function(r,s){return n(r),a(s),t?e.call(r,s):r.__proto__=s,r}}():void 0)},d3b7:function(e,t,r){var n=r("00ee"),a=r("6eeb"),s=r("b041");n||a(Object.prototype,"toString",s,{unsafe:!0})},d44e:function(e,t,r){var n=r("9bf2").f,a=r("5135"),s=r("b622"),o=s("toStringTag");e.exports=function(e,t,r){e&&!a(e=r?e:e.prototype,o)&&n(e,o,{configurable:!0,value:t})}},d784:function(e,t,r){"use strict";r("ac1f");var n=r("6eeb"),a=r("d039"),s=r("b622"),o=r("9263"),i=r("9112"),c=s("species"),l=!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),d=s("replace"),m=function(){return!!/./[d]&&""===/./[d]("a","$0")}(),f=!a((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));e.exports=function(e,t,r,d){var p=s(e),h=!a((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),b=h&&!a((function(){var t=!1,r=/a/;return"split"===e&&(r={},r.constructor={},r.constructor[c]=function(){return r},r.flags="",r[p]=/./[p]),r.exec=function(){return t=!0,null},r[p](""),!t}));if(!h||!b||"replace"===e&&(!l||!u||m)||"split"===e&&!f){var g=/./[p],v=r(p,""[e],(function(e,t,r,n,a){return t.exec===o?h&&!a?{done:!0,value:g.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:m}),y=v[0],_=v[1];n(String.prototype,e,y),n(RegExp.prototype,p,2==t?function(e,t){return _.call(e,this,t)}:function(e){return _.call(e,this)})}d&&i(RegExp.prototype[p],"sham",!0)}},da84:function(e,t,r){(function(t){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof t&&t)||Function("return this")()}).call(this,r("c8ba"))},ddb0:function(e,t,r){var n=r("da84"),a=r("fdbc"),s=r("e260"),o=r("9112"),i=r("b622"),c=i("iterator"),l=i("toStringTag"),u=s.values;for(var d in a){var m=n[d],f=m&&m.prototype;if(f){if(f[c]!==u)try{o(f,c,u)}catch(h){f[c]=u}if(f[l]||o(f,l,d),a[d])for(var p in s)if(f[p]!==s[p])try{o(f,p,s[p])}catch(h){f[p]=s[p]}}}},df75:function(e,t,r){var n=r("ca84"),a=r("7839");e.exports=Object.keys||function(e){return n(e,a)}},e01a:function(e,t,r){"use strict";var n=r("23e7"),a=r("83ab"),s=r("da84"),o=r("5135"),i=r("861d"),c=r("9bf2").f,l=r("e893"),u=s.Symbol;if(a&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},m=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof m?new u(e):void 0===e?u():u(e);return""===e&&(d[t]=!0),t};l(m,u);var f=m.prototype=u.prototype;f.constructor=m;var p=f.toString,h="Symbol(test)"==String(u("test")),b=/^Symbol\((.*)\)[^)]+$/;c(f,"description",{configurable:!0,get:function(){var e=i(this)?this.valueOf():this,t=p.call(e);if(o(d,e))return"";var r=h?t.slice(7,-1):t.replace(b,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:m})}},e163:function(e,t,r){var n=r("5135"),a=r("7b0b"),s=r("f772"),o=r("e177"),i=s("IE_PROTO"),c=Object.prototype;e.exports=o?Object.getPrototypeOf:function(e){return e=a(e),n(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?c:null}},e177:function(e,t,r){var n=r("d039");e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},e260:function(e,t,r){"use strict";var n=r("fc6a"),a=r("44d2"),s=r("3f8c"),o=r("69f3"),i=r("7dd0"),c="Array Iterator",l=o.set,u=o.getterFor(c);e.exports=i(Array,"Array",(function(e,t){l(this,{type:c,target:n(e),index:0,kind:t})}),(function(){var e=u(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values"),s.Arguments=s.Array,a("keys"),a("values"),a("entries")},e538:function(e,t,r){var n=r("b622");t.f=n},e893:function(e,t,r){var n=r("5135"),a=r("56ef"),s=r("06cf"),o=r("9bf2");e.exports=function(e,t){for(var r=a(t),i=o.f,c=s.f,l=0;l<r.length;l++){var u=r[l];n(e,u)||i(e,u,c(t,u))}}},e8b5:function(e,t,r){var n=r("c6b6");e.exports=Array.isArray||function(e){return"Array"==n(e)}},e95a:function(e,t,r){var n=r("b622"),a=r("3f8c"),s=n("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(a.Array===e||o[s]===e)}},f174:function(e,t,r){"use strict";function n(e,t){var r=document.querySelector(".vue-input-autowidth-mirror-".concat(e.dataset.uuid)),n={maxWidth:"none",minWidth:"none",comfortZone:0},a=Object.assign({},n,t.value);e.style.maxWidth=a.maxWidth,e.style.minWidth=a.minWidth;var s=e.value;s||(s=e.placeholder||"");while(r.childNodes.length)r.removeChild(r.childNodes[0]);r.appendChild(document.createTextNode(s));var o=r.scrollWidth+a.comfortZone+2;o!=e.scrollWidth&&(e.style.width="".concat(o,"px"))}r("9c4a");var a={bind:function(e){if("INPUT"!==e.tagName.toLocaleUpperCase())throw new Error("v-input-autowidth can only be used on input elements.");e.dataset.uuid=Math.random().toString(36).slice(-5),e.style.boxSizing="content-box"},inserted:function(e,t){var r=window.getComputedStyle(e);e.mirror=document.createElement("span"),Object.assign(e.mirror.style,{position:"absolute",top:"0",left:"0",visibility:"hidden",height:"0",overflow:"hidden",whiteSpace:"pre",fontSize:r.fontSize,fontFamily:r.fontFamily,fontWeight:r.fontWeight,fontStyle:r.fontStyle,letterSpacing:r.letterSpacing,textTransform:r.textTransform}),e.mirror.classList.add("vue-input-autowidth-mirror-".concat(e.dataset.uuid)),e.mirror.setAttribute("aria-hidden","true"),document.body.appendChild(e.mirror),n(e,t)},componentUpdated:function(e,t){n(e,t)},unbind:function(e){document.body.removeChild(e.mirror)}},s=function(e){e.directive("autowidth",a)};"undefined"!==typeof window&&window.Vue&&window.Vue.use(s),a.install=s,e.exports=a},f5df:function(e,t,r){var n=r("00ee"),a=r("c6b6"),s=r("b622"),o=s("toStringTag"),i="Arguments"==a(function(){return arguments}()),c=function(e,t){try{return e[t]}catch(r){}};e.exports=n?a:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=c(t=Object(e),o))?r:i?a(t):"Object"==(n=a(t))&&"function"==typeof t.callee?"Arguments":n}},f6fd:function(e,t){(function(e){var t="currentScript",r=e.getElementsByTagName("script");t in e||Object.defineProperty(e,t,{get:function(){try{throw new Error}catch(n){var e,t=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(n.stack)||[!1])[1];for(e in r)if(r[e].src==t||"interactive"==r[e].readyState)return r[e];return null}}})})(document)},f772:function(e,t,r){var n=r("5692"),a=r("90e3"),s=n("keys");e.exports=function(e){return s[e]||(s[e]=a(e))}},f8c9:function(e,t,r){"use strict";var n=r("6e17"),a=r.n(n);a.a},fb15:function(e,t,r){"use strict";var n;(r.r(t),"undefined"!==typeof window)&&(r("f6fd"),(n=window.document.currentScript)&&(n=n.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(r.p=n[1]));r("ac1f"),r("5319");var a=r("8bbf"),s=r.n(a),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"simple-range-slider"},[r("div",{staticClass:"simple-range-slider-bg-bar",style:{background:e.barColor}},[e.isRange?r("div",{staticClass:"simple-range-slider-bar",style:e.barStyle}):e._e(),e.popoverMerged?r("div",{staticClass:"simple-range-slider-popover simple-range-slider-merged-popover",staticStyle:{right:"unset"},style:e.mergedPopoverStyle},[r("label",[r("input",{directives:[{name:"digits-only",rawName:"v-digits-only"},{name:"model",rawName:"v-model.number",value:e.anchor1Value,expression:"anchor1Value",modifiers:{number:!0}},{name:"autowidth",rawName:"v-autowidth",value:{maxWidth:"960px",minWidth:"12px",comfortZone:0},expression:"{maxWidth: '960px', minWidth: '12px', comfortZone: 0}"}],ref:"input1",attrs:{type:"text"},domProps:{value:e.anchor1Value},on:{input:function(t){t.target.composing||(e.anchor1Value=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),r("label",[r("input",{directives:[{name:"autowidth",rawName:"v-autowidth",value:{maxWidth:"960px",minWidth:"0",comfortZone:0},expression:"{maxWidth: '960px', minWidth: '0', comfortZone: 0}"}],ref:"input_",attrs:{type:"text",disabled:"",value:"-"}})]),r("label",[r("input",{directives:[{name:"digits-only",rawName:"v-digits-only"},{name:"model",rawName:"v-model.number",value:e.anchor2Value,expression:"anchor2Value",modifiers:{number:!0}},{name:"autowidth",rawName:"v-autowidth",value:{maxWidth:"960px",minWidth:"12px",comfortZone:0},expression:"{maxWidth: '960px', minWidth: '12px', comfortZone: 0}"}],ref:"input2",attrs:{type:"text"},domProps:{value:e.anchor2Value},on:{input:function(t){t.target.composing||(e.anchor2Value=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]):e._e(),r("div",{staticClass:"simple-range-slider-anchor",style:e.anchor1Style},[r("div",{staticClass:"simple-range-slider-handle",attrs:{tabindex:"1"},on:{mousedown:function(t){return e.mouseDown(1,t)},keydown:function(t){return e.keyDown(1,t)}}}),e.popoverMerged?e._e():r("div",{staticClass:"simple-range-slider-popover simple-range-slider-popover-left",style:{right:e.isRtl?"0 !important":"",left:e.isRtl?"unset":""}},[r("label",[r("input",{directives:[{name:"digits-only",rawName:"v-digits-only"},{name:"model",rawName:"v-model.number",value:e.anchor1Value,expression:"anchor1Value",modifiers:{number:!0}},{name:"autowidth",rawName:"v-autowidth",value:{maxWidth:"960px",minWidth:"12px",comfortZone:0},expression:"{maxWidth: '960px', minWidth: '12px', comfortZone: 0}"}],ref:"input1",attrs:{type:"text"},domProps:{value:e.anchor1Value},on:{input:function(t){t.target.composing||(e.anchor1Value=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),r("div",{staticClass:"simple-range-slider-popover-arrow"})]),e.isRange?r("div",{staticClass:"simple-range-slider-anchor",style:e.anchor2Style},[r("div",{staticClass:"simple-range-slider-handle",attrs:{tabindex:"1"},on:{mousedown:function(t){return e.mouseDown(2,t)},keydown:function(t){return e.keyDown(2,t)}}}),e.popoverMerged?e._e():r("div",{staticClass:"simple-range-slider-popover",style:{left:e.isRtl?"-3px !important":"",right:e.isRtl?"unset !important":""}},[r("label",[r("input",{directives:[{name:"digits-only",rawName:"v-digits-only"},{name:"model",rawName:"v-model.number",value:e.anchor2Value,expression:"anchor2Value",modifiers:{number:!0}},{name:"autowidth",rawName:"v-autowidth",value:{maxWidth:"960px",minWidth:"12px",comfortZone:0},expression:"{maxWidth: '960px', minWidth: '12px', comfortZone: 0}"}],ref:"input2",attrs:{type:"text"},domProps:{value:e.anchor2Value},on:{input:function(t){t.target.composing||(e.anchor2Value=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),r("div",{staticClass:"simple-range-slider-popover-arrow"})]):e._e()])])},i=[];r("45fc"),r("6b93"),r("a9e3"),r("25eb");function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e){if(Array.isArray(e))return c(e)}r("a4d3"),r("e01a"),r("d28b"),r("a630"),r("d3b7"),r("3ca3"),r("ddb0");function u(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}r("fb6a"),r("b0c0"),r("25f0");function d(e,t){if(e){if("string"===typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}function m(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e){return l(e)||u(e)||d(e)||m()}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e,t,r){return t&&h(e.prototype,t),r&&h(e,r),e}r("131a");function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}r("4ae1"),r("3410");function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function _(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function w(e){return w="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t){return!t||"object"!==w(t)&&"function"!==typeof t?k(e):t}function C(e){var t=_();return function(){var r,n=y(e);if(t){var a=y(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return x(this,r)}}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function S(e,t,r,n){var a,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(o=(s<3?a(o):s>3?a(t,r,o):a(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}
/**
  * vue-class-component v7.2.5
  * (c) 2015-present Evan You
  * @license MIT
  */
function P(e){return P="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A(e){return O(e)||$(e)||R()}function O(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function $(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function R(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function I(){return"undefined"!==typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys}function M(e,t){j(e,t),Object.getOwnPropertyNames(t.prototype).forEach((function(r){j(e.prototype,t.prototype,r)})),Object.getOwnPropertyNames(t).forEach((function(r){j(e,t,r)}))}function j(e,t,r){var n=r?Reflect.getOwnMetadataKeys(t,r):Reflect.getOwnMetadataKeys(t);n.forEach((function(n){var a=r?Reflect.getOwnMetadata(n,t,r):Reflect.getOwnMetadata(n,t);r?Reflect.defineMetadata(n,a,e,r):Reflect.defineMetadata(n,a,e)}))}var F={__proto__:[]},T=F instanceof Array;function V(e){return function(t,r,n){var a="function"===typeof t?t:t.constructor;a.__decorators__||(a.__decorators__=[]),"number"!==typeof n&&(n=void 0),a.__decorators__.push((function(t){return e(t,r,n)}))}}function N(e){var t=P(e);return null==e||"object"!==t&&"function"!==t}function D(e,t){var r=t.prototype._init;t.prototype._init=function(){var t=this,r=Object.getOwnPropertyNames(e);if(e.$options.props)for(var n in e.$options.props)e.hasOwnProperty(n)||r.push(n);r.forEach((function(r){Object.defineProperty(t,r,{get:function(){return e[r]},set:function(t){e[r]=t},configurable:!0})}))};var n=new t;t.prototype._init=r;var a={};return Object.keys(n).forEach((function(e){void 0!==n[e]&&(a[e]=n[e])})),a}var L=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.name=t.name||e._componentTag||e.name;var r=e.prototype;Object.getOwnPropertyNames(r).forEach((function(e){if("constructor"!==e)if(L.indexOf(e)>-1)t[e]=r[e];else{var n=Object.getOwnPropertyDescriptor(r,e);void 0!==n.value?"function"===typeof n.value?(t.methods||(t.methods={}))[e]=n.value:(t.mixins||(t.mixins=[])).push({data:function(){return E({},e,n.value)}}):(n.get||n.set)&&((t.computed||(t.computed={}))[e]={get:n.get,set:n.set})}})),(t.mixins||(t.mixins=[])).push({data:function(){return D(this,e)}});var n=e.__decorators__;n&&(n.forEach((function(e){return e(t)})),delete e.__decorators__);var a=Object.getPrototypeOf(e.prototype),o=a instanceof s.a?a.constructor:s.a,i=o.extend(t);return B(i,e,o),I()&&M(i,e),i}var z={prototype:!0,arguments:!0,callee:!0,caller:!0};function B(e,t,r){Object.getOwnPropertyNames(t).forEach((function(n){if(!z[n]){var a=Object.getOwnPropertyDescriptor(e,n);if(!a||a.configurable){var s=Object.getOwnPropertyDescriptor(t,n);if(!T){if("cid"===n)return;var o=Object.getOwnPropertyDescriptor(r,n);if(!N(s.value)&&o&&o.value===s.value)return}0,Object.defineProperty(e,n,s)}}}))}function U(e){return"function"===typeof e?q(e):function(t){return q(t,e)}}U.registerHooks=function(e){L.push.apply(L,A(e))};var H=U;var K="undefined"!==typeof Reflect&&"undefined"!==typeof Reflect.getMetadata;function W(e,t,r){if(K&&!Array.isArray(e)&&"function"!==typeof e&&"undefined"===typeof e.type){var n=Reflect.getMetadata("design:type",t,r);n!==Object&&(e.type=n)}}function G(e){return void 0===e&&(e={}),function(t,r){W(e,t,r),V((function(t,r){(t.props||(t.props={}))[r]=e}))(t,r)}}function Q(e,t){void 0===t&&(t={});var r=t.deep,n=void 0!==r&&r,a=t.immediate,s=void 0!==a&&a;return V((function(t,r){"object"!==typeof t.watch&&(t.watch=Object.create(null));var a=t.watch;"object"!==typeof a[e]||Array.isArray(a[e])?"undefined"===typeof a[e]&&(a[e]=[]):a[e]=[a[e]],a[e].push({handler:r,deep:n,immediate:s})}))}var Y=function(e){v(r,e);var t=C(r);function r(){var e;return p(this,r),e=t.apply(this,arguments),e.isRtl=!1,e.anchor1PositionV=0,e.input1Width=0,e.input2Width=0,e.dashInput=0,e.anchor2PositionV=0,e.width=50,e.draggingAnchor=0,e.dragStartX=0,e.dragStartPosition=0,e.changingByKey=!1,e}return b(r,[{key:"popoverMergedStateChange",value:function(){var e=this;if(this.$refs.input1 instanceof HTMLInputElement&&document.activeElement===this.$refs.input1){var t=this.$refs.input1.selectionStart;this.$nextTick().then((function(){e.$refs.input1 instanceof HTMLInputElement&&(e.$refs.input1.focus(),e.$refs.input1.setSelectionRange(t,t))}))}if(this.$refs.input2 instanceof HTMLInputElement&&document.activeElement===this.$refs.input2){var r=this.$refs.input2.selectionStart;this.$nextTick().then((function(){e.$refs.input2 instanceof HTMLInputElement&&(e.$refs.input2.focus(),e.$refs.input2.setSelectionRange(r,r))}))}}},{key:"value1ToPosition",value:function(e){this.logarithmic?this.anchor1PositionV=this.unLog(e):this.anchor1PositionV=Math.round(e*this.scale)}},{key:"value2ToPosition",value:function(e){this.isRange&&(this.logarithmic?this.anchor2PositionV=this.unLog(e):this.anchor2PositionV=Math.round(e*this.scale))}},{key:"mouseDown",value:function(e,t){var r=this;this.draggingAnchor=e,this.dragStartX=t.x,this.dragStartPosition=1==e?this.anchor1Position:this.anchor2Position;var n=window;n.$SRSMouseMove=function(t){1==e?r.isRtl?r.anchor1Position=r.dragStartPosition+r.dragStartX-t.x:r.anchor1Position=r.dragStartPosition-r.dragStartX+t.x:r.isRtl?r.anchor2Position=r.dragStartPosition+r.dragStartX-t.x:r.anchor2Position=r.dragStartPosition-r.dragStartX+t.x,r.$forceUpdate()},n.$SRSMouseUp=function(){document.removeEventListener("mouseup",n.$SRSMouseUp),document.removeEventListener("mousemove",n.$SRSMouseMove)},document.addEventListener("mousemove",n.$SRSMouseMove),document.addEventListener("mouseup",n.$SRSMouseUp)}},{key:"keyDown",value:function(e,t){var r=this;if(!this.changingByKey){this.changingByKey=!0;var n=40,a=0,s=function(){!r.isRtl&&("ArrowDown"===t.code||"ArrowLeft"===t.code)||r.isRtl&&("ArrowUp"===t.code||"ArrowRight"===t.code)?(1==e&&r.anchor1Position--,2==e&&r.anchor2Position--):(r.isRtl||"ArrowUp"!==t.code&&"ArrowRight"!==t.code)&&(!r.isRtl||"ArrowDown"!==t.code&&"ArrowLeft"!==t.code)||(1==e&&r.anchor1Position++,2==e&&r.anchor2Position++)};s();var o=setInterval((function(){a++,a<n||(n>1&&n--,s())}),5);t.target instanceof HTMLElement&&t.target.addEventListener("keyup",(function(){r.changingByKey=!1,clearInterval(o)}))}}},{key:"mounted",value:function(){var e=this;"rtl"===this.getStyle(this.$el,"direction")&&(this.isRtl=!0),this.width=this.$el.getBoundingClientRect().width-20,setTimeout((function(){e.width=e.$el.getBoundingClientRect().width-20})),this.$refs.input_ instanceof HTMLElement&&(this.dashInput=Number.parseInt(this.$refs.input_.style.width.replace("px","")))}},{key:"getStyle",value:function(e,t){var r;return e.currentStyle?r=e.currentStyle[t]:window.getComputedStyle&&(r=document.defaultView.getComputedStyle(e,null).getPropertyValue(t)),r}},{key:"log",value:function(e){e=Math.max(0,e);var t=Math.log(this.maxAnchorValue-this.minAnchorValue),r=t/this.width,n=Math.floor(Math.exp(r*e));if(n-1!==0){var a=Math.pow(10,Math.floor(Math.log10(n-1+this.minAnchorValue)));n=Math.floor(n/a)*a}else n=n-1+this.minAnchorValue;return n}},{key:"unLog",value:function(e){e++;var t=Math.log(this.maxAnchorValue-this.minAnchorValue),r=t/this.width;return this.isRtl?Math.ceil(Math.log(e)/Math.log(Math.E)/r):Math.floor(Math.log(e)/Math.log(Math.E)/r)}},{key:"isNotSync",get:function(){var e=this,t=Array.isArray(this.value)?!this.tempValue||!Array.isArray(this.tempValue)||this.value.some((function(t,r){return t!==e.tempValue[r]})):this.value!==this.tempValue;return t}},{key:"syncValue",get:function(){if(Array.isArray(this.value)&&this.isNotSync){var e=this.value;this.value1ToPosition(e[0]),this.value2ToPosition(e[1])}else if(this.isNotSync){this.value;this.value1ToPosition(this.value)}return this.value},set:function(e){this.tempValue=e,this.$emit("input",e)}},{key:"popoverMerged",get:function(){return this.anchor2Position-this.anchor1Position<this.input1Width+this.input2Width+4&&this.isRange}},{key:"isRange",get:function(){return Array.isArray(this.value)}},{key:"anchor1Style",get:function(){return{transform:"translateX("+(this.isRtl?this.width-this.anchor1Position-7.5:this.anchor1Position-7.5)+"px)"}}},{key:"barStyle",get:function(){return{transform:"translateX("+(this.isRtl?this.width-this.anchor2Position:this.anchor1Position)+"px)",width:this.anchor2Position-this.anchor1Position+"px",background:this.activeBarColor}}},{key:"anchor2Style",get:function(){return{transform:"translateX("+(this.isRtl?this.width-this.anchor2Position-7.5:this.anchor2Position-7.5)+"px)"}}},{key:"mergedPopoverStyle",get:function(){var e=((this.isRtl?this.width-this.anchor2Position-7.5:this.anchor2Position-7.5)+(this.isRtl?this.width-this.anchor1Position-7.5:this.anchor1Position-7.5))/2-(this.input1Width+this.input2Width+this.dashInput)/2+3;return e=Math.max(e,-10),e=Math.min(e,this.width-(this.input1Width+this.input2Width+this.dashInput)+10),{transform:"translateX("+e+"px)",width:this.anchor2Position-this.anchor1Position+7.5+"px",direction:this.isRtl?"rtl":"ltr",minWidth:this.input1Width+this.input2Width+this.dashInput+6+"px"}}},{key:"anchor1Value",get:function(){var e=this;return this.$nextTick().then((function(){e.$refs.input1 instanceof HTMLElement&&(e.input1Width=Math.max(12,Number.parseInt(e.$refs.input1.style.width.replace("px",""))))})),Array.isArray(this.syncValue)?this.syncValue[0]:this.syncValue},set:function(e){if(e=Math.max(this.minAnchorValue,Math.min(this.maxAnchorValue,e)),this.isRange&&(e=Math.min(this.anchor2Value,e)),this.isRange){var t=f(this.syncValue);t[0]=e,this.syncValue=t}else this.syncValue=e;this.value1ToPosition(e)}},{key:"anchor2Value",get:function(){var e=this;return this.$nextTick().then((function(){e.$refs.input2 instanceof HTMLElement&&(e.input2Width=Math.max(12,Number.parseInt(e.$refs.input2.style.width.replace("px",""))))})),Array.isArray(this.syncValue)?this.syncValue[1]:this.syncValue},set:function(e){if(e=Math.max(this.minAnchorValue,Math.min(this.maxAnchorValue,e)),this.isRange&&(e=Math.max(this.anchor1Value,e)),this.isRange){var t=f(this.syncValue);t[1]=e,this.syncValue=t}else this.syncValue=e;this.value2ToPosition(e)}},{key:"anchor1Position",get:function(){return this.anchor1PositionV},set:function(e){Array.isArray(this.syncValue)&&(e=Math.min(this.anchor2Position,e)),this.logarithmic?this.anchor1Value=this.log(e):this.anchor1Value=Math.round(e/this.scale),this.anchor1PositionV=Math.max(0,Math.min(this.width,e))}},{key:"anchor2Position",get:function(){return this.anchor2PositionV},set:function(e){Array.isArray(this.syncValue)&&(e=Math.max(this.anchor1Position,e)),this.logarithmic?this.anchor2Value=this.log(e):this.anchor2Value=Math.round(e/this.scale),this.anchor2PositionV=Math.max(0,Math.min(this.width,e))}},{key:"minAnchorValue",get:function(){return this.min}},{key:"maxAnchorValue",get:function(){return this.max}},{key:"scale",get:function(){return(this.width-7.5)/(this.maxAnchorValue-this.minAnchorValue)}}]),r}(s.a);S([G()],Y.prototype,"msg",void 0),S([G({default:0})],Y.prototype,"min",void 0),S([G({default:100})],Y.prototype,"max",void 0),S([G({default:!1,type:Boolean})],Y.prototype,"logarithmic",void 0),S([G({required:!0})],Y.prototype,"value",void 0),S([G()],Y.prototype,"activeBarColor",void 0),S([G()],Y.prototype,"barColor",void 0),S([Q("popoverMerged")],Y.prototype,"popoverMergedStateChange",null),Y=S([H],Y);var X=Y,Z=X;r("f8c9");function J(e,t,r,n,a,s,o,i){var c,l="function"===typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=r,l._compiled=!0),n&&(l.functional=!0),s&&(l._scopeId="data-v-"+s),o?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),a&&a.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},l._ssrRegister=c):a&&(c=i?function(){a.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:a),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(e,t){return c.call(t),u(e,t)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,c):[c]}return{exports:e,options:l}}var ee=J(Z,o,i,!1,null,"06329002",null),te=ee.exports,re=r("f174"),ne=r.n(re);s.a.directive("digitsOnly",(function(e,t){if(e instanceof HTMLInputElement&&/[^0-9.]+/i.test(e.value)){var r=e.value.replace(/[^0-9.]+/gi,"");""===r&&(r="0"),e.value=r,t instanceof HTMLInputElement&&(t.value=e.value)}})),s.a.use(ne.a),s.a.component("vueSimpleRangeSlider",te);var ae=s.a.component("vueSimpleRangeSlider",te);t["default"]=ae},fb6a:function(e,t,r){"use strict";var n=r("23e7"),a=r("861d"),s=r("e8b5"),o=r("23cb"),i=r("50c4"),c=r("fc6a"),l=r("8418"),u=r("b622"),d=r("1dde"),m=r("ae40"),f=d("slice"),p=m("slice",{ACCESSORS:!0,0:0,1:2}),h=u("species"),b=[].slice,g=Math.max;n({target:"Array",proto:!0,forced:!f||!p},{slice:function(e,t){var r,n,u,d=c(this),m=i(d.length),f=o(e,m),p=o(void 0===t?m:t,m);if(s(d)&&(r=d.constructor,"function"!=typeof r||r!==Array&&!s(r.prototype)?a(r)&&(r=r[h],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return b.call(d,f,p);for(n=new(void 0===r?Array:r)(g(p-f,0)),u=0;f<p;f++,u++)f in d&&l(n,u,d[f]);return n.length=u,n}})},fc6a:function(e,t,r){var n=r("44ad"),a=r("1d80");e.exports=function(e){return n(a(e))}},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(e,t,r){var n=r("4930");e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator}})},aced:function(e,t,r){},acfe:function(e,t,r){},ae36:function(e,t,r){"use strict";r("14fc")},becd:function(e,t,r){},c53f:function(e,t,r){"use strict";r("63fd")},c5af:function(e,t,r){"use strict";r("a184")},c789:function(e,t,r){"use strict";r("d3b7"),r("ac1f"),r("25f0"),r("466d");var n=r("d4ec"),a=function e(){Object(n["a"])(this,e),this.success=!1,this.valid=!1,this.sex="U",this.year="0000",this.month="00",this.day="00",this.last="0000",this.formatted="00000000-0000"},s=function(e){return o(e)};function o(e){if(void 0===e||null===e||e.length<5){var t=new a;return t.valid=!1,t.success=!1,t}var r=c(e),n=(new Date).getFullYear().toString(10),s=new a;if(!r.success)return s;if(r.year>n||r.year<"1900")return s;var o=Date.parse(r.year+"-"+r.month+"-"+r.day);if(isNaN(o))return s;var l=!1;l="T"===r.last.substr(0,1)||i(r.year+r.month+r.day+r.last),"0000"===r.last&&(l=!1);var u="U";return l&&(u=-1!=="0,2,4,6,8".indexOf(r.last.substr(2,1))?"F":"M"),s.day=r.day,s.formatted=r.year+r.month+r.day+"-"+r.last,s.month=r.month,s.success=!0,s.valid=l,s.last=r.last,s.sex=u,s.year=r.year,s}function i(e){var t,r=e.match(/^(\d)(\d)(\d)(\d)(\d)(\d)(\d)(\d)(\d)(\d)(\d)(\d)$/),n=0;if(null===r)return!1;for(var a=3;a<=12;a++)t=parseInt(r[a]),n+=a%2===0?t:2*t%9+9*Math.floor(t/9);return n%10===0}function c(e){if(null===e||e.length<5)return{success:!1,year:"",month:"",day:"",last:""};for(var t="",r=0;r<e.length;++r){var n=e.substr(r,1);-1!=="0123456789".indexOf(n)&&(t+=n)}var a=(new Date).getFullYear()+"",s=a.substr(2,2);if(t.length==="198507091414".length)return{success:!0,year:t.substr(0,4),month:t.substr(4,2),day:t.substr(6,2),last:t.substr(8,4)};if(t.length==="19850709".length)return{success:!0,year:t.substr(0,4),month:t.substr(4,2),day:t.substr(6,2),last:"0000"};if(t.length==="8507091414".length){var o=t.substr(0,2);return o>=s?{success:!0,year:"19"+o,month:t.substr(2,2),day:t.substr(4,2),last:t.substr(6,4)}:{success:!0,year:"20"+o,month:t.substr(2,2),day:t.substr(4,2),last:t.substr(6,4)}}if(t.length==="850709".length){var i=t.substr(0,2);return i>=s?{success:!0,year:"19"+i,month:t.substr(2,2),day:t.substr(4,2),last:"0000"}:{success:!0,year:"20"+i,month:t.substr(2,2),day:t.substr(4,2),last:"0000"}}if(parseInt(t.substr(2,2),10)>12){if(12===t.length)return{success:!0,year:t.substr(0,4),month:t.substr(4,2),day:t.substr(6,2),last:t.substr(8,4)};if(t.length>=8)return{success:!0,year:t.substr(0,4),month:t.substr(4,2),day:t.substr(6,2),last:"0000"}}if("19"===t.substr(0,2))if(parseInt(t.substr(2,2),10)>12){if(12===t.length)return{success:!0,year:t.substr(0,4),month:t.substr(4,2),day:t.substr(6,2),last:t.substr(8,4)};if(t.length>=8)return{success:!0,year:t.substr(0,4),month:t.substr(4,2),day:t.substr(6,2),last:"0000"};if(t.length<8)return{success:!0,year:"20"+t.substr(0,2),month:t.substr(2,2),day:t.substr(4,2),last:"0000"}}else{if(10===t.length)return{success:!0,year:"20"+t.substr(0,2),month:t.substr(2,2),day:t.substr(4,2),last:t.substr(6,4)};if(8===t.length)return{success:!0,year:"20"+t.substr(0,2),month:t.substr(2,2),day:t.substr(4,2),last:"0000"};if(t.length<8)return{success:!0,year:"20"+t.substr(0,2),month:t.substr(2,2),day:t.substr(4,2),last:"0000"}}else if(t.substr(0,2)>"20"){if(10===t.length)return{success:!0,year:"19"+t.substr(0,2),month:t.substr(2,2),day:t.substr(4,2),last:t.substr(6,4)};if(t.length>=6)return{success:!0,year:"19"+t.substr(0,2),month:t.substr(2,2),day:t.substr(4,2),last:"0000"}}else if(t.substr(0,2)<=s){if(10===t.length)return{success:!0,year:"20"+t.substr(0,2),month:t.substr(2,2),day:t.substr(4,2),last:t.substr(6,4)};if(t.length>=6)return{success:!0,year:"20"+t.substr(0,2),month:t.substr(2,2),day:t.substr(4,2),last:"0000"}}else if("20"===t.substr(0,2)){if(12===t.length)return{success:!0,year:t.substr(0,4),month:t.substr(4,2),day:t.substr(6,2),last:t.substr(8,4)};if(t.length>=8)return{success:!0,year:t.substr(0,4),month:t.substr(4,2),day:t.substr(6,2),last:"0000"}}return{success:!1,year:"",month:"",day:"",last:""}}t["a"]=s},ca9c:function(e,t,r){"use strict";r("a22b")},cf36:function(e,t,r){},d702:function(e,t,r){"use strict";r("4c1c")},df3e:function(e,t,r){"use strict";r("96c3")},e401:function(e,t,r){"use strict";r("1660")},e63f:function(e,t,r){"use strict";r("7cfc3")},e983:function(e,t,r){"use strict";r("39f0")},eb8d:function(e,t,r){"use strict";r("acfe")},ecef:function(e,t,r){},ef5d:function(e,t,r){"use strict";r("85f7")},f007:function(e,t,r){"use strict";r("ecef")},f30f:function(e,t,r){"use strict";r("04a0")},f36a:function(e,t,r){"use strict";r("9ad6")},f8e4:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wizard-body mx-auto bg-white shadow-sm"},[e.created?r("b-card",{staticClass:"mb-2 mt-2 ",attrs:{title:"Medlemskonto skapat!","hide-footer":""}},[r("b-alert",{attrs:{variant:"success",show:""}},[e._v("Ditt konto har skapats och en aktiveringslänk har skickats till din angivna e-postadress")])],1):e._e(),e.error?r("b-card",{staticClass:"mb-2 mt-2 bg-white",attrs:{title:"Ett fel uppstod","hide-footer":""}},[r("b-alert",{attrs:{variant:"danger",show:""}},[e._v("Ditt konto blev inte skapat. Försök igen senare.")])],1):e._e(),e.created?e._e():r("b-card",{staticClass:"wizard-body mb-5 pt-5 bg-white",attrs:{title:"","hide-footer":""}},[null===e.pages||0===e.pages.length?r("b-card",[r("div",{staticClass:"d-flex justify-content-center mb-3"},[r("b-spinner",{attrs:{label:"Loading..."}})],1)]):e._e(),r("div",{staticClass:"h-100 d-flex align-items-center justify-content-center"},[r("div",{staticClass:"col-xl-12 col-xxl-10"},[r("form",{staticClass:"form",attrs:{id:"kt_form"},on:{submit:function(t){return t.preventDefault(),e.createAccount(t)}}},[e._l(e.pages,(function(t,n){return["area_alloc"===t.type?r("div",{key:n,staticClass:"fade-in-up-enter-to"},[r("AreaAllocPage",{directives:[{name:"show",rawName:"v-show",value:e.renderPage.id===t.id,expression:"renderPage.id === page.id"}],ref:"areaAllocPage",refInFor:!0,attrs:{registration:e.registration,page:t,company_id:e.company_id,region_code:e.region_code,commune_code:e.commune_code},on:{isValid:e.isValid,setData:e.setData}})],1):"personnr"===t.type?r("div",{key:n,staticClass:"fade-in-up-enter-to"},[r("PersonnrPage",{directives:[{name:"show",rawName:"v-show",value:e.renderPage.id===t.id,expression:"renderPage.id === page.id"}],ref:"personnrPage",refInFor:!0,attrs:{page:t},on:{isValid:e.isValid,setData:e.setData,doSparLookup:e.doSparLookup}})],1):"details"===t.type?r("div",{key:n,staticClass:"fade-in-up-enter-to"},[r("DetailsPage",{directives:[{name:"show",rawName:"v-show",value:e.renderPage.id===t.id,expression:"renderPage.id === page.id"}],ref:"detailsPage",refInFor:!0,attrs:{spar:e.spar,page:t},on:{isValid:e.isValid,setData:e.setData}})],1):"reg_family"===t.type?r("div",{key:n,staticClass:"fade-in-up-enter-to"},[r("RegisterFamily",{directives:[{name:"show",rawName:"v-show",value:e.renderPage.id===t.id,expression:"renderPage.id === page.id"}],ref:"regFamilyPage",refInFor:!0,attrs:{company_id:e.company_id,page:t},on:{isValid:e.isValid,setData:e.setData}})],1):"properties"===t.type?r("div",{key:n,staticClass:"fade-in-up-enter-to"},[r("PropertyPage",{directives:[{name:"show",rawName:"v-show",value:e.renderPage.id===t.id,expression:"renderPage.id === page.id"}],ref:"propertyPage",refInFor:!0,attrs:{company_id:e.company_id,page:t},on:{isValid:e.isValid,setData:e.setData}})],1):"parents"===t.type&&e.age<e.company.registration.age_max_parent?r("div",{key:n,staticClass:"pb-5 fade-in-up-enter-to"},[r("ParentsPage",{directives:[{name:"show",rawName:"v-show",value:e.renderPage.id===t.id,expression:"renderPage.id === page.id"}],ref:"parentsPage",refInFor:!0,attrs:{age:e.age,"age-max-parent":e.company.registration.age_max_parent,page:t},on:{isValid:e.isValid,setData:e.setData}})],1):"shop"===t.type?r("div",{key:n,staticClass:"fade-in-up-enter-to"},[r("ShopMembershipSelect",{directives:[{name:"show",rawName:"v-show",value:e.renderPage.id===t.id,expression:"renderPage.id === page.id"}],ref:"shopPage",refInFor:!0,attrs:{memberships:e.memberships,extras:e.extras,page:t,age:e.age},on:{membershipClicked:e.membershipClicked,shopItemsUpdated:e.shopItemsUpdated,isValid:e.isValid,setData:e.setData}})],1):"confirm"===t.type?r("div",{key:n,staticClass:"fade-in-up-enter-to"},[r("ConfirmPage",{directives:[{name:"show",rawName:"v-show",value:e.renderPage.id===t.id,expression:"renderPage.id === page.id"}],ref:"confirmPage",refInFor:!0,attrs:{page:t,regdata:e.regdata,company:e.company},on:{isValid:e.isValid,isAllPolicyChecked:e.isAllPolicyChecked,setData:e.setData}})],1):e._e()]})),r("div",{staticClass:"d-flex justify-content-between border-top pt-10"},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.renderPage&&!e.renderPage.first,expression:"renderPage && !renderPage.first"}],staticClass:"mr-2"},[r("button",{staticClass:"btn btn-light-primary font-weight-bold text-uppercase px-9 py-4",on:{click:function(t){return e.previousPage(t)}}},[e._v(" Föregående ")])]),r("div",{directives:[{name:"show",rawName:"v-show",value:!e.lastPage&&e.showNext,expression:"!lastPage && showNext"}]},[r("button",{staticClass:"btn btn-primary font-weight-bold text-uppercase px-9 py-4",on:{click:function(t){return t.stopPropagation(),e.nextPage(t)}}},[e._v(" Nästa steg ")])]),r("div",{directives:[{name:"show",rawName:"v-show",value:e.lastPage&&e.showNext,expression:"lastPage && showNext"}]},[r("button",{staticClass:"btn btn-primary font-weight-bold text-uppercase px-9 py-4",attrs:{type:"submit"}},[e._v(" Skapa konto ")])])])],2)])])],1)],1)},a=[],s=(r("99af"),r("4de4"),r("96cf"),r("1da1")),o=r("b85c"),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.success||e.failure?e._e():r("b-card",[r("div",{staticClass:"d-flex justify-content-center mb-3"},[r("b-spinner",{attrs:{label:"Loading..."}})],1)]),e.success?r("b-card",[r("b-alert",{attrs:{show:"",variant:"secondary"}},[e._v("Välj regionsförening")]),r("div",{staticClass:"checkbox-list"},[e._l(e.regions,(function(t,n){return[r("div",{key:n},[r("div",{staticClass:"d-flex align-items-center mb-6"},[r("label",{staticClass:"radio radio-outline radio-success mr-5"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedRegionCompanyId,expression:"selectedRegionCompanyId"}],attrs:{type:"radio",name:"selectedRegionCompany",checked:"checked"},domProps:{value:t.company_id,checked:e._q(e.selectedRegionCompanyId,t.company_id)},on:{change:function(r){e.selectedRegionCompanyId=t.company_id}}}),r("span",{staticClass:"mr-2"}),e._v(e._s(t.name)+" ")])])])]}))],2)],1):e._e(),e.success&&null!==e.selectedRegionCompanyId?r("b-card",{staticClass:"mt-4"},[r("b-alert",{attrs:{show:"",variant:"secondary"}},[e._v("Välj lokalförening")]),r("div",{staticClass:"checkbox-list"},[e._l(e.locals[e.selectedRegionCompanyId],(function(t,n){return[r("div",{key:n},[r("div",{staticClass:"d-flex align-items-center mb-6"},[r("label",{staticClass:"radio radio-outline radio-success mr-5"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedCommuneCompanyId,expression:"selectedCommuneCompanyId"}],attrs:{type:"radio",name:"selectedCommuneCompany",checked:"checked"},domProps:{value:t.company_id,checked:e._q(e.selectedCommuneCompanyId,t.company_id)},on:{change:function(r){e.selectedCommuneCompanyId=t.company_id}}}),r("span",{staticClass:"mr-2"}),e._v(e._s(t.name)+" ")])])])]}))],2)],1):e._e(),e.success&&e.extras.length>0?r("b-card",{staticClass:"mt-4"},[r("b-alert",{attrs:{show:"",variant:"secondary"}},[e._v("Du kan även gå med i dessa föreningar")]),r("div",{staticClass:"checkbox-list"},[e._l(e.extras,(function(t,n){return[r("div",{key:n},[r("div",{staticClass:"d-flex align-items-center"},[r("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.extraCompanyIds,expression:"extraCompanyIds"}],attrs:{type:"checkbox"},domProps:{value:t.company_id,checked:Array.isArray(e.extraCompanyIds)?e._i(e.extraCompanyIds,t.company_id)>-1:e.extraCompanyIds},on:{change:function(r){var n=e.extraCompanyIds,a=r.target,s=!!a.checked;if(Array.isArray(n)){var o=t.company_id,i=e._i(n,o);a.checked?i<0&&(e.extraCompanyIds=n.concat([o])):i>-1&&(e.extraCompanyIds=n.slice(0,i).concat(n.slice(i+1)))}else e.extraCompanyIds=s}}}),r("span")]),r("span",{staticClass:"ml-3 cursor-pointer mb-4"},[e._v(e._s(t.name))])])])]}))],2)],1):e._e()],1)},c=[],l=r("bc3a"),u=r.n(l),d={name:"area-alloc-multi-membership-page",props:["page","region_code","commune_code","company_id","registration"],components:{},data:function(){return{extras:[],regions:[],locals:{},company_ids:[],selectedRegionCompanyId:null,selectedCommuneCompanyId:null,extraCompanyIds:[],success:!1,failure:!1,cooldown:!1}},mounted:function(){console.log("AreaAllocMultiMembership.vue mounted"),this.loadCompanies(this.company_id,this.region_code,this.commune_code)},watch:{commune_code:function(e,t){this.loadAllocLater()},selectedCommuneCompanyId:function(e,t){this.setCompanies()},selectedRegionCompanyId:function(e,t){this.setCompanies()},extraCompanyIds:function(e,t){this.setCompanies()}},methods:{loadAllocLater:function(){if(!this.cooldown){this.success=!1;var e=this;e.cooldown=!0,setTimeout((function(){e.cooldown=!1,e.loadCompanies(e.company_id,e.region_code,e.commune_code)}),1e3)}},getData:function(){return this.company_ids},setCompanies:function(){this.company_ids=[],null!==this.selectedRegionCompanyId&&this.company_ids.push(this.selectedRegionCompanyId),null!==this.selectedCommuneCompanyId&&this.company_ids.push(this.selectedCommuneCompanyId);var e,t=Object(o["a"])(this.extraCompanyIds);try{for(t.s();!(e=t.n()).done;){var r=e.value;this.company_ids.push(r)}}catch(n){t.e(n)}finally{t.f()}this.validate(),this.$emit("setCompanyIds",this.company_ids)},loadCompanies:function(e,t,r){var n=this;this.success=!1,this.failure=!1,u.a.get("/company/register_multi?company_id=".concat(e,"&region_code=").concat(t,"&commune_code=").concat(r)).then((function(e){n.extras=e.data.companies.extras,n.regions=e.data.companies.regions,n.locals=e.data.companies.locals,null!==e.data.companies.matched_region_company&&(n.selectedRegionCompanyId=e.data.companies.matched_region_company.company_id),null!==e.data.companies.matched_commune_company&&(n.selectedCommuneCompanyId=e.data.companies.matched_commune_company.company_id),n.success=!0})).catch((function(e){console.error(e),n.toastr("danger","Server Fel","Kunde inte hämta lista på föreningar"),n.failure=!0}))},validate:function(){this.$emit("isValid",null!==this.selectedRegionCompanyId&&null!==this.selectedCommuneCompanyId&&this.company_ids.length>0,this.page.id)},toastr:function(e,t,r){this.$bvToast.toast(r,{title:t,autoHideDelay:2e3,appendToast:!0,variant:e})}}},m=d,f=(r("0a00"),r("2877")),p=Object(f["a"])(m,i,c,!1,null,"19fa7808",null),h=p.exports,b=r("893a"),g=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"pb-5",attrs:{"data-wizard-type":"step-content","data-wizard-state":"current"}},[r("h4",{staticClass:"mb-10 font-weight-bold text-dark"},[e._v(e._s(e.header))]),e._m(0)])},v=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card card-custom card-stretch gutter-b"},[r("div",{staticClass:"card-body pt-0 pb-3"})])}],y={name:"register-wizard-page",props:["state","header"],components:{},data:function(){return{}},mounted:function(){},watch:{},methods:{toastr:function(e,t,r){this.$bvToast.toast(r,{title:t,autoHideDelay:2e3,appendToast:!0,variant:e})}}},_=y,w=(r("e983"),Object(f["a"])(_,g,v,!1,null,"d4b9a97e",null)),k=w.exports,x=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"wizard-step",attrs:{"data-wizard-type":"step","data-wizard-state":"current"}},[r("div",{staticClass:"wizard-label"},[r("h3",{staticClass:"wizard-title"},[r("span",[e._v(e._s(e.step))]),e._v(" "+e._s(e.header))]),r("div",{staticClass:"wizard-bar"})])])])},C=[],S={name:"register-wizard-header",props:["state","header","step"],components:{},data:function(){return{}},mounted:function(){},watch:{},methods:{toastr:function(e,t,r){this.$bvToast.toast(r,{title:t,autoHideDelay:2e3,appendToast:!0,variant:e})}}},P=S,E=(r("4396"),Object(f["a"])(P,x,C,!1,null,"f2dec2b6",null)),A=E.exports,O=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h5",{staticClass:"mb-8"},[e._v("Välj medlemskap")]),r("div",{staticClass:"mb-8"},[e._l(e.memberships,(function(t,n){return[e.renderItem(t.rules)?r("PrettyOption",{key:n,staticClass:"mb-8",attrs:{value:t.shop_item_id,name:"memberships",title:t.name,descr:t.descr,price:t.price_sek},on:{valueChanged:e.membershipChanged}}):e._e()]}))],2),e.extras.length>0?r("div",[r("h5",{staticClass:"mb-8"},[e._v("Exklusiva medlemserbjudanden")]),e._l(e.extras,(function(t,n){return[e.renderItem(t.rules)?r("ShopExtraItem",{key:n,ref:"shopItemRow",refInFor:!0,attrs:{shopitem:t},on:{removeShopItem:e.removeShopItem,addShopItem:e.addShopItem}}):e._e()]}))],2):e._e(),e.cart.length>0?r("div",[r("ShopCartTable",{attrs:{total_price:e.total_price,total_vat:e.total_vat,cart:e.cart},on:{deleteItemClicked:e.deleteItemClicked}})],1):e._e()])},$=[],R=(r("d81d"),r("a434"),r("b0c0"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-card",[r("label",{staticClass:"kt-option kt-option kt-option--plain",staticStyle:{"margin-top":"12px"}},[r("span",{staticClass:"kt-option__control"},[r("label",{staticClass:"radio radio-outline radio-success mr-5"},[r("input",{attrs:{type:"radio","v-model":e.isSelected,name:e.name},domProps:{value:e.value},on:{click:e.clicked}}),r("span",{staticClass:"mr-2"})])]),r("span",{staticClass:"kt-option__label"},[r("span",{staticClass:"kt-option__head"},[r("span",{staticClass:"kt-option__title"},[e._v(" "+e._s(e.title)+" ")])]),r("span",{staticClass:"kt-option__body"},[e._v(" "+e._s(e.descr)+" ")]),r("span",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.price)+" kr")])])])])}),I=[],M={name:"pretty-option",props:["value","name","title","descr","price"],data:function(){return{isSelected:null}},watch:{isSelected:function(e,t){e&&this.$emit("valueChanged",e)}},methods:{clicked:function(){this.$emit("valueChanged",this.value)}}},j=M,F=(r("947a"),Object(f["a"])(j,R,I,!1,null,"37832a89",null)),T=F.exports,V=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-card",{staticClass:"overflow-hidden mb-8",attrs:{"no-body":""}},[r("b-row",{attrs:{"no-gutters":""}},[r("b-col",{staticStyle:{"background-color":"white"},attrs:{lg:"4"}},[""!==e.shopitem.frontend.img_url&&e.shopitem.frontend.img_url?r("b-card-img",{staticClass:"rounded-0",attrs:{src:e.shopitem.frontend.img_url}}):e._e()],1),r("b-col",{attrs:{lg:"8"}},[r("b-card-body",{attrs:{title:e.shopitem.name}},[r("b-card-text",[e._v(" "+e._s(e.shopitem.descr)+" ")]),r("b-card-text",[r("b-row",[r("b-col",{attrs:{lg:"3"}},[r("h5",{staticStyle:{"margin-top":"10px"}},[e._v(e._s(e.shopitem.price_sek+e.shopitem.vat_sek)+" kr")])]),r("b-col",{attrs:{lg:"3"}},[r("b-form-input",{attrs:{id:"num_bought",placeholder:"0",disabled:""},model:{value:e.num_bought,callback:function(t){e.num_bought=t},expression:"num_bought"}})],1),r("b-col",{attrs:{lg:"3"}},[r("b-button",{attrs:{href:"#",variant:"primary"},on:{click:function(t){return e.addShopItem(e.shopitem.shop_item_id,t)}}},[e._v("Lägg till")])],1),r("b-col",{attrs:{lg:"3"}},[e.num_bought>0?r("b-button",{attrs:{href:"#",variant:"danger"},on:{click:function(t){return e.removeShopItem(e.shopitem.shop_item_id,t)}}},[e._v("Ta bort")]):e._e()],1),r("b-col",{attrs:{lg:"3"}},[r("h5",{staticStyle:{"margin-top":"10px","font-weight":"100"}},[e._v(" "+e._s((e.shopitem.price_sek+e.shopitem.vat_sek)*e.num_bought)+" kr")])])],1)],1)],1)],1)],1)],1)},N=[],D={name:"shop-extra-item",props:["shopitem"],components:{},data:function(){return{num_bought:0}},mounted:function(){},watch:{},methods:{clear:function(){this.num_bought=0},removeShopItem:function(e,t){t.preventDefault(),this.num_bought--,this.$emit("removeShopItem",e)},addShopItem:function(e,t){t.preventDefault(),this.num_bought++,this.$emit("addShopItem",e)},toastr:function(e,t,r){this.$bvToast.toast(r,{title:t,autoHideDelay:2e3,appendToast:!0,variant:e})}}},L=D,q=(r("f36a"),Object(f["a"])(L,V,N,!1,null,"c2f4e36c",null)),z=q.exports,B=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card card-custom card-stretch gutter-b"},[r("div",{staticClass:"card-body pt-0 pb-3"},[r("div",{staticClass:"table-responsive"},[r("table",{staticClass:"table table-head-custom table-vertical-center table-head-bg table-borderless"},[e._m(0),r("tbody",[e._l(e.cart,(function(t,n){return[r("ShopCartTableRow",{key:n,attrs:{item:t},on:{deleteItemClicked:e.deleteItemClicked,toastr:e.toastr}})]})),r("tr",[e._m(1),e._m(2),r("td",[r("span",{staticClass:"text-dark-75 d-block font-size-lg"},[e._v(e._s(e.total_price+e.total_vat)+" kr")])]),r("td",{staticClass:"text-right pr-0"})])],2)])])])])},U=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("tr",{staticClass:"text-left"},[r("th",{staticStyle:{"min-width":"110px"}},[e._v("Artikel")]),r("th",{staticStyle:{"min-width":"110px"}},[e._v("Antal")]),r("th",{staticStyle:{"min-width":"110px"}},[e._v("Summa")]),r("th")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("td",[r("span",{staticClass:"text-dark-75 font-weight-bolder d-block font-size-lg"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("td",[r("span",{staticClass:"text-dark-75 d-block font-size-lg"},[e._v("Total")])])}],H=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",[r("td",[r("span",{staticClass:"text-dark-75 font-weight-bolder d-block font-size-lg"},[e._v(e._s(e.item.name))])]),r("td",[r("span",{staticClass:"text-dark-75 d-block font-size-lg"},[e._v(e._s(e.item.quantity))])]),r("td",[r("span",{staticClass:"text-dark-75 d-block font-size-lg"},[e._v(e._s(e.item.price_sek+e.item.vat_sek)+" kr")])]),r("td",{staticClass:"text-right pr-0"},[e.item.is_membership?e._e():r("a",{staticClass:"btn btn-icon btn-light btn-sm",attrs:{href:"#"},on:{click:function(t){return e.deleteItemClicked(t,e.item.shop_item_id)}}},[r("span",{staticClass:"svg-icon svg-icon-md svg-icon-primary"},[r("inline-svg",{attrs:{src:"/assets/svg/Trash.svg"}})],1)])])])},K=[],W=r("c1df"),G=r.n(W),Q={name:"shopcart-table-row",props:["item"],data:function(){return{}},mounted:function(){},watch:{},methods:{deleteItemClicked:function(e,t){e.preventDefault(),this.$emit("deleteItemClicked",t)}}},Y=Q,X=(r("e401"),Object(f["a"])(Y,H,K,!1,null,"d3405212",null)),Z=X.exports,J={name:"shopcart-table",props:["cart","total_price","total_vat"],components:{ShopCartTableRow:Z},watch:{},mounted:function(){},methods:{toastr:function(e,t,r){this.$emit("toastr",e,t,r)},deleteItemClicked:function(e){this.$emit("deleteItemClicked",e)}},data:function(){return{list:[]}}},ee=J,te=(r("ae36"),Object(f["a"])(ee,B,U,!1,null,"f12d7b96",null)),re=te.exports,ne={name:"register-shop-page",props:["memberships","extras","page","age"],components:{PrettyOption:T,ShopExtraItem:z,ShopCartTable:re},computed:{renderItem:function(){var e=this;return function(t){return null===t||void 0===t||t.age_min<e.age&&e.age<t.age_max}}},data:function(){return{form:{},selected_membership:null,total_price:0,total_vat:0,cart:[]}},mounted:function(){console.log("Detected Age",this.age),this.$emit("isValid",null===this.memberships||void 0===this.memberships||0===this.memberships.length,this.page.id)},watch:{selected_membership:function(e,t){for(var r=!1,n=null,a=0;a<this.cart.length;++a)if(this.cart[a].is_membership){this.cart[a]=this.getItem(e),this.cart[a].is_membership=!0,n=this.cart[a],r=!0;break}if(r)n.quantity=1,n.is_membership=!0;else{n=this.getItem(e);n.quantity=1,n.is_membership=!0,this.cart.push(n)}this.$emit("membershipClicked",e),this.calcTotals(),this.form.selected_membership=e,this.$emit("isValid",!0,this.page.id)}},methods:{getData:function(){if(console.log("Shop Page",this.form),this.form.cart){var e=this.form.cart.map((function(e){return{shop_item_id:e.shop_item_id,quantity:e.quantity}}));return{shop_items:e}}},calcTotals:function(){this.total_price=0,this.total_vat=0;for(var e=0;e<this.cart.length;++e)this.total_price+=this.cart[e].price_sek,this.total_vat+=this.cart[e].vat_sek;this.total_price>0?this.form.mustpay=!0:this.form.mustpay=!1,this.form.total_price=this.total_price,this.form.total_vat=this.total_vat,this.form.cart=this.cart,this.$emit("shopItemsUpdated",{cart:this.cart,total_price:this.total_price,total_vat:this.total_vat})},removeShopItem:function(e){for(var t=0;t<this.cart.length;++t)if(this.cart[t].shop_item_id===e){if(this.cart[t].quantity--,0===this.cart[t].quantity){this.cart.splice(t,1);break}this.cart[t].price_sek=this.cart[t].quantity*this.cart[t].p_pi_sek,this.cart[t].vat_sek=this.cart[t].quantity*this.cart[t].v_pi_sek}this.calcTotals()},getItem:function(e){for(var t=0;t<this.memberships.length;++t)if(this.memberships[t].shop_item_id===e)return this.memberships[t];for(t=0;t<this.extras.length;++t)if(this.extras[t].shop_item_id===e)return this.extras[t];return null},getPriceForItem:function(e){return this.getItem(e).price_sek},getVatForItem:function(e){return this.getItem(e).vat_sek},addShopItem:function(e){for(var t=!1,r=0;r<this.cart.length;++r)if(this.cart[r].shop_item_id===e){this.cart[r].quantity++,this.cart[r].price_sek=this.cart[r].quantity*this.cart[r].p_pi_sek,this.cart[r].vat_sek=this.cart[r].quantity*this.cart[r].v_pi_sek,t=!0;break}if(!t){var n=this.getItem(e);this.cart.push({name:n.name,shop_item_id:e,quantity:1,price_sek:n.price_sek,vat_sek:n.vat_sek,p_pi_sek:n.price_sek,v_pi_sek:n.vat_sek,is_membership:!1})}this.calcTotals()},deleteItemClicked:function(e){for(var t=0;t<this.cart.length;++t)if(this.cart[t].shop_item_id===e){this.cart.splice(t,1);break}for(t=0;t<this.extras.length;++t)if(this.extras[t].shop_item_id===e){this.$refs.shopItemRow[t].clear();break}this.calcTotals()},membershipChanged:function(e){console.log("membership changed to: "+e),this.selected_membership=e},toastr:function(e,t,r){this.$bvToast.toast(r,{title:t,autoHideDelay:2e3,appendToast:!0,variant:e})}}},ae=ne,se=(r("4a11"),Object(f["a"])(ae,O,$,!1,null,"aec1997e",null)),oe=se.exports,ie=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h4",{staticClass:"mb-10 font-weight-bold text-dark"},[e._v("Kontrollera/Betala")]),r("b-row",[r("b-form-group",{staticClass:"col-6",attrs:{id:"company-group",label:"Förening","label-for":"company"}},[r("b-form-input",{attrs:{id:"company",placeholder:"",disabled:""},model:{value:e.company.name,callback:function(t){e.$set(e.company,"name",t)},expression:"company.name"}})],1)],1),e.regdata.details?r("div",[r("b-row",[r("b-form-group",{staticClass:"col-6",attrs:{id:"firstname-group",label:"Förnamn","label-for":"firstname"}},[r("b-form-input",{attrs:{id:"firstname",placeholder:"Förnamn",disabled:""},model:{value:e.regdata.details.firstname,callback:function(t){e.$set(e.regdata.details,"firstname",t)},expression:"regdata.details.firstname"}})],1),r("b-form-group",{staticClass:"col-6",attrs:{id:"lastname-group",label:"Efternamn","label-for":"lastname"}},[r("b-form-input",{attrs:{id:"lastname",placeholder:"Efternamn",disabled:""},model:{value:e.regdata.details.lastname,callback:function(t){e.$set(e.regdata.details,"lastname",t)},expression:"regdata.details.lastname"}})],1)],1),r("b-row",[r("b-form-group",{staticClass:"col-6",attrs:{id:"phone-group",label:"Telefon","label-for":"phone"}},[r("b-form-input",{attrs:{id:"phone",placeholder:"Telefon",disabled:""},model:{value:e.regdata.details.phone,callback:function(t){e.$set(e.regdata.details,"phone",t)},expression:"regdata.details.phone"}})],1),r("b-form-group",{staticClass:"col-6",attrs:{id:"email-group",label:"E-post","label-for":"email"}},[r("b-form-input",{attrs:{id:"email",placeholder:"E-post",disabled:""},model:{value:e.regdata.details.email,callback:function(t){e.$set(e.regdata.details,"email",t)},expression:"regdata.details.email"}})],1)],1),r("b-row",[r("b-form-group",{staticClass:"col-6",attrs:{id:"birthdate-group",label:"Födelsedag","label-for":"birthdate"}},[r("b-form-input",{attrs:{id:"birthdate",placeholder:"",disabled:""},model:{value:e.regdata.details.birthdate,callback:function(t){e.$set(e.regdata.details,"birthdate",t)},expression:"regdata.details.birthdate"}})],1)],1),r("b-row",[r("b-form-group",{staticClass:"col-6",attrs:{id:"address-group",label:"Gatuadress","label-for":"address"}},[r("b-form-input",{attrs:{id:"address",placeholder:"Gatuadress",disabled:""},model:{value:e.regdata.details.address,callback:function(t){e.$set(e.regdata.details,"address",t)},expression:"regdata.details.address"}})],1),r("b-form-group",{staticClass:"col-6",attrs:{id:"zipcode-group",label:"Postkod","label-for":"zipcode"}},[r("b-form-input",{attrs:{id:"zipcode",placeholder:"00000",disabled:""},model:{value:e.regdata.details.zipcode,callback:function(t){e.$set(e.regdata.details,"zipcode",t)},expression:"regdata.details.zipcode"}})],1)],1),r("b-row",[r("b-form-group",{staticClass:"col-6",attrs:{id:"region-group",label:"Region","label-for":"region"}},[r("b-form-input",{attrs:{id:"region",placeholder:"",disabled:""},model:{value:e.regdata.details.region,callback:function(t){e.$set(e.regdata.details,"region",t)},expression:"regdata.details.region"}})],1),r("b-form-group",{staticClass:"col-6",attrs:{id:"commune-group",label:"Kommun","label-for":"commune"}},[r("b-form-input",{attrs:{id:"commune",placeholder:"",disabled:""},model:{value:e.regdata.details.commune,callback:function(t){e.$set(e.regdata.details,"commune",t)},expression:"regdata.details.commune"}})],1)],1)],1):e._e(),e.regdata.personnr&&e.regdata.personnr.formatted?r("b-row",[r("b-form-group",{staticClass:"col-6",attrs:{id:"personnr-group",label:"Personnummer","label-for":"personnr"}},[r("b-form-input",{attrs:{id:"personnr",placeholder:"",disabled:""},model:{value:e.regdata.personnr.formatted.formatted,callback:function(t){e.$set(e.regdata.personnr.formatted,"formatted",t)},expression:"regdata.personnr.formatted.formatted"}})],1)],1):e._e(),e.regdata.shop&&e.regdata.shop.mustpay?r("div",[r("b-row",[r("b-col",{attrs:{lg:"6"}},[r("p",[e._v("För att registreringen ska bli avklarad behöver du i detta steg utföra betalning")]),r("p",[e._v("Total: "+e._s(e.regdata.shop.total_price)+" kr")])])],1),r("b-row",{staticClass:"mb-8"},[r("b-col",{attrs:{lg:"6"}},[r("b-button",{attrs:{href:"#",variant:"success"},on:{click:function(t){return e.gotoPayment(t,"swish")}}},[e._v("Betala med Swish")])],1)],1),r("b-row",{staticClass:"mb-8"},[r("b-col",{attrs:{lg:"6"}},[r("b-button",{attrs:{href:"#",variant:"success"},on:{click:function(t){return e.gotoPayment(t,"creditcard")}}},[e._v("Betala med Kreditkort")])],1)],1),r("b-row",{staticClass:"mb-8"},[r("b-col",{attrs:{lg:"6"}},[r("b-button",{attrs:{href:"#",variant:"success"},on:{click:function(t){return e.gotoPayment(t,"bankgiro")}}},[e._v("Betala med Bankgiro")])],1)],1)],1):e._e(),e._l(e.terms,(function(t,n){return[r("TermsCheckbox",{key:n,staticClass:"mb-4",attrs:{term:t},on:{selected:e.termAccepted,showTerm:e.showTerm}})]})),r("b-modal",{ref:"show-term",attrs:{size:"lg",title:e.selected_term.name}},[r("p",{staticClass:"my-4",attrs:{html:e.selected_term.template},domProps:{innerHTML:e._s(e.selected_term.template)}})])],2)},ce=[],le=r("07ca"),ue=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-row",[r("b-col",{attrs:{lg:"1"}},[r("label",{staticClass:"float-right checkbox checkbox-lg checkbox-outline checkbox-success"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],key:e.term.id,attrs:{type:"checkbox"},domProps:{value:e.term.id,checked:Array.isArray(e.selected)?e._i(e.selected,e.term.id)>-1:e.selected},on:{change:function(t){var r=e.selected,n=t.target,a=!!n.checked;if(Array.isArray(r)){var s=e.term.id,o=e._i(r,s);n.checked?o<0&&(e.selected=r.concat([s])):o>-1&&(e.selected=r.slice(0,o).concat(r.slice(o+1)))}else e.selected=a}}}),r("span")])]),r("b-col",{attrs:{lg:"11"}},[r("p",{staticClass:"termdescr",domProps:{innerHTML:e._s(e.text)},on:{click:e.showTerm}})])],1)},de=[],me=(r("c975"),{name:"term-component",props:["term"],components:{},data:function(){return{selected:!1,text:""}},watch:{selected:function(e,t){console.log("emitting selected: "+this.term.id+" value: "+e),this.$emit("selected",this.term.id,e)}},mounted:function(){this.text=this.term.descr,""!==this.text&&void 0!==this.text&&null!==this.text||(this.text="&nbsp;");var e=this.text.indexOf("%"),t=this.text.indexOf("%",e+1),r=this.text.substring(e+1,t),n=this.text.substring(0,e),a=this.text.substring(t+1);this.text=n+'<span style="color: #006dca; text-decoration: underline;">'+r+"</span>"+a},methods:{showTerm:function(){console.log("showing term: "+this.term.id),this.$emit("showTerm",this.term.id)},toastr:function(e,t,r){this.$bvToast.toast(r,{title:t,autoHideDelay:2e3,appendToast:!0,variant:e})}}}),fe=me,pe=(r("7428"),Object(f["a"])(fe,ue,de,!1,null,"f3b2958e",null)),he=pe.exports,be={name:"confirm-page",props:["company","regdata","order","page"],components:{AdvancedSearch:le["default"],TermsCheckbox:he},watch:{},data:function(){return{accepted:[],terms:[],selected:[],visable_modal:!1,current_policy:{},selected_term:{name:"none",template:""}}},mounted:function(){this.$emit("isValid",!1,this.page.id),this.loadTerms()},methods:{loadTerms:function(){var e=this;u.a.get("/company/terms?company_id=".concat(this.company.company_id)).then((function(t){e.terms=t.data.terms;var r,n=Object(o["a"])(e.terms);try{for(n.s();!(r=n.n()).done;){var a=r.value;e.accepted.push({id:a.id,isAccepted:!1,mandatory:a.mandatory})}}catch(s){n.e(s)}finally{n.f()}})).catch((function(t){console.error(t),e.toastr("danger","Fel","Kunde inte hämta villkor")}))},gotoPayment:function(e,t){e.preventDefault()},onClick:function(e){this.$emit("isAllPolicyChecked",this.selected.length==this.terms.length)},termAccepted:function(e,t){for(var r=0;r<this.accepted.length;++r)if(this.accepted[r].id===e){this.accepted[r].isAccepted=t;break}var n,a=!0,s=Object(o["a"])(this.accepted);try{for(s.s();!(n=s.n()).done;){var i=n.value;if(i.mandatory&&!i.isAccepted){a=!1;break}}}catch(c){s.e(c)}finally{s.f()}console.log("confirm page emit isValid: "+a),this.$emit("isValid",a,this.page.id)},showTerm:function(e){var t,r=Object(o["a"])(this.terms);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(n.id===e){this.showModal(n);break}}}catch(a){r.e(a)}finally{r.f()}},showModal:function(e){console.log("showmodal:"),console.log(e),this.selected_term=e,this.$refs["show-term"].show()},toastr:function(e,t,r){this.$bvToast.toast(r,{title:t,autoHideDelay:2e3,appendToast:!0,variant:e})}}},ge=be,ve=(r("781e"),Object(f["a"])(ge,ie,ce,!1,null,"316daf26",null)),ye=ve.exports,_e=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{domProps:{innerHTML:e._s(e.page.html)}}),e._l(e.groups,(function(t,n){return[t.is_registration?r("PropertyPageGroup",{key:n,attrs:{groupsource:t},on:{toastr:e.toastr,isValid:e.isValid,selected:e.selected}}):e._e()]}))],2)},we=[],ke=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-card",{staticClass:"mb-8",attrs:{header:e.group.name}},[r("p",[e._v(e._s(e.group.descr))]),e.isMandatory?r("p",{staticClass:"mt-6 mb-6"},[r("strong",[e._v("Obligatoriskt!")])]):e._e(),e.isMulti?r("div",[r("PropertyPageGroupCheckboxProperties",{attrs:{group:e.group},on:{selected:e.selected}})],1):e._e(),e.isMulti?e._e():r("div",[r("PropertyPageGroupRadioProperties",{attrs:{group:e.group},on:{selected:e.selected}})],1)])],1)},xe=[],Ce=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"form-group"},[r("div",{staticClass:"radio-list"},[e._l(e.group.props,(function(t,n){return[r("label",{key:n,staticClass:"radio radio-outline radio-success mb-4"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],attrs:{type:"radio",name:e.group.group_id},domProps:{value:t.prop_id,checked:e._q(e.selected,t.prop_id)},on:{change:function(r){e.selected=t.prop_id}}}),r("span"),e._v(" "+e._s(t.name)+" ")])]}))],2)])])},Se=[],Pe={name:"property-page-radio-properties",props:["group"],components:{},data:function(){return{selected:null}},mounted:function(){},watch:{selected:function(e,t){this.$emit("selected",this.group,e)}},methods:{toastr:function(e,t,r){this.$bvToast.toast(r,{title:t,autoHideDelay:2e3,appendToast:!0,variant:e})}}},Ee=Pe,Ae=(r("e63f"),Object(f["a"])(Ee,Ce,Se,!1,null,"b9176a68",null)),Oe=Ae.exports,$e=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"form-group"},[r("div",{staticClass:"check-list"},[e._l(e.group.props,(function(t,n){return[r("div",{key:n,staticClass:"d-flex align-items-center mb-4"},[r("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],attrs:{type:"checkbox",name:e.group.group_id},domProps:{value:t.prop_id,checked:Array.isArray(e.selected)?e._i(e.selected,t.prop_id)>-1:e.selected},on:{change:function(r){var n=e.selected,a=r.target,s=!!a.checked;if(Array.isArray(n)){var o=t.prop_id,i=e._i(n,o);a.checked?i<0&&(e.selected=n.concat([o])):i>-1&&(e.selected=n.slice(0,i).concat(n.slice(i+1)))}else e.selected=s}}}),r("span")]),r("span",{staticClass:"ml-3 cursor-pointer"},[e._v(e._s(t.name))])])]}))],2)])])},Re=[],Ie={name:"property-page-checkbox-properties",props:["group"],components:{},data:function(){return{selected:[]}},mounted:function(){},watch:{selected:function(e,t){this.$emit("selected",this.group,e)}},methods:{toastr:function(e,t,r){this.$bvToast.toast(r,{title:t,autoHideDelay:2e3,appendToast:!0,variant:e})}}},Me=Ie,je=(r("d702"),Object(f["a"])(Me,$e,Re,!1,null,"bd659b38",null)),Fe=je.exports,Te={name:"property-page-group",props:["groupsource"],components:{PropertyPageGroupRadioProperties:Oe,PropertyPageGroupCheckboxProperties:Fe},data:function(){return{isMandatory:!1,isValid:!1,isMulti:!1,group:{is_multi:0,props:[{prop_id:0,selected:!1}]}}},mounted:function(){this.group=this.groupsource,this.isMandatory=this.group.mandatory||1===this.group.is_mandatory,this.isMulti=1===this.group.is_multi,this.isMandatory||this.$emit("isValid",this.group.group_id,!0)},watch:{},methods:{selected:function(e,t){this.isMulti&&this.isMandatory?this.isValid=null!==this.selected&&this.selected.length>0:this.isValid=!0;for(var r=0;r<this.group.props.length;++r)this.group.props[r].selected=!1;for(r=0;r<this.group.props.length;++r)if(this.isMulti)for(var n=0;n<t.length;++n)this.group.props[r].prop_id===t[n]&&(this.group.props[r].selected=!0);else this.group.props[r].prop_id===t&&(this.group.props[r].selected=!0);this.$emit("isValid",e.group_id,this.isValid),this.$emit("selected",e,t)},toastr:function(e,t,r){this.$bvToast.toast(r,{title:t,autoHideDelay:2e3,appendToast:!0,variant:e})}}},Ve=Te,Ne=(r("7a7b"),Object(f["a"])(Ve,ke,xe,!1,null,"782f05b5",null)),De=Ne.exports,Le={name:"property-page",props:["page","company_id","index"],components:{PropertyPageGroup:De},data:function(){return{form:[],num_mandatory_groups:0,num_selected_groups:0,selected_membership:null,total_price:0,total_vat:0,cart:[],groups:[]}},mounted:function(){this.$emit("isValid",!1,this.page.id),this.loadPropertyGroups(this.company_id)},watch:{company_id:function(e,t){e&&this.loadPropertyGroups()}},methods:{getData:function(){return this.form},checkValid:function(){for(var e=0;e<this.groups.length;++e)if(!this.groups[e].valid)return!1;return!0},selected:function(e,t){this.form=[{group_id:e.group_id,prop_ids:t}]},isValid:function(e,t){for(var r=0;r<this.groups.length;++r)e===this.groups[r].group_id&&(this.groups[r].valid=t);this.validate()},validate:function(){var e,t=!1,r=!0,n=Object(o["a"])(this.groups);try{for(n.s();!(e=n.n()).done;){var a=e.value;console.log("is mandatory: "+a.is_mandatory),1===a.is_mandatory&&(t=!0,a.valid||(r=!1))}}catch(i){n.e(i)}finally{n.f()}var s=!1;t?r&&(s=!0):s=!0,console.log("PropertyPage: attribute page validation: "),console.log("PropertyPage: has_mandatory: "+t),console.log("PropertyPage: all_mandatory_valid: "+r),console.log("PropertyPage: valid: "+s),this.$emit("isValid",s,this.page.id)},loadPropertyGroups:function(e){var t=this;e&&u.a.get("/property_group/extlist?company_id=".concat(e)).then((function(e){t.groups=e.data.groups,t.validate()})).catch((function(e){console.error(e),t.toastr("danger","Server Fel","Kunde inte hämta attribut")}))},toastr:function(e,t,r){this.$bvToast.toast(r,{title:t,autoHideDelay:2e3,appendToast:!0,variant:e})}}},qe=Le,ze=(r("9f58"),Object(f["a"])(qe,_e,we,!1,null,"809f232a",null)),Be=ze.exports,Ue=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{domProps:{innerHTML:e._s(e.page.html)}}),e.skipPersonnr?e._e():r("b-row",[r("b-col",{attrs:{lg:"6"}},[r("b-form-group",{attrs:{id:"personnr-group",label:"Personnummer","label-for":"personnr"}},[r("b-form-input",{attrs:{id:"personnr",placeholder:"ÅÅÅÅMMDD1234",state:e.valid},model:{value:e.personnr,callback:function(t){e.personnr=t},expression:"personnr"}})],1)],1)],1),e.skipPersonnr?r("b-row",[r("b-col",{attrs:{lg:"6"}},[r("p",[e._v("Du har valt att hoppa över personnummer")])])],1):e._e(),e.page.settings.is_mandatory?e._e():r("b-row",[r("b-col",{attrs:{lg:"6"}},[r("b-form-group",[r("div",{staticClass:"d-flex align-items-center mb-4"},[r("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.skipPersonnr,expression:"skipPersonnr"}],attrs:{type:"checkbox",name:""},domProps:{checked:Array.isArray(e.skipPersonnr)?e._i(e.skipPersonnr,null)>-1:e.skipPersonnr},on:{click:function(t){e.skipPersonnr=!e.skipPersonnr},change:function(t){var r=e.skipPersonnr,n=t.target,a=!!n.checked;if(Array.isArray(r)){var s=null,o=e._i(r,s);n.checked?o<0&&(e.skipPersonnr=r.concat([s])):o>-1&&(e.skipPersonnr=r.slice(0,o).concat(r.slice(o+1)))}else e.skipPersonnr=a}}}),r("span")]),r("span",{staticClass:"ml-3 cursor-pointer"},[e._v("Jag vill ej uppge personnummer")])])])],1)],1)],1)},He=[],Ke=r("c789"),We={name:"personnr-page",props:["page"],components:{},data:function(){return{form:{},personnr:"",fmt_personnr:"",valid:!1,skipPersonnr:!1,hasDoneSparLookup:!1}},mounted:function(){this.$emit("isValid",!1,this.page.id),this.page.settings.spar&&console.log("when valid, will do SPAR lookup")},watch:{skipPersonnr:function(e,t){e?(this.personnr="",this.emitValue(!0)):this.$emit("isValid",!0,this.page.id)},personnr:function(e,t){var r=Object(Ke["a"])(e);this.valid=r.valid,this.fmt_personnr=r.formatted,this.emitValue(this.valid),this.form.valid=this.valid,this.form.formatted=r,this.form.age=this.getAge(),console.log("result from personnr validation:"),console.log(r),r.valid&&(this.personnr=r.formatted,this.hasDoneSparLookup||(this.hasDoneSparLookup=!0,this.$emit("doSparLookup",this.fmt_personnr)))}},methods:{emitValue:function(e){console.log("personnr emit isValid: "+e),this.$emit("isValid",e,this.page.id),this.$emit("setData",{personnr:this.personnr,age:this.getAge()},this.page.id)},getAge:function(){var e=Object(Ke["a"])(this.personnr);return e.success?G()().diff(e.year+"-"+e.month+"-"+e.day,"years"):18},getData:function(){return this.form.age=this.getAge(),this.form.age&&(this.form.personnr=this.personnr),this.form.skip=!this.form.age,this.form},toastr:function(e,t,r){this.$bvToast.toast(r,{title:t,autoHideDelay:2e3,appendToast:!0,variant:e})}}},Ge=We,Qe=(r("8668"),Object(f["a"])(Ge,Ue,He,!1,null,"f9f2e1d6",null)),Ye=Qe.exports,Xe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",[r("div",{domProps:{innerHTML:e._s(e.page.html)}}),r("b-row",[r("b-col",{attrs:{lg:"6"}},[r("b-form-group",{attrs:{id:"parent1-firstname-group",label:"Förnamn","label-for":"parent1-firstname"}},[r("b-form-input",{attrs:{id:"parent1-firstname",placeholder:"Målsman förnamn",state:e.firstnameValid},model:{value:e.firstname,callback:function(t){e.firstname=t},expression:"firstname"}})],1),r("b-form-group",{attrs:{id:"parent1-lastname-group",label:"Efternamn","label-for":"parent1-lastname"}},[r("b-form-input",{attrs:{id:"parent1-lastname",placeholder:"Målsman efternamn",state:e.lastnameValid},model:{value:e.lastname,callback:function(t){e.lastname=t},expression:"lastname"}})],1),r("b-form-group",{attrs:{id:"parent1-personnr-group",label:"Personnummer","label-for":"parent1-personnr"}},[r("b-form-input",{attrs:{id:"parent1-personnr",placeholder:"ÅÅÅÅMMDD1234",state:e.personnrValid},model:{value:e.personnr,callback:function(t){e.personnr=t},expression:"personnr"}})],1),r("b-form-group",{attrs:{id:"parent1-phone-group",label:"Telefon","label-for":"parent1-phone"}},[r("b-form-input",{attrs:{id:"parent1-phone",placeholder:"07XXXXXXXX"},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1),r("b-form-group",{attrs:{id:"parent1-email-group",label:"E-post","label-for":"parent1-email"}},[r("b-form-input",{attrs:{id:"parent1-email",placeholder:"test@test.com",state:e.emailValid},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1)],1),r("b-col",{attrs:{lg:"6"}})],1)],1)])},Ze=[],Je={name:"parents-page",props:["page","age","ageMaxParent"],components:{},computed:{textMaxAge:function(){if(this.ageMaxParent)return"äldre än ".concat(this.ageMaxParent," år")}},data:function(){return{form:{personnr:""},parentAge:0,firstname:"",lastname:"",phone:"",email:"",personnr:"",fmt_personnr:"",valid:!1,skipPersonnr:!1,personnrValid:!1,firstnameValid:!1,lastnameValid:!1,emailValid:!1}},mounted:function(){this.$emit("isValid",!1,this.page.id)},watch:{firstname:function(e,t){this.form.firstname=e,this.validate()},lastname:function(e,t){this.form.lastname=e,this.validate()},email:function(e,t){this.form.email=e,this.validate()},phone:function(e,t){this.form.phone=e,this.validate()},personnr:function(e,t){this.form.personnr=e,this.validate()}},methods:{validate:function(){this.valid=!0,this.is_ok(this.form.firstname)?this.firstnameValid=!0:(this.valid=!1,this.firstnameValid=!1),this.is_ok(this.form.lastname)?this.lastnameValid=!0:(this.valid=!1,this.lastnameValid=!1),this.is_ok(this.form.phone)?this.phoneValid=!0:(this.valid=!1,this.phoneValid=!1),this.is_ok(this.form.email)?this.emailValid=!0:(this.valid=!1,this.emailValid=!1);var e=Object(Ke["a"])(this.form.personnr);e.success&&(console.log(e),console.log("parents calc age: "+e.formatted.substr(0,8)),this.parentAge=G()().diff(e.formatted.substr(0,8),"years"),e.valid?this.personnrValid=!0:this.personnrValid=!1),this.parentAge<18&&(this.valid=!1),this.$emit("isValid",this.valid,this.page.id),this.$emit("setData",this.form,this.page.id)},getData:function(){return this.form},is_ok:function(e){return null!==e&&void 0!==e&&e.length>1},toastr:function(e,t,r){this.$bvToast.toast(r,{title:t,autoHideDelay:2e3,appendToast:!0,variant:e})}}},et=Je,tt=(r("6c7e"),Object(f["a"])(et,Xe,Ze,!1,null,"7bdc2308",null)),rt=tt.exports,nt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{domProps:{innerHTML:e._s(e.page.html)}}),r("b-row",[r("b-form-group",{staticClass:"col-6",attrs:{id:"firstname-group",label:"Förnamn","label-for":"firstname"}},[r("b-form-input",{attrs:{id:"firstname",state:e.states["firstname"],placeholder:"Förnamn"},on:{input:e.doValidation},model:{value:e.form.firstname,callback:function(t){e.$set(e.form,"firstname",t)},expression:"form.firstname"}})],1),r("b-form-group",{staticClass:"col-6",attrs:{id:"lastname-group",label:"Efternamn","label-for":"lastname"}},[r("b-form-input",{attrs:{id:"lastname",state:e.states["lastname"],placeholder:"Efternamn"},on:{input:e.doValidation},model:{value:e.form.lastname,callback:function(t){e.$set(e.form,"lastname",t)},expression:"form.lastname"}})],1)],1),e.page.settings.company_name?r("b-row",[r("b-form-group",{staticClass:"col-6",attrs:{id:"company_name-group",label:"Eventuellt företagsnamn","label-for":"company_name"}},[r("b-form-input",{attrs:{id:"company_name"},on:{input:e.doValidation},model:{value:e.form.company_name,callback:function(t){e.$set(e.form,"company_name",t)},expression:"form.company_name"}})],1)],1):e._e(),e.page.settings.phone?r("b-row",[r("b-form-group",{staticClass:"col-6",attrs:{id:"phone-group",label:"Telefon","label-for":"phone"}},[r("b-form-input",{attrs:{id:"phone",state:e.states["phone"],placeholder:"Telefon"},on:{input:e.doValidation},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1)],1):e._e(),r("b-row",[r("b-form-group",{staticClass:"col-6",attrs:{id:"email-group",label:"E-post","label-for":"email"}},[r("b-form-input",{attrs:{id:"email",state:e.states["email"],placeholder:"E-post"},on:{input:e.doValidation},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),r("b-form-group",{staticClass:"col-6",attrs:{id:"email2-group",label:"Repetera E-post","label-for":"email2"}},[r("b-form-input",{attrs:{id:"email2",state:e.states["email2"],placeholder:"Repetera E-post"},on:{input:e.doValidation},model:{value:e.form.email2,callback:function(t){e.$set(e.form,"email2",t)},expression:"form.email2"}})],1)],1),e.page.settings.password?r("b-row",[r("b-form-group",{staticClass:"col-6",attrs:{id:"password1-group",label:"Lösenord","label-for":"password1"}},[r("b-form-input",{attrs:{type:"password",id:"password1",state:e.states["password1"],placeholder:"Lösenord"},on:{input:e.doValidation},model:{value:e.password1,callback:function(t){e.password1=t},expression:"password1"}})],1),r("b-form-group",{staticClass:"col-6",attrs:{id:"password2-group",label:"Repetera Lösenord","label-for":"password2"}},[r("b-form-input",{attrs:{type:"password",id:"password2",placeholder:"Repetera Lösenord",state:e.states["password2"]},on:{input:e.doValidation},model:{value:e.password2,callback:function(t){e.password2=t},expression:"password2"}})],1)],1):e._e(),e.page.settings.birthdate?r("b-row",[r("b-form-group",{staticClass:"col-6",attrs:{id:"birthdate-group",label:"Födelsedag","label-for":"birthdate"}},[r("b-form-input",{attrs:{disabled:e.disabled_birthdate,id:"birthdate",state:e.states["birthdate"],placeholder:"YYYYMMDD"},on:{input:e.doValidation},model:{value:e.form.birthdate,callback:function(t){e.$set(e.form,"birthdate",t)},expression:"form.birthdate"}})],1)],1):e._e(),e.page.settings.address||e.page.settings.zipcode?r("b-row",[e.page.settings.address?r("b-col",{attrs:{lg:"6"}},[r("b-form-group",{attrs:{id:"address-group",label:"Gatuadress","label-for":"address"}},[r("b-form-input",{attrs:{id:"address",state:e.states["address"],placeholder:"Gatuadress"},on:{input:e.doValidation},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1)],1):e._e(),e.page.settings.zipcode?r("b-col",{attrs:{lg:"6"}},[r("b-form-group",{staticStyle:{"max-width":"200px"},attrs:{id:"zipcode-group",label:"Postkod","label-for":"zipcode"}},[r("b-form-input",{attrs:{id:"zipcode",state:e.states["zipcode"],placeholder:"00000"},on:{input:e.doValidation},model:{value:e.form.zipcode,callback:function(t){e.$set(e.form,"zipcode",t)},expression:"form.zipcode"}})],1)],1):e._e()],1):e._e(),r("b-row",[e.page.settings.zipcode?r("b-col",{attrs:{lg:"6"}},[r("b-form-group",{attrs:{id:"post-group",label:"Postort","label-for":"post"}},[r("b-form-input",{attrs:{id:"post",state:e.states["post"]},on:{input:e.doValidation},model:{value:e.form.post,callback:function(t){e.$set(e.form,"post",t)},expression:"form.post"}})],1)],1):e._e()],1),r("b-row",[r("b-col",{attrs:{lg:"6"}},[r("b-form-group",{attrs:{id:"input-group-region_code",label:"Region","label-for":"input-region_code"}},[r("b-form-select",{attrs:{id:"region_code",options:e.regionOptions,state:e.states["region"]},on:{input:e.doValidation},model:{value:e.region_code,callback:function(t){e.region_code=t},expression:"region_code"}})],1)],1),r("b-col",{attrs:{lg:"6"}},[r("b-form-group",{attrs:{id:"input-group-commune_code",label:"Kommun","label-for":"input-commune_code"}},[r("b-form-select",{attrs:{id:"commune_code",options:e.communeOptions,state:e.states["commune"]},on:{input:e.doValidation},model:{value:e.commune_code,callback:function(t){e.commune_code=t},expression:"commune_code"}})],1)],1)],1)],1)},at=[],st={name:"details-page",props:["page","spar"],components:{},data:function(){return{form:{birthdate:""},personnr:"",fmt_personnr:"",valid:!1,skipPersonnr:!1,regionOptions:[],communeOptions:[],region_code:null,commune_code:null,password1:"",password2:"",password1Valid:!1,password2Valid:!1,isBirthdate:!1,disabled_birthdate:!1,regions:{},states:{}}},mounted:function(){this.loadRegions(),this.$emit("isValid",!1,this.page.index),null!==this.spar&&(this.form=this.spar,this.validate(this.form,this.states))},watch:{spar:function(e,t){e&&(this.form=e,this.region_code=this.form.region_code,this.commune_code=this.form.commune_code,void 0!==e.fmt_personnr&&null!==e.fmt_personnr&&e.fmt_personnr.length>6?this.form.birthdate=e.fmt_personnr.substring(0,8):void 0!==e.birthdate&&null!==e.birthdate&&8===e.birthdate.length&&(this.form.birthdate=e.birthdate),this.validate(this.form,this.states))},password1:function(e,t){e.length>6?this.password1Valid=!0:this.password1Valid=!1},password2:function(e,t){e===this.password1?(this.password2Valid=!0,this.form.password=e):this.password2Valid=!1},form:function(e,t){},region_code:function(e,t){this.form.region_code=e,this.form.region=this.regions[this.form.region_code].region,e&&this.loadCommunes(e);var r=this.validate(this.form,this.states);this.$emit("isValid",r,this.page.id)},commune_code:function(e,t){this.form.commune_code=e,this.form.commune=this.regions[this.form.region_code].communes[e].commune;var r=this.validate(this.form,this.states);this.$emit("isValid",r,this.page.id)},personnr:function(e,t){var r=Object(Ke["a"])(e);this.valid=r.valid,this.fmt_personnr=r.formatted,this.form.birthdate=r.year+r.month+r.day,this.form.age=this.getAge(),this.validate(this.form,this.states)}},methods:{getAge:function(){var e=this.fmt_personnr.substring(0,8);return G()().diff(e,"years")},setBirthdate:function(e){this.isBirthdate=!0,this.form.birthdate=e,this.disabled_birthdate=this.is_ok(e)},doValidation:function(){this.states={};var e=this.validate(this.form,this.states);console.log("DetailsPage: emit isValid is "+e),this.$emit("isValid",e,this.page.id)},validate:function(e,t){var r=Object(Ke["a"])(e.birthdate);for(var n in!this.page.settings.birthdate||r.success&&8===e.birthdate.length?(t["birthdate"]=!0,this.form.age=this.getAge()):(t["birthdate"]=!1,this.form.age=0),this.page.settings.password&&(!this.is_ok(this.password1)||this.password1.length<6?t["password1"]=!1:t["password1"]=!0,this.password1Valid=!0,this.password1!==this.password2?(t["password2"]=!1,this.password2Valid=!1):t["password2"]=!0,this.form.password=this.password2,this.password2Valid=!0),t["firstname"]=this.is_ok(e.firstname),t["lastname"]=this.is_ok(e.lastname),t["email"]=this.validate_email(e.email),t["email2"]=e.email===e.email2&&void 0!==e.email2,t["zipcode"]=!this.page.settings.zipcode||this.is_ok(e.zipcode),t["address"]=!this.page.settings.address||this.is_ok(e.address),t["region"]=!this.page.settings.region||this.is_region_ok(e.region_code),t["commune"]=!this.page.settings.commune||this.is_ok(e.commune_code),t["phone"]=!this.page.settings.phone||this.is_ok(e.phone),t["post"]=!this.page.settings.zipcode||this.is_ok(e.post),t)if(!t[n])return!1;return!0},is_ok:function(e){return null!==e&&void 0!==e&&e.length>1},is_region_ok:function(e){return null!==e&&void 0!==e},getData:function(){return this.form},toastr:function(e,t,r){this.$bvToast.toast(r,{title:t,autoHideDelay:2e3,appendToast:!0,variant:e})},validate_email:function(e){var t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(String(e).toLowerCase())},loadRegions:function(){var e=this;u.a.get("/location/regions").then((function(t){for(var r in e.regions=t.data.regions,e.regionOptions=[],e.regions)e.regionOptions.push({value:r,text:e.regions[r].region});e.regionOptions.sort((function(e,t){return e.text<t.text?-1:e.text>t.text?1:0}))})).catch((function(t){console.error(t),e.toastr("danger","Server Fel","Kunde inte hämta regioner")}))},selectRegion:function(e){this.loadCommunes(e,1)},getCommunes:function(e){var t=[],r=this.regions[e].communes;for(var n in this.communes=r,r)t.push({value:n,text:r[n].commune});return t.sort((function(e,t){return e.text<t.text?-1:e.text>t.text?1:0})),t},loadCommunes:function(e){console.log("selected region: "+e),this.communeOptions=[];var t=this.regions[e].communes;for(var r in this.communes=t,t)this.communeOptions.push({value:r,text:t[r].commune});this.communeOptions.sort((function(e,t){return e.text<t.text?-1:e.text>t.text?1:0}))}}},ot=st,it=(r("4635"),Object(f["a"])(ot,nt,at,!1,null,"0eb18122",null)),ct=it.exports,lt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{domProps:{innerHTML:e._s(e.page.html)}}),"mapped"===e.registration.option?r("div",[r("AreaAllocMapByRegion",{attrs:{company_id:e.company_id,page:e.page,region_code:e.region_code,commune_code:e.commune_code,registration:e.registration},on:{isValid:e.isValid,setCompanyIds:e.setCompanyIds}})],1):e._e(),"multiple"===e.registration.option?r("div",[r("AreaAllocMultiMembership",{attrs:{company_id:e.company_id,page:e.page,region_code:e.region_code,commune_code:e.commune_code,registration:e.registration},on:{isValid:e.isValid,setCompanyIds:e.setCompanyIds}})],1):e._e(),"simple"===e.registration.option||void 0===e.registration.option||null===e.registration.option||""===e.registration.option?r("div",[r("p",[e._v("Denna sida bör inte synas då administratören har valt att medlemmar endast kan registrera sig på denna förening - Ta bort denna sida från registreringsinställningar")])]):e._e()])},ut=[],dt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.success||e.failure?e._e():r("b-card",[r("div",{staticClass:"d-flex justify-content-center mb-3"},[r("b-spinner",{attrs:{label:"Loading..."}})],1)]),e.success?r("b-card",[r("b-row",[r("b-col",[r("h5",{staticClass:"mb-4"},[e._v("Följande förening har valts baserat på din adress")]),r("label",{staticClass:"radio radio-outline radio-success mr-5"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedCompanyId,expression:"selectedCompanyId"}],attrs:{type:"radio",name:"selectedCompany",checked:"checked"},domProps:{value:e.selectedOption.company_id,checked:e._q(e.selectedCompanyId,e.selectedOption.company_id)},on:{change:function(t){e.selectedCompanyId=e.selectedOption.company_id}}}),r("span",{staticClass:"mr-2"}),e._v(e._s(e.selectedOption.name)+" ")])])],1),r("b-row",{staticClass:"mt-8"},[r("b-col",[r("h5",{staticClass:"mb-4"},[e._v("Vill du gå med i en annan förening istället?")]),r("div",{staticClass:"radio-list"},[e._l(e.otherOptions,(function(t,n){return[r("label",{key:n,staticClass:"radio radio-outline radio-success mr-5"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedCompanyId,expression:"selectedCompanyId"}],attrs:{type:"radio",name:"selectedCompany",checked:"checked"},domProps:{value:t.company_id,checked:e._q(e.selectedCompanyId,t.company_id)},on:{change:function(r){e.selectedCompanyId=t.company_id}}}),r("span",{staticClass:"mr-2"}),e._v(e._s(t.name)+" ")])]}))],2)])],1)],1):e._e(),e.failure?r("b-card",[r("b-row",[r("b-col",[r("h5",{staticClass:"mb-4"},[e._v("Välj förening i listan nedan")]),r("div",{staticClass:"radio-list"},[e._l(e.otherOptions,(function(t,n){return[r("label",{key:n,staticClass:"radio radio-outline radio-success mr-5"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedCompanyId,expression:"selectedCompanyId"}],attrs:{type:"radio",name:"selectedCompany",checked:"checked"},domProps:{value:t.company_id,checked:e._q(e.selectedCompanyId,t.company_id)},on:{change:function(r){e.selectedCompanyId=t.company_id}}}),r("span",{staticClass:"mr-2"}),e._v(e._s(t.name)+" ")])]}))],2)])],1)],1):e._e()],1)},mt=[],ft={name:"arealloc-page",props:["page","region_code","commune_code","company_id","registration"],components:{},data:function(){return{selectedOption:{company_id:"",name:""},otherOptions:[],selectedCompanyId:"",success:!1,failure:!1}},mounted:function(){console.log("AreaAllocMapByRegion.vue mounted"),this.loadCompanies(this.company_id)},watch:{selectedCompanyId:function(e,t){this.$emit("setCompanyIds",[e]),this.validate()},commune_code:function(e,t){this.runMatchAll()}},methods:{getData:function(){return this.form},loadData:function(){this.loadCompanies(this.company_id)},runMatchAll:function(){var e=this;this.success=!1,this.failure=!1,console.log("running matchAll"),this.loadAreaAllocMatchAll(this.company_id,this.region_code,this.commune_code,(function(t,r){if(!t)return e.failure=!0,void(e.otherOptions=e.companies);if(0===r.length)return console.log("unable to match company"),e.otherOptions=e.companies,void(e.failure=!0);var n=e.companies.filter((function(e){return e.company_id===r[0]}));e.selectedOption={company_id:n[0].company_id,name:n[0].name},e.selectedCompanyId=e.selectedOption.company_id,e.otherOptions=e.companies.filter((function(e){return e.company_id!==r[0]})),e.failure=!1,e.success=!0,e.validate()}))},loadCompanies:function(e){var t=this;u.a.get("/company/public?company_id=".concat(e)).then((function(e){t.companies=e.data.company.companies,t.companies=t.companies.filter((function(e){return e.allow_reg})),t.runMatchAll()})).catch((function(e){console.error(e),t.toastr("danger","Server Fel","Kunde inte hämta lista på föreningar")}))},loadAreaAllocMatchAll:function(e,t,r,n){var a=this;u.a.get("/area_alloc/matchall?company_id=".concat(e,"&region_code=").concat(t,"&commune_code=").concat(r)).then((function(e){n(200===e.status,e.data.company_ids)})).catch((function(e){console.error(e),n(!1,[]),a.toastr("danger","Server Fel","Kunde inte mappa förening för region")}))},validate:function(){console.log("validating AreaAllocMapByRegion: "+this.selectedCompanyId+" page id: "+this.page.id),this.$emit("isValid",""!==this.selectedCompanyId&&void 0!==this.selectedCompanyId&&null!==this.selectedCompanyId,this.page.id)},toastr:function(e,t,r){this.$bvToast.toast(r,{title:t,autoHideDelay:2e3,appendToast:!0,variant:e})}}},pt=ft,ht=(r("eb8d"),Object(f["a"])(pt,dt,mt,!1,null,"2f30d6f8",null)),bt=ht.exports,gt={name:"arealloc-page",props:["page","region_code","commune_code","company_id","registration"],components:{AreaAllocMultiMembership:h,AreaAllocMapByRegion:bt},data:function(){return{company_ids:[]}},mounted:function(){},watch:{},methods:{getData:function(){return{company_ids:this.company_ids}},validate:function(){this.$emit("isValid",this.company_ids.length>0,this.page.id)},isValid:function(e,t){this.$emit("isValid",e,t)},setCompanyIds:function(e){this.company_ids=e},toastr:function(e,t,r){this.$bvToast.toast(r,{title:t,autoHideDelay:2e3,appendToast:!0,variant:e})}}},vt=gt,yt=(r("ca9c"),Object(f["a"])(vt,lt,ut,!1,null,"7cf17afe",null)),_t=yt.exports,wt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"member-type m-auto"},[r("b-card",{staticClass:"mb-2 mt-2 text-center cursor-pointer",attrs:{"hide-footer":""},on:{click:function(t){return e.setType("normal")}}},[r("h4",[e._v(" Enskild medlem ")])]),r("b-card",{staticClass:"mb-2 mt-2 text-center cursor-pointer",attrs:{"hide-footer":""},on:{click:function(t){return e.setType("family")}}},[r("h4",{staticClass:"text-verti"},[e._v(" Familjemedlemskap ")])])],1)},kt=[],xt={name:"MemberTypePage",methods:{setType:function(e){this.$emit("setMemberType",e)}}},Ct=xt,St=(r("f007"),Object(f["a"])(Ct,wt,kt,!1,null,"4ebef352",null)),Pt=St.exports,Et=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-card",{attrs:{title:"Familjeregister"}},[r("register-family-form",{ref:"familyForm",attrs:{data:e.data}}),r("div",{staticClass:"card-body"},[r("div",{staticClass:"card-toolbar text-right"},[r("a",{staticClass:"btn btn-primary font-weight-bolder font-size-sm mb-8",on:{click:e.createFA}},[r("i",{staticClass:"menu-icon flaticon2-plus",staticStyle:{"font-size":"1.0em"}}),e._v("Ny familjemedlem")])]),r("b-table",{attrs:{fields:e.fields,items:e.items},scopedSlots:e._u([{key:"cell(action)",fn:function(t){return[r("div",{staticClass:"text-right"},[r("a",{staticClass:"btn btn-icon btn-light btn-sm mx-3",on:{click:function(r){return e.editFA(t.item)}}},[r("span",{staticClass:"svg-icon svg-icon-md svg-icon-primary"},[r("inline-svg",{attrs:{src:"/assets/svg/Write.svg"}})],1)]),r("a",{staticClass:"btn btn-icon btn-light btn-sm mx-3",on:{click:function(r){return e.deleteFA(t.item.id)}}},[r("span",{staticClass:"svg-icon svg-icon-md svg-icon-primary"},[r("inline-svg",{attrs:{src:"/assets/svg/Trash.svg"}})],1)])])]}}])})],1)],1)},At=[],Ot=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-modal",{ref:"modal",attrs:{"hide-footer":""},model:{value:e.showModal,callback:function(t){e.showModal=t},expression:"showModal"}},[r("div",{staticClass:"form-create-member border border-secondary"},[r("b-row",[r("b-col",{attrs:{md:"6"}},[r("b-form-group",{attrs:{label:"ID","label-for":"fa-id"}},[r("b-form-input",{attrs:{id:"fa-id",disabled:""},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1)],1)],1),r("b-row",[r("b-col",{attrs:{md:"6"}},[r("b-form-group",{attrs:{label:"Förnamn","label-for":"fa-firstname"}},[r("b-form-input",{attrs:{id:"fa-firstname"},model:{value:e.form.fn,callback:function(t){e.$set(e.form,"fn",t)},expression:"form.fn"}})],1)],1),r("b-col",{attrs:{md:"6"}},[r("b-form-group",{attrs:{label:"Efternamn","label-for":"fa-lastname"}},[r("b-form-input",{attrs:{id:"fa-lastname"},model:{value:e.form.ln,callback:function(t){e.$set(e.form,"ln",t)},expression:"form.ln"}})],1)],1)],1),r("b-row",[r("b-col",{attrs:{md:"12"}},[r("b-form-group",{attrs:{label:"Personnumber","label-for":"fa-person-number"}},[r("b-form-input",{attrs:{id:"fa-person-number"},model:{value:e.form.pn,callback:function(t){e.$set(e.form,"pn",t)},expression:"form.pn"}})],1)],1)],1),r("b-row",[r("b-col",{attrs:{md:"6"}},[r("b-form-group",{attrs:{label:"E-post","label-for":"fa-email"}},[r("b-form-input",{attrs:{id:"fa-email"},model:{value:e.form.em,callback:function(t){e.$set(e.form,"em",t)},expression:"form.em"}})],1)],1),r("b-col",{attrs:{md:"6"}},[r("b-form-group",{attrs:{label:"Mobiltelefon","label-for":"fa-phone"}},[r("b-form-input",{attrs:{id:"fa-phone"},model:{value:e.form.ph,callback:function(t){e.$set(e.form,"ph",t)},expression:"form.ph"}})],1)],1)],1),r("b-row",{staticClass:"mt-6"},[r("b-col",{staticClass:"d-flex justify-content-end"},[r("b-button",{staticClass:"m-1",attrs:{variant:"outline-success"},on:{click:e.save}},[e._v(" Spara ")]),r("b-button",{staticClass:"m-1",attrs:{variant:"outline-primary"},on:{click:e.cancel}},[e._v(" Ångra ")])],1)],1)],1)])},$t=[],Rt={name:"RegisterFamilyForm",props:{data:{type:Object,default:null}},data:function(){return{showModal:!1,form:{id:null,fn:"",ln:"",pn:"",em:"",ph:"",tp:"FA"}}},methods:{show:function(){this.data||this.resetForm(),this.showModal=!0},hide:function(){this.showModal=!1},cancel:function(){this.$refs["modal"].hide(),this.$emit("cancel")},save:function(){this.$emit("save")},resetForm:function(){this.form={id:G()().unix(),fn:"",ln:"",pn:"",em:"",ph:"",tp:"FA"}}},watch:{data:function(e,t){e?this.form=e:this.resetForm()}}},It=Rt,Mt=(r("045f"),Object(f["a"])(It,Ot,$t,!1,null,"022db0fc",null)),jt=Mt.exports,Ft={name:"RegisterFamily",components:{RegisterFamilyForm:jt},props:["company_id","page","member-type"],data:function(){return{fields:[{key:"fn",label:"Förnamn"},{key:"ln",label:"Efternamn"},{key:"em",label:"E-post"},{key:"ph",label:"Mobiltelefon"},{key:"pn",label:"Personnumber"},{key:"id",lebel:"ID"},{key:"tp",label:"FA"},{key:"action",label:""}],items:[{fn:"Tortu",ln:"Ch",em:"Tortu@gmail.com",ph:"1234556",pn:"2000121223423",id:"adsfasdfa",tp:"FA"}],data:null}},methods:{createFA:function(){this.resetForm(),this.$refs["familyForm"].show()},editFA:function(e){this.data=e,this.$refs["familyForm"].show()},deleteFA:function(e){this.items=this.items.filter((function(t){return t.id!==e}))},resetForm:function(){this.data=null}}},Tt=Ft,Vt=(r("f30f"),Object(f["a"])(Tt,Et,At,!1,null,null,null)),Nt=Vt.exports,Dt=(r("ae1f"),{name:"registerwizard",components:{AreaAllocMultiMembership:h,RegisterWizardPage:k,RegisterWizardHeader:A,ShopMembershipSelect:oe,ConfirmPage:ye,PropertyPage:Be,PersonnrPage:Ye,ParentsPage:rt,DetailsPage:ct,AreaAllocPage:_t,MemberTypePage:Pt,RegisterFamily:Nt},mounted:function(){Object(b["a"])(JSON.stringify({message:"this is a message from the child iframe"})),this.loadData()},data:function(){return{spar:null,registration:null,lastPage:!1,form:{},memberships:[],extras:[],company:{},regdata:{},accept_terms:!1,age:0,groups:[],region_code:"",commune_code:"",regions:[],communes:[],regionOptions:[],communeOptions:[],showNext:!1,currentPage:0,wizard:null,order:{},pages:[],confirmPage:{settings:{terms:[]}},created:!1,error:!1,show:"",show_list:[],personNr:{},isMemberTypePage:!0,renderPage:null}},watch:{age:function(e,t){e>this.registration.age_max_parent&&(this.pages=this.pages.filter((function(e){return"parents"!==e.type})))},commune_code:function(e,t){e&&this.region_code in this.regions&&e in this.regions[this.region_code].communes&&(this.form.commune=this.regions[this.region_code].communes[e].commune)},region_code:function(e,t){e&&e in this.regions&&(this.form.region=this.regions[e].region)},showNext:function(e,t){}},methods:{setMemberType:function(e){"normal"===e&&(this.pages=this.pages.filter((function(e){return"reg_family"!==e.type})),this.show_list=this.show_list.filter((function(e){return"reg_family"!==e}))),this.isMemberTypePage=!1},getPersonNumberData:function(){return this.$refs.personnrPage&&this.$refs.personnrPage.length>0?this.$refs.personnrPage[0].getData():null},getData:function(){var e={};return void 0!==this.$refs.personnrPage&&this.$refs.personnrPage.length>0&&(e.personnr=this.$refs.personnrPage[0].getData()),void 0!==this.$refs.detailsPage&&this.$refs.detailsPage.length>0&&(e.details=this.$refs.detailsPage[0].getData(),this.region_code=e.details.region_code,this.commune_code=e.details.commune_code,null!==e.personnr&&void 0!==e.personnr&&(this.age=e.personnr.age,e.details.age=this.age)),void 0!==this.$refs.propertyPage&&this.$refs.propertyPage.length>0?(e.properties=this.$refs.propertyPage[0].getData(),null!==e.properties&&void 0!==e.properties||(e.properties=[])):e.properties=[],void 0!==this.$refs.areaAllocPage&&this.$refs.areaAllocPage.length>0&&(e.area_alloc=this.$refs.areaAllocPage[0].getData()),void 0!==this.$refs.parentsPage&&this.$refs.parentsPage.length>0&&(e.parents=this.$refs.parentsPage[0].getData()),void 0!==this.$refs.shopPage&&this.$refs.shopPage.length>0&&(e.shop=this.$refs.shopPage[0].getData()),e.company_id=this.company_id,e.hasOwnProperty("area_alloc")&&e.area_alloc.hasOwnProperty("company_ids")||(e.area_alloc={company_ids:[this.company_id]}),e},setData:function(e,t){for(var r=0;r<this.form.length;++r)this.form[r].id===t&&(this.form[r]=e)},nextPage:function(e){e.preventDefault(),this.showNext=!1;var t=this.getData();t.hasOwnProperty("details")&&t.hasOwnProperty("personnr")?t.personnr.valid&&(this.$refs.detailsPage[0].setBirthdate(t.personnr.formatted.year+t.personnr.formatted.month+t.personnr.formatted.day),this.age=t.personnr.age):t.hasOwnProperty("details")?this.age=t.details.age:t.hasOwnProperty("personnr")&&t.personnr.valid&&(this.age=t.personnr.age);for(var r=0,n=0;n<this.pages.length;++n)if(this.renderPage.id===this.pages[n].id){r=n+1;break}this.pages.length===r?console.error("next page will be beyond the pages length"):this.renderPage=this.pages[r],this.regdata=this.getData(),this.renderPage.valid&&(this.showNext=!0),setTimeout((function(){Object(b["a"])(JSON.stringify({height:document.body.scrollHeight}))}),300)},previousPage:function(e){if(e.preventDefault(),null!==this.renderPage&&void 0!==this.renderPage)for(var t=0;t<this.pages.length;++t)if(this.pages[t].id===this.renderPage.id){if(t-1<0)return;return this.renderPage=this.pages[t-1],this.showNext=!0,void setTimeout((function(){Object(b["a"])(JSON.stringify({height:document.body.scrollHeight}))}),300)}},isIdCurrentPage:function(e){return null!==this.renderPage&&void 0!==this.renderPage&&this.renderPage.id===e},isAllPolicyChecked:function(e){this.accept_terms=e},isValid:function(e,t){this.isIdCurrentPage(t)&&(this.showNext=e),console.log("Main.isValid: valid: "+e+" id: "+t+" showNext: "+this.showNext+" currentPage: "+this.isIdCurrentPage(t));for(var r=0;r<this.pages.length;++r)this.pages[r].id===t&&(this.pages[r].valid=e);var n,a=!0,s=Object(o["a"])(this.pages);try{for(s.s();!(n=s.n()).done;){var i=n.value;if(!i.valid){a=!1;break}}}catch(c){s.e(c)}finally{s.f()}a&&(console.log("Main.isValid: all is valid"),this.pages[this.pages.length-1].id===this.renderPage.id?(this.showNext=!0,this.lastPage=!0):(this.showNext=!0,this.lastPage=!1))},doSparLookup:function(e){var t=this;console.log("doing personnr lookup"),console.log(e),u.a.get("/client/spar_personnr?company_id=".concat(this.company_id,"&in_personnr=").concat(e)).then((function(e){200===e.status&&(t.spar=e.data)})).catch((function(e){console.error(e),t.toastr("danger","OK","Kunde inte göra SPAR uppslag")}))},membershipClicked:function(e){this.showNext=!0},shopItemsUpdated:function(e){},submit:function(){},loadData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.company_id=e.$route.params.id,e.loadRegistration(e.company_id),e.loadRegions();case 3:case"end":return t.stop()}}),t)})))()},loadRegistration:function(e){var t=this;u.a.get("/company/public?company_id=".concat(e)).then((function(e){t.company=e.data.company,t.memberships=[],t.extras=[],t.company.shop_items.filter((function(e){1===e.meta.is_member_fee&&Boolean(e.is_active)&&t.memberships.push(e),0===e.meta.is_member_fee&&Boolean(e.is_active)&&t.extras.push(e)})),t.accept_terms=!1,t.registration=e.data.company.registration;t.pages=t.registration.pages,t.pages[0].state="current";for(var r=0;r<t.pages.length;++r)t.pages[r].first=!1;t.pages[0].first=!0;for(r=1;r<t.pages.length;++r)t.pages[r].state="pending";t.renderPage=t.pages[0],setTimeout((function(){Object(b["a"])(JSON.stringify({height:document.body.scrollHeight}))}),300)})).catch((function(e){console.error(e),t.toastr("danger","Server Fel","Kunde inte hämta registreringswizard")}))},createAccount:function(){var e=this,t=this.getData();u.a.post("/client/public",t).then((function(t){201===t.status?(e.created=!0,Object(b["a"])(JSON.stringify({register:!0,client_id:t.data.client.client_id,token:t.data.token})),null!==t.data.order?(console.log("there is a order needed payment"),e.$router.push("/payment/"+t.data.client.client_id)):console.log("No payment order, were finished")):(e.error=!0,Object(b["a"])(JSON.stringify({register:!1})))})).catch((function(t){Object(b["a"])(JSON.stringify({register:!1})),e.error=!0,console.error(t),e.toastr("danger","Server Fel","Kunde inte skapa medlemskonto")}))},toastr:function(e,t,r){this.$bvToast.toast(r,{title:t,autoHideDelay:2e3,appendToast:!0,variant:e})},loadRegions:function(){var e=this;u.a.get("/location/regions").then((function(t){for(var r in e.regions=t.data.regions,e.regionOptions=[],e.regions)e.regionOptions.push({value:r,text:e.regions[r].region});e.regionOptions.sort((function(e,t){return e.text<t.text?-1:e.text>t.text?1:0}))})).catch((function(t){console.error(t),e.toastr("danger","Server Fel","Kunde inte hämta regioner")}))},selectRegion:function(e){this.loadCommunes(e,1)},getCommunes:function(e){var t=[],r=this.regions[e].communes;for(var n in this.communes=r,r)t.push({value:n,text:r[n].commune});return t.sort((function(e,t){return e.text<t.text?-1:e.text>t.text?1:0})),t},loadCommunes:function(e,t){this.communeOptions=[];var r=this.regions[e].communes;for(var n in this.communes=r,r)this.communeOptions.push({value:n,text:r[n].commune});this.communeOptions.sort((function(e,t){return e.text<t.text?-1:e.text>t.text?1:0})),1==t?this.communeOptions1=this.communeOptions:this.communeOptions2=this.communeOptions}}}),Lt=Dt,qt=(r("c5af"),Object(f["a"])(Lt,n,a,!1,null,"04310e01",null));t["default"]=qt.exports},fe87:function(e,t,r){}}]);
//# sourceMappingURL=chunk-9fe810ac.deaedb2e.js.map